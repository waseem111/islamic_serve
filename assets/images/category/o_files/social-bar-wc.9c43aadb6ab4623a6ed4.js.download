(window.webpackJsonp=window.webpackJsonp||[]).push([["social-bar-wc"],{"6ADy":function(e,t,o){"use strict";o.d(t,"b",(function(){return l})),o.d(t,"c",(function(){return d})),o.d(t,"a",(function(){return p}));var n=o("rvYQ"),i=o("I6Lx"),r=o("kN1G"),a=o("tMmC");let s,c;function l(){const e=Object(n.b)();if(!s){!function(e){s=new URL("",e),m(s)}(Object(r.j)()&&Object(r.k)()?e.EnterpriseServiceUrlBase:e.ServiceUrlBase)}return s}function u(){const e=Object(n.b)();if(!c){!function(e){c=new URL("",e),m(c)}(Object(r.j)()&&Object(r.k)()?e.EnterpriseServiceUrlBase:e.FeedServiceUrlBase)}return c}function d(e,t=l()){return new URL(e+(null==t?void 0:t.search),t)}function p(e,t=u()){return new URL(e+(null==t?void 0:t.search),t)}function m(e){let t=!1;"dev"!==e.searchParams.get("env.service")&&Object(i.a)().UserIsSignedIn&&(t=!0),a.a.log("u-si: "+Object(n.b)().UserId),a.a.log("a-si: "+t),a.a.log("ss-si: "+Object(i.a)().UserIsSignedIn)}},"8ODJ":function(e,t,o){"use strict";o.d(t,"a",(function(){return T})),o.d(t,"b",(function(){return k}));var n=o("D57K"),i=o("WO7E"),r=o("6BDD");const a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAAAqCAMAAAC6LibpAAAC8VBMVEUAAADVdyTvtzPZlyHMXh61aQ6wZAzdnSP1vzvytiz5vzK9cRL7wjLzuS+5bRC2aA7xti7mZDK0aA6yZQzyuDDNNBHGeRf0uzAVndjJexkAAADHgBfMhhrgoSfVRBPbgivtXFDtsCz8wjO3XAzGJBcABwrBHRDvXVHYPTHhZCCxZQzQPgnsW0/vsyzXQh22LAkPX4LkVjnZRSXCHxHKgxnpXj7foCToV0IGO1TMaRskYnkUl9A+qdiJTgrdoy8OjcL+kYj////+xTH/wyz/xjT/xC7/wij+yDr/yT7T8fn/1Wf/02H9ykP8vij/2G74tCMBAQD+zEn/zEbrbS7/yDf9vzD0dWv6uSP6hnz2enCYZTf+vyP/tQLuZFj/0FT/zkv/2nT/01z7uiv/3HqwZQz/uAr4fnT2sCL/vRr5gnj/0Vr+0Ff/zk//uhL/konycGbyqB7wal/ueTH4vTIyFQz0rR3SjBz8ioD/z1HwhTX9jYPrrSrnlBbusi3uoBvwpRr4xUP/y0Lzty3mpybYlR/rmxjzlDm2bA/Ikiv3qT72oT7BeBL/3oT5yFD5sEHyjTW8hCFqQyDXhRLrXFD7uDj6sy/Gjh68cxD1mzixfB7lohrZjhO8kkr5rC/fihbSp1X3ojFbNSDw9/nkU0f7ukWmczblYSJNKxaP1O/f4N3NLyGw4vNmwuj/+OTht171pijLhBfCHhDC6vb967t6RjTFgBal3PCin55ra2vwxGLdSDvukCnPfhHZTg/M7vj+8dD4zmLfpkSwgT/MlRtAIhDTz8v9453kvmfouFLkskfnaijccSPgWhvCbhHQoELW7et4yutMuOWKfniUaiDQPwH/+/Hn0YH40m/WPTCEWiAfICC5ZhCM0OnPlzLOaxuNXhPi9vzBvr2juqz92Hfuw1BAQEDTnBzK4Nzi47/n2JbURAY0ruHu7t/OypfGuW4wMDBenbGQlZC/v4mYezChdhSOw8FQUFBltdMgFwKr1tggFwEwmJIlAAAAQHRSTlMAEPtAH4VB/v4fm2NAfqC2YkDP38NGQDD9kCfhy8mbMOXf2TCHNOGB6dLv1bWSgmNiYMKsn5mQbxPTQtP5y7efBh/q1QAAEQNJREFUaN6slntsS1Ecx6tIO494DX948wfiFeLxn7httTf3VtPWutBqraZytb2EBmNpjIln65FWsEw2oxN/VCQlXpHNa2ZZSDBjiXiTiBAiiL98z7mn9OEZPu127z3n3F/u5/x+59yqfsHATqr/QEEPMPB3owb27kbo2ft3Izv9UTyM69IfjFL9BYUbwz3/UbZHt0K12gDU6sJuPX4xTGsw8Ga73cYbDCN/OXCkgfKrYaD/0HF3GOOG9lf9Gb03Nj6r7PzDuev0y4bvEWZecoJLJSXKcUjvH1sUOkwBoZTRWGZyjPyxS+9CnSnoFUpKSiwWr82kG0nj5TNpyp1XF1rr61ta6utbL7y6M27SnyW4orRUPSS3tc+04W63e/j4yd8aRrOGfI+E05morq6uKS2twYFcjSjIn77CUEXa9ml7NZmYZlOoW/7AHiMdZgz8jmh2jCz4QXbHvbpQPzcDOI/r8gdLL9xYWvpMk6M73r2ieMnSpfNXuIcPU4Fh493u4iVLlhSjoU/W0J7lePRrJRmcrXYmynvmrt2RoUBJmuO4o/1sjfN4QJun0hPzooRpLylpVwKL2lDeoptIdHOov/Bq4m+Fu6mfRiLPNmW1jY6tmLdsFmWeOzZapZox3D1v1veGzNtDCWeNJaiXZZdBDBgkWTLaLDXOS6EJ2b5qrWBJcxZ30GO7RdCqsS9lxYuiB7V8jQyqdl6jF5Yo4mUx9EKrIrkyDcvy0F/rIkGNkUjk+uBs3+JZs5bhQymOjR4dW74OZ6wRDd+fb2PgeI0o+xb4MpDFmuPRjd1yfIXG4zWo++OCYGl2yQt8LrtFsOQYYwMNWChwPW6xoBTYJeJl+9Yrsmu/gYvfG8M3GgGaqRltM+DLYMax5RDNbJjxzTcqCF7ZZ0u1cQ1NRimS5NpSAZ8cEITMJyxQa8XGaicl4ZMkn08ykn9eQRBErZpVNYunUONMCOCSExMEaLwcX2K7a9dmxq5dxBll/UvjCYrv2dUZi73L8BVrMvxwtjzGThjrlg9XxvcMR0VRlOQIR0kmlWNElkQ84beXXacRaq/YeKl666aq9YvM8oIF9hR3tePzVlny4HavegQ2/3Q8AXeKonA24TwrQrPZiSM5EWk8xkT4El3Y7t+/nbJ/P5yJMoxn/HS/KiyPYheMRDZlVvS02NI1TDVd2KjnTNbMi01T9rsKPPAGycLlUCqZ0FER7pGe1oAXFPmkSBt3y/rlLoa8tVrfRiSXH+2BMF2fLB6lOeG8IVKQ6WbWqE3H69IKX6JLZbdRqDRRhnFrn5/86BkRbnxaCppPDMtI8OEV89ZQU6jmsowJrzhMkjIi7Pd7/UYJiT125vlpDrz7eOYYx7VJLi9U1IWKR7nWD4I+qYHjrlqt1ncY+Nxqfc5FXLwfaMuxjGk8rxcB/c2o/gf2hV5QZn/gdFY3oxldiEcZ24r0IrtUdmcaSBNlJLl1yo9f72o19n/4tq/OXMGTD8+ft2ZdOr8EqGc5r1szb8nhGQhQHg0EAh6XTUmYFcanrfDApc3lQVe0vLeSYE/A4/EYfU3oqVMGYoYwM0mXzgPKymeqAI0HUMaJqgULFsi8XcKhCi/2ZtrB4k1uRX5JeqntEQZVVozntk7O18V6qRCw5YOLgzJf1+NjS5ZCOEuRCbMjEY6NR0LUHhA0+vH8VnCG486QIy79xqAH0N8zBZXaMoI8myM8PgPfNGY97dJWKgXjoURvVPkkQbD5gE0ISD7NDY9CeAhNcD3z3X4/cRGqaePEyYvMuH7sD3w3whfg5X6ie2bHFPeSpahpuOGb7c1YN2/pEvdwVefKiiBYqPdkZ7gDl6LeFiwLllWQn6y9K80LFy4MbpCDXB52/UKCrRKpQ7yyYBDfoE7mk+hskmVSE0le1gUVaLw+ad+d224f2nNAdlSAOasO7Dl0/+LOtHHeKi4gL0YYg+unsnrOUWH22s00RaJZRRPhc6rplcrD6vg2VOjzjlscONPx/CqeUWewLVyIb+V0lWpIuY3AY2/Lw6Sz29FnLx+iQjwbwpE/yZjkTqPiI03cMdRD0igp0ZR401qILynnuG89lE/JPE91X/gWxZlxy7QsJ/aiYMbXB3UfMCpTeD6M1zHTXFiC57vPQcRO4YsiuR5NBl7pIzWoUZsJGyRznm9KV2Q3m/ENa1Qknk0J6BJIqXTUtSW5DlI4JS4ajsUbO1fJbzwuV8kyUb58mejKqy7LcRjXwnhubk13CwewzwuUxq37tizu1ytd12Ni81mKGTnqSDCEY2MgsmHDBjO+JlOKo7S1MQ+TiXWpNZ06abQ8xeVqyPFts+lMPEWtKWATs8FsNhmf0s2gDoVDt4anRhOCEdSYmJaVu/bXEt85l63Wox8uV93fvfv+i1UPr1itB1yK8a6VLTkbdLjC7xWZMnh2/cGOxf26KsKHi78bL8vfuqjv/MNThmlCPMNsjpA11yAEiFKyyWzmGRs1BZ01IRNF5/Jn+yYDOgPaefyFNMO+xzPNFrljHRBtaIB4xzFOnG1iXSFNwbC5azfX1h6Mx+Mu/ZOPmJDPe6qqiK3142O9hOaDtbWb187tkrWAR2gDfmrMlEUQ3bq4L9krh54jwtk5pjsYyy8VLj43kYgweFRlGV6ZoMzrtduRc0ZoU+fOm0JFCkajkFQqoOhpqiEV4XU6A+tSxpkYRUWpurqXdXVPBRxu1qUMhox4fVqQ4IN743EHJvAJeQ1aP3ywkk3zFud3OeLxvQeR4pasXaswHPQQY6rMwHv92RaS4/733DTFmRtXbkEXu+/1wQMayPMaQBFPtx6Y2wBfZCAf8lVEdAaCzqDXm0tTqSZRr5+tI6CddSnjDIDeyPNNrx+9buf59teP6pps2je0Ax8qfL6WCDscejv3GJ7HOJP+dR1d7KLe4SDCtecV4U4FlJ7l2jIPjKEM50YvZKHrDwQe9CODUNOZxsuydWlBFx8eoyIieOQscIkm1oyjIrJRp4Ce2YCcKFff2ZgxMWg3mbN4/4kFZ8Lw3etwIEIDd/XWYw4VgO0cJ0nc6gjthbEiPPBre2Ya2kQQhuH1iC0UrAeKt+CFB3igiCdiTiMJpVIVrVUMkYgHpthGMWkSU0OEIJiIKW0kEkUSm1Db2EbUUI9Gq0hrqyBK64l44IEn4j/fmZ3NxsaooD/84dNYt/Hz3X3mm51Ot3igtHKno8Kcu2EbjLEXgvPFs1sAdLEZuj+I7szvlqaM93w3nVO+pXdncX1MDnJO6U9xmPr0NZlRl4nD99CTw45XVpjG0jwBuWZFoUYlhzkef+383NHK6pA38AYR1kFYrlp/gSwdKzDXr5KD9fgfK1fqiPANIjxOXqQCdnth4YZtTHnr9WoRV3+OtvjcjlVrqDGU4ZyuS3133J3McRkit0NlZcFq9oUo0stUiYtDXxX2F3cUKe6VgWoF7flKXaVJzMugNR5/TA8UJK9vShjDgWdByzWaIrlGs4UcqKQp4bEQkUthTNbUFbwxVa7bLwJhwpDa49QYSxeUdxFpfIYu2kt9j9cOQRkREQUcnjKKx6GgSAURbmQOrk4G7qjVd3bK8L4MBEO3j/RWKC6+eKlYqdXhxzUMjA55mez8GlHHMVRC3o3zpyBMS4vImqGRYjjpgQpHVPjU+Rvk4ZhcJi1SwXivZkVKubVuNw/2iBty9P2o8YTaQztW0SZDmQFbXpf4TufAqBydDiI8itvJ0PuTV86EkrchRD5kTIQbbirQaZnwzWc44tm4cYPs4gu1Wi3T6gpMw1N5CiBjCQry+hB+tDTSnSuTsbwpN6gwjAHpe/qBjBe+MYUIS4tlcmqs4Y2hfLaubhsP9m6Fdn0e20/XlsCYdVkAusx3AgeYCMOcTF5ZCq4kk89kDCYytL4ShUqZ0g67oxVKhkJz56Qa3Kx8VlBZP1TIy+D65/ixY4+6n7A81PHCsizwwsPp48DNME71GMoHzrYevcZ2qYXY1uWiw5Re0zCraZPhzCC20IXvGA4IIlqZkvAwdGsp5VbyIS+kxfXVQARz2mQghUrlTbX6bSXzlb/EV4Q3LT7jvpFc2sAIOHJaWhzat9HmR48eRaJ1Qt7QB+dPHUYh5PAnDSUb5sOnzj8YSoQd29OM90L3bGvd0aP7RaoG9+WY8WxiTLsssArgrXPwZYwSREAwhAbTFoeCKV+DiYhweU01hoLVWq32BfSeKUGxVNC9CV9fTVOemMcCHbf5RSH0riPWrG6ORZ+k8ubzLVYyKg9WV7fk4EBGXlra4PkcFV4HYwVvjC3CgQOFhdcutR8UYQ1m9/G50h3UmcJ0S8+x+SyK0Cs0h0JLeY6FQgUw0q5eXWCgImBkvRGFOiL8fD/+NU33vs/n21c/skceLEJljC8d8UgkEu/4nMrLQ4vZyGBcWGHoXiUbZwManEeFK9YJxlQZ23TN9UuXsJXVkK053sFOK8244W5JKZxFSktLahtmcCKjqAgusdgcbFzKCAbNxVrqa4QIZajbbyxH5fNmdfz5nZcnqSzk37a0EF+/u6+YZ0AeAnOw3l++/rT9iOddd3c4HO7uflJubGJ58x+cIgMI40/JsqTn9sePHz3JsrKHWoDznnownz2RXUeNlXJeGRDhoiKVhm3a9RAWGTKp9lApBaqU47WTxnMiEDFBhCibg0Ghw8FgAdUtNzIRIHH7baiMx9SRWAwzlPV3v8/XUmPzuyU982Bc3b5xQ5G0aMPTN/EoIf7BJuThLvbCmNR5kh/te7G/XbbXfiQUIueFb+ABXzegch3YBGM0uYg6q65fug59Igv2YUqn03dSwzk0mVFScq5hNpLSGc6L4NSeoHAPBxvJacuNogjoX+W32o6GI82QTdH8wVdjs/qrhmfmAaWqmNC7Th3u7OwMNx9NyxveFjAaiXJFLsYGH+SlMhPdcmOgjdX1gTAx3k6V5UQZwu2+gwJig1NLF6a1AKbzBK4n+W6LlV7iPY+wSntOkLMSEWxj0oy9zrcdMBZ1I93vmyxOL8oy8+DCKK+5cywWiR17WZ9emN9moWWoEykwkBMH2oS6Xjk2ZkyUZVLinItFy8fQi4FpN3LtIV73eMOkIVwGvQZBhFzifY+Htvikx9NOdCEyiEtH4kocicI4xnRj8Xj3E3dTwiX5YV65wUB04FCT03r6wovWJlf/7+raAqysgEFsceJAl1g3Gs8+RWU4Y3tyqb0Cq6YU38SKsevIADdyA4zJdJ5EpnOmcb4rYXE6rY4TjY2PT74+09h4wmF1Oi0JV/9eXA/j6s7OaDguNjn8RP9wat6P82w2oxE++GTd5/ebvFXMV6zrSjitVlpFMRJbqzMB3xRz90FWVN4M6WJde0UxYfNmm3gH97iRj5eU3G2YLV5/T5Eqr8XizF3bSFmba7VYcH2SzKT8d686ox1QjsQIkeith4v7ZsuDNAWDF/AmXJl5kq62AK3C4Nj4SmegrSu9ro/JVF/f5HZXuf1O/LYP0rBebYD5dvz6r2owlwlbuu7i9s3K+MG4xIDZfn8tdC/bzQHoDvrh4C0YNowod4QJHYveLZ4xImueJUWWPNR1tXktwAnI39DtUZc3Z86c/iBfr3e5vRYbrAGxXed3TWW1mcxuyOrLcgfrXW37ettBb5PbpRceCGYaL4TyK8zsaLTz1aKZEyfOy56X8HoD6G2C5WWp60JdAHgT7q6sdaCfJH+qXq+vcif8wOvWT5X0yi40Q9xtZM0bpNe7m5pcev0gSb/sdfOWQJlnIXxH/CyPwvL+rI4xvl+eJD9/8FT91MH50P1TkAf6/ipoxMQFM8GCiWDEb+T97nm5f5Z580Yw5nH/+Yt8A+y/eOHRvDWsAAAAAElFTkSuQmCC",s=(e,t)=>`.${t} > div.emoji-icon {\n    background-image: url("${a}");\n    width: ${e}px;\n    height: ${1.125*e}px;\n    background-size: ${e*Object.keys(i.a).length}px auto;\n    background-repeat: no-repeat;\n}\n${Object.keys(i.a).map((o,n)=>`.${t} > [data-type="${o}"] { background-position: -${e*n}px 0;}`).join("\n")}`,c=(e,t)=>`url('data:image/svg+xml,%3Csvg width="${t}" height="${t}" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg"%3E%3Cpath fill-rule="evenodd" clip-rule="evenodd" ${{likeMaskImage:'d="M2.7 28H28V0H1L.3 2.3l-.4 1v5.9l1.2.3c1.5.4 2.6.9 3.4 1.5.8.7 1.3 1.5 1.3 2.5a4.2 4.2 0 01-.4 1.7 1 1 0 000 .3c.6.8.9 1.6.8 2.5a2.3 2.3 0 01-1 1.8v.4c.3.7.3 1.4.1 2.1a3 3 0 01-1 1.7c-.5.3-.7.6-.7.9v.7c0 1-.4 1.9-1 2.4z" fill="%23FFC700"',loveMaskImage:'d="M0 23.2V28h28V0H0v.3a10.7 10.7 0 017.8 12.4 16 16 0 01-5.7 8.8L0 23.2z" fill="%23FFC700"',circleMaskImage:'d="M1.3 28H28V0H1.3l1.4 1.3C6.2 4.6 8 9.3 8 14a17.2 17.2 0 01-6.7 14z" fill="%23FFC700"',likeMaskImageRTL:'d="M28 13.4432V0H0V28H28V27.9606H24.6812C23.9528 27.9606 23.2572 27.5051 23.0133 26.7486C22.8826 26.3432 22.7714 25.9262 22.6904 25.4899C22.258 23.965 22.0436 22.36 22.0005 20.8064L22 20.7898L22.0004 20.7732C22.043 19.0186 22.171 17.2069 22.4727 15.4315L22.4786 15.397L22.6553 14.7781C22.8814 13.9867 23.5867 13.4432 24.3877 13.4432H28Z" fill="%23FFC700"',loveMaskImageRTL:'d="M28 0H0V28H28V24.0646C26.6312 23.0066 25.2744 21.9085 23.9784 20.7129L23.9768 20.7114C21.7049 18.6011 19.7588 15.9392 19.1724 12.7661L19.1717 12.7619C18.635 9.73528 19.3673 6.65994 21.221 4.15415L21.2256 4.14796C22.8656 1.9878 25.2984 0.558465 28 0.13032V0Z" fill="%23FFC700"',circleMaskImageRTL:'d="M26.6749 0H0V28H26.6429C26.1637 27.6039 25.7043 27.1811 25.2673 26.7327C21.8516 23.4034 19.9163 18.7723 20.0028 14C19.9163 9.22999 21.8499 4.5982 25.2673 1.31048C25.7146 0.845747 26.1846 0.408516 26.6749 0Z" fill="%23FFC700"'}[e]} /%3E%3C/svg%3E')`;var l=o("P4Ao"),u=o("oePG"),d=o("QBS5");class p extends l.a{reactionCountsChanged(){this.updateState()}maxNumberOfEmojisChanged(){this.updateState()}keysChanged(){this.updateState()}updateState(){this.mostReactions=this.keys||this.extractMostReactionsFromReactionCounts(this.reactionCounts,this.maxNumberOfEmojis)}extractMostReactionsFromReactionCounts(e,t){return e?Object.entries(e).filter(e=>e[1]>0).sort((e,t)=>t[1]-e[1]).map(e=>e[0]).slice(0,t||3):[]}}Object(n.d)([u.d],p.prototype,"reactionCounts",void 0),Object(n.d)([u.d],p.prototype,"maxNumberOfEmojis",void 0),Object(n.d)([u.d],p.prototype,"keys",void 0),Object(n.d)([d.b],p.prototype,"mostReactions",void 0);var m=o("CzTk"),h=o("4X57");const g={angry:"circleMask",like:"likeMask",love:"loveMask",sad:"circleMask",surprised:"circleMask",thinking:"circleMask"},b=s(16,"msn-social-most-reactions"),v=h.a`
    .msn-social-most-reactions .emoji-icon:not(:first-child) {
        margin-left: -3px;
    }
    .msn-social-most-reactions > .likeMask {
        -webkit-mask-image: ${c("likeMaskImage",16)};
    }
    .msn-social-most-reactions > .loveMask {
        -webkit-mask-image: ${c("loveMaskImage",16)};
    }
    .msn-social-most-reactions > .circleMask {
        -webkit-mask-image: ${c("circleMaskImage",16)};
    }
`,y=h.a`
    .msn-social-most-reactions .emoji-icon:not(:first-child) {
        margin-right: -3px;
    }
    .msn-social-most-reactions > .likeMask {
        -webkit-mask-image: ${c("likeMaskImageRTL",16)};
    }
    .msn-social-most-reactions > .loveMask {
        -webkit-mask-image: ${c("loveMaskImageRTL",16)};
    }
    .msn-social-most-reactions > .circleMask {
        -webkit-mask-image: ${c("circleMaskImageRTL",16)};
    }
`,f=h.a`
    .msn-social-most-reactions {
        display: flex;
    }
    ${b}
    .msn-social-most-reactions > .emoji-icon:nth-child(1) {
        z-index: 2;
    }
    .msn-social-most-reactions > .emoji-icon:nth-child(2) {
        z-index: 1;
    }
    .msn-social-most-reactions > .emoji-icon:nth-child(3) {
        z-index: 0;
    }
`.withBehaviors(new m.a(v,y));var C=o("UNqU");function O(e,t){const o=t.indexOf(e);if(!(o<1))return t[o-1]}const w=r.b`
    <div class="msn-social-most-reactions">
        ${Object(C.c)(e=>e.mostReactions,r.b`
            ${(e,t)=>{return o=e,n=O(e,t.parent.mostReactions)?g[O(e,t.parent.mostReactions)]:"noMask",r.b`<div class="emoji-icon ${n||"noMask"}" data-type=${o}></div>`;var o,n}}
        `)}
    </div>
`;let T=class extends p{};T=Object(n.d)([Object(l.b)({name:"msn-social-most-reactions",template:w,styles:f})],T);const k=s},"9y7U":function(e,t,o){"use strict";o.d(t,"a",(function(){return n}));const n={selectPpeParameter:"oneservice_enable_ppe",externalUrls:{api:"https://assets.msn.com/service/community/",cnApi:"https://assets.msn.cn/service/community/",ppeApi:"https://ppe-api.msn.com/community/",guidelinePage:"https://www.msn.com/en-us/community/guideline",profilePage:"https://www.msn.com/en-us/community/profile/",privacySettings:"https://www.msn.com/en-us/settings",profileSettings:"https://account.microsoft.com/profile",feedbackForm:"https://forms.office.com/Pages/ResponsePage.aspx?id=v4j5cvGGr0GRqy180BHbR-V3gf69zQlBm1dJVuXA8mtURVI4UlFHMDRIR0VCWDFWNUQyQU5HVzJJQi4u",copyrightReportForm:"https://forms.office.com/Pages/ResponsePage.aspx?id=v4j5cvGGr0GRqy180BHbRziAYhqL1o9IrEi_GLF4l4hUQVFUVldIVFRCSzQ3NEVOTURNQ01BTE9YSi4u",moderationEmail:"Appealsprocessor@microsoft.com",newPost:"https://www.msn.com/en-us/community/post/new"},userStateType:{existingUser:"existingUser",anonymous:"anonymous",newUser:"newUser"},userNameStatusType:{normal:"Normal",notAllow:"NotAllow",inReview:"InReview",unknown:"Unknown"},userAvatarStatusType:{normal:"Normal",notAllow:"NotAllow",inReview:"InReview",unknown:"Unknown"},userAgeGroup:{under18:"Under18",above18:"Above18"},userSubType:{default:"Default",publisher:"Publisher",creator:"Creator"},activityType:{follow:"Follow",reply:"Reply",reaction:"Reaction",badge:"Achievement",moderation:"Moderation",commentDeleteAlert:"CommentDeleteAlert",profileBannedAlert:"ProfileBannedAlert",profileErrorAlert:"ProfileErrorAlert"},moderationErrorType:{takedown:"Takedown",ban:"Ban",notAllowName:"NotAllowName",notAllowPicture:"NotAllowPicture",approveUserAppeal:"ApproveUserAppeal",rejectUserAppeal:"RejectUserAppeal",approveProfilePicAppeal:"ApproveProfilePicAppeal",rejectProfilePicAppeal:"RejectProfilePicAppeal",approveCommentAppeal:"ApproveCommentAppeal",rejectCommentAppeal:"RejectCommentAppeal"},visibleStatusType:{Normal:"Normal",DeletedByUser:"DeletedByUser",DeletedByAI:"DeletedByAI",DeletedByHI:"DeletedByHI",InReview:"InReview"},visibleStatusMap:{DeletedByUser:"VisibleStatusDeletedByUser",DeletedByAI:"VisibleStatusDeletedByAI",DeletedByHI:"VisibleStatusDeletedByHI",InReview:"VisibleStatusInReview",Default:"VisibleStatusOther"},commentReportMap:{Spam:"ReportOptSpam",Profanity:"ReportOptProfanity",Abuse:"ReportOptAbuse",RiskyLowAuthority:"ReportOptRiskyLowAuthority",TechnicalAttack:"ReportOptTechnicalAttack",Copyright:"ReportOptCopyright",Trademark:"ReportOptTrademark",ChildRelated:"ReportOptChildRelated",Violent:"ReportOptViolent",Danger:"ReportOptDanger",PublicThreats:"ReportOptPublicThreats",Illegal:"ReportOptIllegal",Terrorism:"ReportOptTerrorism",Privacy:"ReportOptPrivacy",Inappropriate:"ReportOptInappropriate"},userNameReportMap:{Spam:"ReportOptSpam",Profanity:"ReportOptProfanity",Abuse:"ReportOptAbuse",RiskyLowAuthority:"ReportOptRiskyLowAuthority",TechnicalAttack:"ReportOptTechnicalAttack",Trademark:"ReportOptTrademark",ChildRelated:"ReportOptChildRelated",Violent:"ReportOptViolent",Danger:"ReportOptDanger",PublicThreats:"ReportOptPublicThreats",Illegal:"ReportOptIllegal",Terrorism:"ReportOptTerrorism",Privacy:"ReportOptPrivacy",Inappropriate:"ReportOptInappropriate"},userPictureReportMap:{Spam:"ReportOptSpam",Profanity:"ReportOptProfanity",Abuse:"ReportOptAbuse",RiskyLowAuthority:"ReportOptRiskyLowAuthority",TechnicalAttack:"ReportOptTechnicalAttack",Copyright:"ReportOptCopyright",Trademark:"ReportOptTrademark",ChildRelated:"ReportOptChildRelated",Violent:"ReportOptViolent",Danger:"ReportOptDanger",PublicThreats:"ReportOptPublicThreats",Illegal:"ReportOptIllegal",Terrorism:"ReportOptTerrorism",Privacy:"ReportOptPrivacy",Nudity:"ReportOptNudity",NonConsensualIntimateImagery:"ReportOptNonConsensualIntimateImagery",Inappropriate:"ReportOptInappropriate"},reactionOrder:["like","love","surprised","thinking","sad","angry"],profileReportItemMap:{UserName:"ReportUserName",ProfilePicture:"ReportProfilePicture"},profilePageEmptyStates:{NoUser:"NoUser",NotSocialUser:"NotSocialUser"},reactionIconMap:{like:"emj_like",love:"emj_love",thinking:"emj_thinking",surprised:"emj_surprised",sad:"emj_sad",angry:"emj_angry"},reactions:{like:"like",love:"love",thinking:"thinking",surprised:"surprised",sad:"sad",angry:"angry"},responsiveLevels:{L0:"cwtl-0",MobilePopup:"cwt-mobile-popup"},newCommentErrorCodeMap:{400:"NewPostDeniedMsg",403:"NewPostSessionExpiredMsg",500:"NewPostWentWrongMsg",bodyTooLong:"NewPostTooLongMsg",other:"NewPostWentWrongMsg",0:"NewPostWentWrongMsg",1:"NewPostSessionExpiredMsg",4:"NewPostDeniedMsg",6:"NewPostWentWrongMsg",7:"NewPostWentWrongMsg",8:"NewPostWentWrongMsg",9:"NewPostWentWrongMsg",10:"NewPostWentWrongMsg",11:"NewPostWentWrongMsg",12:"NewPostTooManyCommentsMsg",20:"NewPostTooLongMsg",21:"NewPostMentionMsg",22:"NewPostWentWrongMsg",23:"NewPostWentWrongMsg",24:"NewPostDeniedMsg",25:"NewPostWentWrongMsg",26:"NewPostWentWrongMsg",27:"NewPostWentWrongMsg",28:"NewPostDeniedMsg",29:"NewPostDeniedMsg",30:"NewPostDeniedMsg",31:"NewPostDeniedMsg",32:{1:"NewPostDuplicatedMsg",2:"NewPostDeniedMsg",3:"NewPostDeniedMsg",4:"NewPostDeniedMsg",5:"NewPostDeniedMsg",6:"NewPostDeniedMsg",7:"NewPostDeniedMsg",8:"NewPostDeniedMsg",9:"NewPostDeniedMsg",10:"NewPostDeniedMsg",11:"NewPostDeniedMsg",12:"NewPostDeniedMsg",13:"NewPostDeniedMsg",14:"NewPostDeniedMsg",15:"NewPostDeniedMsg",16:"NewPostDeniedMsg",17:"NewPostLanguageErrorMsg",18:"NewPostURLMsg"}},theme:{default:{name:"default",disabledComponents:[]},superappBase:{name:"superapp",disabledComponents:[]},windowsBase:{name:"windows",disabledComponents:[]},superappEmbed:{name:"superapp-embed",disabledComponents:["profilepage","multiloginpage","reactionbreakdowncomment","reactionbreakdowncontent","onboardingpage","onboardingthirdpartypage","onboardingunderagepage","notificationtray"]},superappFullpage:{name:"superapp-fullpage",disabledComponents:["profilepage"]}}}},AvGy:function(e,t,o){"use strict";o.r(t),o.d(t,"ToolingInfo",(function(){return nt})),o.d(t,"SocialBarWC",(function(){return tt})),o.d(t,"reactionBreakdownDialogTemplate",(function(){return Ke})),o.d(t,"SocialBarWCTemplate",(function(){return _e})),o.d(t,"SocialBarWCStyles",(function(){return ot}));var n={};o.r(n),o.d(n,"sendContentReaction",(function(){return p}));var i=o("A03o"),r=o("akWC"),a=o("C49W"),s=o("Avji"),c=o("Zn5T");const l=Object(i.a)(c.a.socialBarWC,"Social Bar WC",Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Object(r.a)({JustNow:"Localization for socialbar Just Now",NumberYearsAgo:"Localization for socialbar years",NumberYearAgo:"Localization for socialbar year",NumberMonthsAgo:"Localization for socialbar months",NumberMonthAgo:"Localization for socialbar month",NumberWeeksAgo:"Localization for socialbar weeks",NumberWeekAgo:"Localization for socialbar week",NumberDaysAgo:"Localization for socialbar {0} days ago",NumberDayAgo:"Localization for socialbar {0} day ago",NumberHourAgo:"Localization for socialbar {0} hour ago",NumberMinuteAgo:"Localization for socialbar {0} minute ago",NumberHoursAgo:"Localization for socialbar {0}h ago",NumberMinutesAgo:"Localization for socialbar {0}m ago",emojiLabellike:"Localization for socialbar Like",emojiLabellove:"Localization for socialbar Love",emojiLabelsurprised:"Localization for socialbar Surprised",emojiLabelthinking:"Localization for socialbar Thinking",emojiLabelsad:"Localization for socialbar Sad",emojiLabelangry:"Localization for socialbar Angry",emojiLabelreact:"Localization for socialbar React",thousandsShort:"Localization for socialbar {number}k",topCommentTitle:"Localization for socialbar TOP COMMENT",topCommentReplyCountText:"Localization for socialbar {number} replies",topCommentReadMoreButtonText:"Localization for socialbar Keep reading",reactionMenuAriaLabel:"Localization for socialbar reactions",ariaLabelShowReactions:"Localization for socialbar Show reactions",ariaLabelReactionButtonSingular:"Localization for socialbar {number} reaction",ariaLabelReactionButtonPlural:"Localization for socialbar {number} reactions",ariaLabelCommentsCount:"Localization for socialbar See {0} comments"})),Object(a.c)("likeButtonShowWhenHoverReaction","Enable like button show only when hover reaction")),Object(a.c)("enableReactionEmojiButton","Enable replacing the like button with thumb up to an add-reaction emoji button")),Object(a.f)("childExperienceReferencesWC","","",Object.assign({},Object(s.b)("reactionBreakdownDialog","")))),Object(a.c)("enableFilledIconOnHover","Enable filled icon on hover")),Object(a.c)("smallSizeReactionIcons","Enable small size reaction icon")));var u=o("D57K"),d=o("HAaN");const p=(e,t,o,n)=>{o?d.b.resetRating(d.a.contents,e,n):d.b.rate(d.a.contents,e,t,!0,n)};var m=o("WO7E"),h=o("TRvk"),g=o("Am8i"),b=o("u5KZ"),v=o("JnE6"),y=o("dMmp"),f=o("6BDD");function C(e,t,o="{number}k",n=!1){return e?e<1e3?""+e:e<9900?y.String.Format(o,{number:(i=e/1e3,i.toLocaleString(t,{maximumFractionDigits:0}))}):y.String.Format(o+"{plus}",{number:9,plus:n?"+":""}):void 0;var i}function O(e){return e&&e.length>0?`${e[0].toUpperCase()}${e.slice(1)}`:e}function w(e){let t,o=e;const n=e.getBoundingClientRect();for(;!t;){if(o.parentElement)o=o.parentElement;else{if(!o.getRootNode().host)return;o=o.getRootNode().host}const e=o.getBoundingClientRect();e.width>=n.width&&e.height>=n.height&&(t=o)}return t}function T(e,t){return t<=0||!e||!e.ariaLabelReactionButtonSingular||!e.ariaLabelReactionButtonPlural?"":1===t?y.String.Format(e.ariaLabelReactionButtonSingular,{number:t}):y.String.Format(e.ariaLabelReactionButtonPlural,{number:t})}function k(e,t){return f.b`<div class="emoji-icon ${t||"noMask"}" data-type=${e}></div>`}function S(){const e=document.location.href.split("?")[0].split("#")[0].split("/").pop();return 0===e.indexOf("ss-")?g.c.Gallery:0===e.indexOf("ar-")?g.c.Article:0===e.indexOf("vi-")?g.c.Video:g.c.Article}const j=e=>{b.a&&e&&b.a.sendContentViewEvent(e,v.b.View)},R=(e,t)=>{const o=function(e){const t=e?e.split("_"):[];return t.length>0?t[0]:e}(t);if(!e)return;const n=e.addOrUpdateChild({name:"Socialbar",type:g.e.Undefined}),i=n.addOrUpdateChild({name:"ReactionsPopup",behavior:g.b.Show,content:{id:o,headline:"ReactionsPopup",type:S()},type:g.e.DropDown}),r=n.addOrUpdateChild({name:"Comments",behavior:g.b.Navigate,content:{id:o,headline:"Comments",type:g.c.Article},type:g.e.ActionButton}),a=n.addOrUpdateChild({name:"Reactions",behavior:g.b.Navigate,content:{id:o,headline:"Reactions",type:S()},type:g.e.ActionButton}),s=n.addOrUpdateChild({name:"Reaction",behavior:g.b.Show,content:{id:o,headline:e.contract&&e.contract.content&&e.contract.content.headline,type:S()},type:g.e.ActionButton}),c=Object.values(m.a).reduce((e,t)=>{const n=O(t);return e[t]=s.addOrUpdateChild({name:n,behavior:P[t],content:{id:o,headline:n,type:S()},action:g.a.Click,type:g.e.ActionButton}),e},{}),l=Object.values(m.a).reduce((e,t)=>{const n="Undo "+O(t);return e[t]=s.addOrUpdateChild({name:n,behavior:M[t],action:g.a.Click,content:{id:o,headline:n,type:S()},type:g.e.ActionButton}),e},{}),u=n.addOrUpdateChild({name:"TopCommentIcon",behavior:g.b.Show,action:g.a.Hover,content:{headline:"TopCommentIcon"},type:g.e.ActionButton}),d=(e=>{if(!e)return;const t=e.addOrUpdateChild({name:"TopComment",action:g.a.Click,behavior:g.b.Navigate,content:{headline:"TopComment"},type:g.e.ActionButton});return{componentRoot:e,topComment:t}})(e).topComment;return{componentRoot:e,socialBar:n,reactionMenu:i,reactionsParent:s,reactionTelemetryObjects:c,undoReactionTelemetryObjects:l,commentsButton:r,reactionsCountButton:a,topCommentIcon:u,topCommentTelemetryContext:d}},P={[m.a.angry]:g.b.Angry,[m.a.like]:g.b.Reactlike,[m.a.love]:g.b.Love,[m.a.sad]:g.b.Sad,[m.a.surprised]:g.b.Surprised,[m.a.thinking]:g.b.Thinking},M={[m.a.angry]:g.b.UnAngry,[m.a.like]:g.b.UnReactlike,[m.a.love]:g.b.UnLove,[m.a.sad]:g.b.UnSad,[m.a.surprised]:g.b.UnSurprised,[m.a.thinking]:g.b.UnThinking},E={reactionMenuLoaded:e=>{b.a&&e&&b.a.sendContentViewEvent(e,v.b.View)},genericClick:(e,t,o)=>{b.a&&e&&b.a.sendActionEvent(e,t||g.a.Click,o)},reactionMenuTriggerMouseEnter:e=>{E.genericClick(e,g.a.Hover,g.b.Show)}};var x=o("QBS5"),A=o("oePG"),I=o("HcgY"),L=o("IqCT"),B=o("Gsg7");class D{static dismiss(){D.instance&&D.instance.remove()}static render(e,t,o){const n=o&&o.callbacks,i=o&&o.parentSelector&&""!=o.parentSelector.trim()&&o.parentSelector||"fluent-design-system-provider";D.dismiss();const r=document.createElement("div");D.instance=r,r.style.visibility="hidden",r.style.position="absolute",r.style.zIndex="900";const a=i?document.body.querySelector(i):document.body;a.insertAdjacentElement("afterbegin",r),n&&n.onMount&&n.onMount(r);const s=a.getAttributeNames().filter(e=>["background-color","direction"].includes(e)).map(e=>`${e}="${a.getAttribute(e)}"`).join(" ");f.b`
            <fluent-design-system-provider use-defaults ${s} >
                ${t=>e}
            </fluent-design-system-provider>
        `.render(t,r),r.style.visibility="visible"}}var N=o("6vBc"),U=o("+53S"),$=o("Nc2c"),F=o("UNqU"),H=o("m1Vi"),W=o("8ODJ");const V={[m.a.like]:"#FF9637",[m.a.love]:"#FF5952",[m.a.surprised]:"#FF9637",[m.a.thinking]:"#FF9637",[m.a.sad]:"#FF9637",[m.a.angry]:"#FF5952"},z={default:"default",redesign:"redesign",superappDefault:"superappDefault",superappCarouselCard:"superappCarouselCard",superappListCard:"superappListCard",topStories:"topStories",noBackPlate:"noBackPlate",noBackPlateOnHover:"noBackPlateOnHover",noPaddingReactionButton:"noPaddingReactionButton",noBackPlateOnHoverNoPadding:"noBackPlateHoverNoPadding"},G="isTabOnReaction",q=f.b`<svg xmlns="http://www.w3.org/2000/svg" class="cwt-icon-vector" viewBox="0 0 16 16"><path fill="currentColor" d="M0 3.857A2.857 2.857 0 012.857 1h10.286A2.857 2.857 0 0116 3.857v5.714a2.857 2.857 0 01-2.857 2.858H8.786l-3.5 3.062c-.724.634-1.857.12-1.857-.843v-2.22h-.572A2.857 2.857 0 010 9.572V3.857zm2.857-1.714c-.947 0-1.714.767-1.714 1.714v5.714c0 .947.767 1.715 1.714 1.715h1.714v3.312l3.786-3.312h4.786c.947 0 1.714-.768 1.714-1.715V3.857c0-.947-.767-1.714-1.714-1.714H2.857z"/></svg>`,Y=f.b`<svg width="16" height="16" class="cwt-icon-vector" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M3.5 2A2.5 2.5 0 001 4.5v5A2.5 2.5 0 003.5 12H4v1.942a.98.98 0 001.625.738L8.688 12H12.5A2.5 2.5 0 0015 9.5v-5A2.5 2.5 0 0012.5 2h-9z"/></svg>`,Z=f.b`<svg width="16" height="16" class="cwt-icon-vector" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M10.853 2.049a.28.28 0 01.033.02.9.9 0 01.209.224l.004.006.005.006c.167.223.232.621-.033 1.32-.15.383-.333.75-.548 1.1a7.76 7.76 0 01-.083.11c-.143.191-.325.433-.458.767-.037.091-.07.182-.101.273-.144.434-.013.836.24 1.117.239.265.581.425.923.476.31.046.615.11.92.193h.003c.58.156.957.333 1.18.509.205.163.254.3.254.427a.941.941 0 01-.082.374c-.071.15-.087.327-.083.45.002.07.012.158.04.248.021.067.067.185.172.286.1.145.146.313.136.485l-.001.015v.015a.18.18 0 01-.072.118l-.006.004a.903.903 0 01-.021.016c-.291.22-.461.65-.261 1.05a.766.766 0 01-.002.434.965.965 0 01-.063.108c-.042.061-.088.12-.12.16-.128.097-.252.221-.351.365a1.137 1.137 0 00-.214.637v.24a.223.223 0 01-.03.088.995.995 0 01-.123.142l-.077.083c-.078.084-.138.148-.205.208a.483.483 0 01-.179.112 9.079 9.079 0 01-.555.136.372.372 0 01-.049.007c-.267.022-1.358.107-2.08.103-1.18-.008-1.966-.02-2.883-.24l-.003-.002c-.476-.11-.87-.205-1.195-.297a1.62 1.62 0 00-.44-.062H2.78c-.22 0-.373-.13-.412-.282a36.972 36.972 0 01-.043-.164c-.18-.703-.248-1.091-.275-1.801-.032-.827-.007-1.277.185-2.057.029-.115.15-.223.323-.223h1.515a1.59 1.59 0 001.312-.703c.21-.31.44-.634.68-.97.361-.506.664-.91.912-1.217.25-.31.425-.497.537-.59A60.799 60.799 0 009.069 4.63l.006-.006.006-.005c.373-.332.635-.57.843-.808.219-.25.37-.492.547-.824.093-.174.138-.352.168-.479a1.26 1.26 0 01.214-.46zm-.788-.68A.994.994 0 0110.828 1c.487 0 .858.33 1.112.687.482.648.416 1.484.101 2.31l-.001.004c-.175.448-.39.877-.643 1.285l-.009.015-.01.014c-.052.073-.098.134-.139.19-.13.174-.214.287-.292.483a3.772 3.772 0 00-.08.214c-.008.027-.006.04-.005.044a.125.125 0 00.032.05c.052.058.16.123.303.144.348.052.694.123 1.04.218.639.171 1.171.394 1.553.696.399.315.65.732.65 1.243a1.98 1.98 0 01-.15.748c.242.34.353.742.332 1.142a1.204 1.204 0 01-.406.865c.106.343.097.7.005 1.023-.045.163-.14.314-.201.406a3.245 3.245 0 01-.204.271.59.59 0 01-.138.127.562.562 0 00-.135.135.225.225 0 00-.03.057v.294l-.004.028c-.049.446-.277.687-.414.832a2.53 2.53 0 00-.07.076 4.246 4.246 0 01-.3.302 1.501 1.501 0 01-.583.332c-.257.073-.511.13-.622.153-.061.013-.12.021-.18.026-.26.021-1.396.111-2.17.106-1.171-.008-2.071-.016-3.12-.269-.472-.11-.889-.21-1.238-.308a.583.583 0 00-.158-.023H2.78c-.629 0-1.243-.39-1.418-1.06l-.044-.168c-.194-.759-.276-1.221-.307-2.019-.034-.898-.006-1.449.215-2.346.156-.632.736-1.014 1.332-1.014h1.515a.55.55 0 00.452-.246c.218-.321.453-.654.694-.991.367-.514.683-.937.949-1.266.26-.323.492-.58.69-.744l.006-.004.005-.005a60.176 60.176 0 001.527-1.22c.378-.337.587-.53.743-.71.148-.169.257-.336.414-.63a.964.964 0 00.073-.227 2.3 2.3 0 01.428-.89l.005-.005.005-.006z"/></svg>`,J=f.b`<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
    <path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M10.6033 1.83961L10.6021 1.83951L10.6033 1.83961ZM9.84049 1.169C10.0096 0.966058 10.2743 0.800049 10.6036 0.800049C11.091 0.800049 11.4618 1.13002 11.7154 1.48715C12.1972 2.13547 12.1316 2.97152 11.8171 3.79711L11.8154 3.80148C11.6402 4.24918 11.426 4.67758 11.1729 5.08635L11.1639 5.10093L11.154 5.11488C11.102 5.18761 11.056 5.24943 11.0146 5.30504C10.885 5.47904 10.8008 5.59215 10.7224 5.78812C10.6914 5.86564 10.6651 5.93623 10.6433 6.0021C10.6343 6.02931 10.637 6.04122 10.6381 6.04567C10.6398 6.05281 10.6461 6.0707 10.6695 6.09674C10.7212 6.15426 10.8293 6.21875 10.9731 6.24013C11.321 6.29188 11.6667 6.36335 12.0128 6.45771C12.6515 6.62936 13.1837 6.85242 13.5659 7.15412C13.9645 7.46881 14.2161 7.88592 14.2161 8.39666C14.2161 8.64965 14.1652 8.89692 14.0698 9.13547C14.0685 9.13874 14.0672 9.142 14.0658 9.14526C14.3078 9.48506 14.4184 9.88696 14.3979 10.287C14.3927 10.6301 14.2258 10.9413 13.992 11.1518C14.0975 11.4955 14.0889 11.8512 13.9967 12.1754C13.9515 12.3384 13.8573 12.4893 13.7954 12.5811C13.727 12.6826 13.6559 12.7721 13.6114 12.826C13.6083 12.8304 13.6012 12.8403 13.5919 12.852C13.5695 12.8803 13.5444 12.9068 13.5156 12.9318C13.4912 12.953 13.4685 12.9693 13.4539 12.9794C13.4049 13.0135 13.3537 13.0635 13.3189 13.1141C13.2966 13.1466 13.29 13.1657 13.2883 13.171V13.4647L13.2851 13.4933C13.2356 13.9391 13.008 14.1801 12.8707 14.3255C12.8647 14.3318 12.8589 14.3379 12.8533 14.3439C12.8372 14.3611 12.8195 14.3802 12.8005 14.4008C12.7182 14.4898 12.6116 14.605 12.5002 14.7031C12.3556 14.8305 12.1648 14.9656 11.918 15.0355C11.6603 15.1084 11.4062 15.1645 11.2954 15.188C11.2346 15.2009 11.175 15.2092 11.1163 15.2141C10.8554 15.2355 9.71939 15.3253 8.9447 15.3201C7.77413 15.3124 6.87439 15.3035 5.82651 15.0514C5.35355 14.9411 4.93701 14.8417 4.58714 14.7428C4.53181 14.7272 4.47886 14.7198 4.4294 14.7198H2.55694C1.92793 14.7198 1.31337 14.3309 1.13837 13.6608C1.12421 13.6065 1.10978 13.5503 1.09487 13.492C0.900674 12.7332 0.818643 12.271 0.787953 11.473C0.753431 10.5753 0.781417 10.024 1.00284 9.12711C1.15876 8.49555 1.73866 8.11338 2.33424 8.11338H3.84933C4.02458 8.11338 4.19548 8.02327 4.30173 7.86668C4.51942 7.54584 4.75487 7.21303 4.99586 6.87565C5.36245 6.36242 5.67837 5.93932 5.94444 5.60968C6.20483 5.28708 6.43696 5.02922 6.63475 4.86634L6.64034 4.86173L6.64606 4.85728C7.45211 4.23035 7.95501 3.81753 8.17242 3.63648C8.55059 3.30025 8.75938 3.10741 8.91613 2.92766C9.0638 2.7583 9.17294 2.59135 9.32971 2.29765C9.35443 2.25135 9.37544 2.18635 9.40267 2.07045C9.47754 1.7518 9.624 1.44418 9.83109 1.18062L9.8357 1.17474L9.84049 1.169Z" />
</svg>`,Q=f.b`<svg width="16" height="16" class="cwt-icon-vector" xmlns="http://www.w3.org/2000/svg"><path d="M8 5l4 4H4l4-4z" fill="currentColor"/></svg>`,X=f.b`<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
  <path fill="currentColor" d="M9 1C13.4183 1 17 4.58172 17 9C17 9.19805 16.9928 9.39442 16.9787 9.58886C16.6673 9.4314 16.3389 9.30268 15.997 9.20619C15.999 9.1377 16 9.06897 16 9C16 5.13401 12.866 2 9 2C5.13401 2 2 5.13401 2 9C2 12.866 5.13401 16 9 16C9.06897 16 9.1377 15.999 9.20619 15.997C9.30268 16.3389 9.4314 16.6673 9.58886 16.9787C9.39442 16.9928 9.19805 17 9 17C4.58172 17 1 13.4183 1 9C1 4.58172 4.58172 1 9 1Z"/>
  <path fill="currentColor" d="M6.15467 11.4273C7.02454 12.3027 8.19797 12.6929 9.33847 12.5969C9.33008 12.6191 9.32188 12.6415 9.31387 12.6641C9.20621 12.9682 9.12455 13.2846 9.07154 13.6106C7.76002 13.6292 6.44289 13.136 5.44533 12.1322C5.25069 11.9363 5.25169 11.6197 5.44757 11.4251C5.64344 11.2304 5.96002 11.2314 6.15467 11.4273Z"/>
  <path fill="currentColor" d="M11.5 6.5C12.0523 6.5 12.5 6.94772 12.5 7.5C12.5 8.05228 12.0523 8.5 11.5 8.5C10.9477 8.5 10.5 8.05228 10.5 7.5C10.5 6.94772 10.9477 6.5 11.5 6.5Z"/>
  <path fill="currentColor" d="M6.5 6.5C7.05228 6.5 7.5 6.94772 7.5 7.5C7.5 8.05228 7.05228 8.5 6.5 8.5C5.94772 8.5 5.5 8.05228 5.5 7.5C5.5 6.94772 5.94772 6.5 6.5 6.5Z"/>
  <path fill="currentColor" d="M19 14.5C19 16.9853 16.9853 19 14.5 19C12.0147 19 10 16.9853 10 14.5C10 12.0147 12.0147 10 14.5 10C16.9853 10 19 12.0147 19 14.5ZM15 12.5C15 12.2239 14.7761 12 14.5 12C14.2239 12 14 12.2239 14 12.5V14H12.5C12.2239 14 12 14.2239 12 14.5C12 14.7761 12.2239 15 12.5 15H14V16.5C14 16.7761 14.2239 17 14.5 17C14.7761 17 15 16.7761 15 16.5V15H16.5C16.7761 15 17 14.7761 17 14.5C17 14.2239 16.7761 14 16.5 14H15V12.5Z"/>
</svg>`,K=f.b`<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
    <path fill="currentColor" d="M9 1C13.4183 1 17 4.58172 17 9C17 9.19805 16.9928 9.39442 16.9787 9.58886C16.2338 9.2122 15.3917 9 14.5 9C12.1314 9 10.1125 10.4973 9.33814 12.5969C8.19774 12.6928 7.02445 12.3026 6.15467 11.4273C5.96002 11.2314 5.64344 11.2304 5.44757 11.4251C5.25169 11.6197 5.25069 11.9363 5.44533 12.1322C6.44289 13.136 7.76002 13.6292 9.07154 13.6106C9.02447 13.9001 9 14.1972 9 14.5C9 15.3917 9.2122 16.2338 9.58886 16.9787C9.39442 16.9928 9.19805 17 9 17C4.58172 17 1 13.4183 1 9C1 4.58172 4.58172 1 9 1ZM11.5 6.5C10.9477 6.5 10.5 6.94772 10.5 7.5C10.5 8.05228 10.9477 8.5 11.5 8.5C12.0523 8.5 12.5 8.05228 12.5 7.5C12.5 6.94772 12.0523 6.5 11.5 6.5ZM6.5 6.5C5.94772 6.5 5.5 6.94772 5.5 7.5C5.5 8.05228 5.94772 8.5 6.5 8.5C7.05228 8.5 7.5 8.05228 7.5 7.5C7.5 6.94772 7.05228 6.5 6.5 6.5Z" />
    <path fill="currentColor" d="M19 14.5C19 16.9853 16.9853 19 14.5 19C12.0147 19 10 16.9853 10 14.5C10 12.0147 12.0147 10 14.5 10C16.9853 10 19 12.0147 19 14.5ZM15 12.5C15 12.2239 14.7761 12 14.5 12C14.2239 12 14 12.2239 14 12.5V14H12.5C12.2239 14 12 14.2239 12 14.5C12 14.7761 12.2239 15 12.5 15H14V16.5C14 16.7761 14.2239 17 14.5 17C14.7761 17 15 16.7761 15 16.5V15H16.5C16.7761 15 17 14.7761 17 14.5C17 14.2239 16.7761 14 16.5 14H15V12.5Z" />
</svg>`,_=f.b`<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
  <path fill="currentColor" d="M13 7C13 3.68629 10.3137 1 7 1C3.68629 1 1 3.68629 1 7C1 10.3137 3.68629 13 7 13C7.08516 13 7.1699 12.9982 7.25419 12.9947C7.14265 12.6779 7.06557 12.3448 7.02746 11.9999L7 12C4.23858 12 2 9.76142 2 7C2 4.23858 4.23858 2 7 2C9.76142 2 12 4.23858 12 7L11.9999 7.02746C12.3448 7.06557 12.6779 7.14265 12.9947 7.25419C12.9982 7.1699 13 7.08516 13 7Z" />
  <path fill="currentColor" d="M7.11191 10.4982C7.19558 10.1302 7.32437 9.77927 7.49216 9.45163C7.33305 9.48337 7.16848 9.5 7 9.5C6.25963 9.5 5.59494 9.1788 5.13646 8.66654C4.95229 8.46078 4.6362 8.44327 4.43043 8.62743C4.22467 8.8116 4.20716 9.12769 4.39132 9.33346C5.03148 10.0487 5.96337 10.5 7 10.5C7.03744 10.5 7.07475 10.4994 7.11191 10.4982Z" />
  <path fill="currentColor" d="M6 6C6 6.41421 5.66421 6.75 5.25 6.75C4.83579 6.75 4.5 6.41421 4.5 6C4.5 5.58579 4.83579 5.25 5.25 5.25C5.66421 5.25 6 5.58579 6 6Z"/>
  <path fill="currentColor" d="M8.75 6.75C9.16421 6.75 9.5 6.41421 9.5 6C9.5 5.58579 9.16421 5.25 8.75 5.25C8.33579 5.25 8 5.58579 8 6C8 6.41421 8.33579 6.75 8.75 6.75Z" />
  <path fill="currentColor" d="M15 11.5C15 13.433 13.433 15 11.5 15C9.567 15 8 13.433 8 11.5C8 9.567 9.567 8 11.5 8C13.433 8 15 9.567 15 11.5ZM12 9.5C12 9.22386 11.7761 9 11.5 9C11.2239 9 11 9.22386 11 9.5V11H9.5C9.22386 11 9 11.2239 9 11.5C9 11.7761 9.22386 12 9.5 12H11V13.5C11 13.7761 11.2239 14 11.5 14C11.7761 14 12 13.7761 12 13.5V12H13.5C13.7761 12 14 11.7761 14 11.5C14 11.2239 13.7761 11 13.5 11H12V9.5Z" />
</svg>`,ee=f.b`<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
  <path fill="currentColor" d="M7 13C7.08516 13 7.1699 12.9982 7.25419 12.9947C7.08956 12.527 7 12.024 7 11.5C7 11.1557 7.03867 10.8204 7.11191 10.4982C7.07476 10.4994 7.03746 10.5 7.00003 10.5C5.9634 10.5 5.03151 10.0487 4.39135 9.33346C4.20719 9.12769 4.2247 8.8116 4.43046 8.62743C4.63623 8.44327 4.95232 8.46078 5.13649 8.66654C5.59497 9.1788 6.25966 9.5 7.00003 9.5C7.1685 9.5 7.33306 9.48337 7.49216 9.45164C8.23753 7.99617 9.75243 7 11.5 7C12.024 7 12.527 7.08956 12.9947 7.25419C12.9982 7.1699 13 7.08516 13 7C13 3.68629 10.3137 1 7 1C3.68629 1 1 3.68629 1 7C1 10.3137 3.68629 13 7 13ZM5.25003 6.75C4.83582 6.75 4.50003 6.41421 4.50003 6C4.50003 5.58579 4.83582 5.25 5.25003 5.25C5.66424 5.25 6.00003 5.58579 6.00003 6C6.00003 6.41421 5.66424 6.75 5.25003 6.75ZM8.75003 6.75C8.33582 6.75 8.00003 6.41421 8.00003 6C8.00003 5.58579 8.33582 5.25 8.75003 5.25C9.16424 5.25 9.50003 5.58579 9.50003 6C9.50003 6.41421 9.16424 6.75 8.75003 6.75Z" />
  <path fill="currentColor" d="M15 11.5C15 13.433 13.433 15 11.5 15C9.567 15 8 13.433 8 11.5C8 9.567 9.567 8 11.5 8C13.433 8 15 9.567 15 11.5ZM12 9.5C12 9.22386 11.7761 9 11.5 9C11.2239 9 11 9.22386 11 9.5V11H9.5C9.22386 11 9 11.2239 9 11.5C9 11.7761 9.22386 12 9.5 12H11V13.5C11 13.7761 11.2239 14 11.5 14C11.7761 14 12 13.7761 12 13.5V12H13.5C13.7761 12 14 11.7761 14 11.5C14 11.2239 13.7761 11 13.5 11H12V9.5Z" />
</svg>`;var te=o("eUhr");H.b,W.a;const oe=f.b`
    <div class="button-container ${e=>e.showLikeButton?"like-visible":""}" part="like-button-container" ${Object(te.b)(e=>e.enableReactionEmojiButton?null:e.reactionsParentTelemetryTag)}>
        <button
            part="button-bg"
            tab-index=0
            title=""
            aria-pressed="false"
            class="icon-button ${e=>e.enableReactionEmojiButton?"reaction-emoji-button":"like-button"} button-bg ${e=>e.showAccessibilityButton?"":"button-bg-last-of-type"} ${e=>e.showLikeButton&&"width-transition-enter"} ${e=>e.reactionMenuVisible&&"highlight"} ${e=>e.enableFilledIconOnHover?"filled-icons-onhover":""} accessibility-outline"
            @click=${(e,t)=>e.enableReactionEmojiButton?e.triggerShowReactionMenu():e.onReactionClickHandler(m.a.like,t.event)}
            @mouseenter=${(e,t)=>{t.event&&e.reactionMenuTriggerMouseEnterHandler(t.event.currentTarget),e.handleHoverOnThumbup()}}
            @mouseleave=${(e,t)=>{e.hideReactionMenu(!0),e.handleHoverOnThumbup(!1)}}
            @touchstart=${(e,t)=>t.event&&e.setupTouchSlideHandlerOnTouchStart(t.event)}
            data-customhandled="1"
            ${Object(te.b)(e=>e.enableReactionEmojiButton?e.reactionsParentTelemetryTag:e.reactionTelemetryTags&&e.reactionTelemetryTags[m.a.like])}
        >
            ${e=>e.getReactionButton(e)}
            ${Object(N.a)(e=>!e.enableReactionEmojiButton,f.b`<span class="icon-label">${e=>e.likeButtonLabel}</span>`)}
        </button>
        <button ${Object(U.b)("reactionPanelAccessButton")}
                tab-index=0
                role="button"
                aria-pressed=${e=>e.reactionMenuVisible}
                class="icon-button button-bg accessibility-button accessibility-outline ${e=>e.showAccessibilityButton?"accessibility-visible button-bg-last-of-type":""} ${e=>e.reactionMenuVisible&&"highlight"}"
                part="button-bg"
                title=""
                aria-label="${e=>e.localizedStrings.ariaLabelShowReactions}"
                @click=${(e,t)=>{e.accessToggleReactionMenu()}}
            >
            <span role="presentation" aria-hidden="true">
                ${Q}
            </span>
        </button>
    </div>
`,ne=f.b`
    <div class="button-container active-reaction-visible" part="active-button-container" ${Object(te.b)(e=>e.reactionsParentTelemetryTag)}>
        <button
            tab-index=0
            aria-pressed="true"
            class="icon-button active-reaction-button button-bg ${e=>e.showAccessibilityButton?"":"button-bg-last-of-type"} ${e=>e.reactionMenuVisible&&"highlight"} accessibility-outline"
            part="button-bg"
            @click=${(e,t)=>e.onReactionClickHandler(e.myReaction,t.event)}
            @mouseenter=${(e,t)=>t.event&&e.reactionMenuTriggerMouseEnterHandler(t.event.currentTarget)}
            @mouseleave=${(e,t)=>e.hideReactionMenu(!0)}
            @touchstart=${(e,t)=>t.event&&e.setupTouchSlideHandlerOnTouchStart(t.event)}
            data-customhandled="1"
            ${Object(te.b)(e=>e.undoReactionTelemetryTags&&e.undoReactionTelemetryTags[e.myReaction])}
        >${e=>k(e.myReaction)}
            <span class="icon-label" style="color: ${e=>V[e.myReaction]}">
                ${e=>e.t["emojiLabel"+e.myReaction]}
            </span></button><button ${Object(U.b)("reactionPanelAccessButton")}
                tab-index=0
                aria-pressed=${e=>e.reactionMenuVisible}
                class="icon-button button-bg accessibility-button accessibility-outline ${e=>e.showAccessibilityButton?"accessibility-visible button-bg-last-of-type":""} ${e=>e.reactionMenuVisible&&"highlight"}"
                part="button-bg"
                title=""
                aria-label="${e=>e.localizedStrings.ariaLabelShowReactions}"
                @click=${(e,t)=>{e.accessToggleReactionMenu()}}
            >
                ${Q}
        </button>
    </div>
`,ie=f.b`<div ${Object(U.b)("reactionMenu")} ${Object($.b)("reactionButtons")}
        part="reaction-menu-container"
        class="reaction-menu-container"
        aria-label=${e=>e.t.reactionMenuAriaLabel}
        title = ""
        @mouseenter=${(e,t)=>e.triggerShowReactionMenu()}
        @mouseleave=${(e,t)=>e.hideReactionMenu(!0)}
        role="toolbar"
        ${Object(te.b)(e=>e.reactionMenuTelemetryTag)}
    >${Object(F.c)(e=>Object.keys(m.a).filter(t=>{var o,n,i;return!(null===(i=null===(n=null===(o=e.renderInfo)||void 0===o?void 0:o.reactionRenderInfo)||void 0===n?void 0:n.blockedReactions)||void 0===i?void 0:i.includes(t))}),f.b`<button
                title=""
                tab-index=0
                aria-pressed="${(e,t)=>t.parent.myReaction==e}"
                data-title="${(e,t)=>t.parent.t["emojiLabel"+e]||e}"
                class="reaction-menu-emoji-button accessibility-outline"
                @click=${(e,t)=>t.parent.onReactionClick(e,null==t?void 0:t.event)}
                @keydown=${(e,t)=>t.parent.handleKeyPress(t)}
                @mouseenter=${(e,t)=>{document.activeElement.blur(),t.parent.triggerMoveLabel(t.index),t.parent.emojiFocused(e)}}
                @mouseleave=${(e,t)=>{t.parent.emojiFocused(null)}}
                data-faded="${(e,t)=>t.parent.focusedEmojiKey&&t.parent.focusedEmojiKey!=e}"
                ${Object(te.b)((e,t)=>t.parent.myReaction==e?t.parent.undoReactionTelemetryTags&&t.parent.undoReactionTelemetryTags[e]:t.parent.reactionTelemetryTags&&t.parent.reactionTelemetryTags[e])}
            >
                <span class="emoji-label ${(e,t)=>t.parent.shouldLabelRenderBelow?"emoji-label-bottom":""}">
                    ${(e,t)=>t.parent.t["emojiLabel"+e]}
                </span>${e=>k(e)}
            </button>`,{positioning:!0})}
        </div>
`,re=f.b`
    <div
        class="reactions-count-tool-tip-container"
        title = ""
        @mouseenter=${e=>e.triggerShowReactionsCountToolTip()}
        @mouseleave=${e=>e.hideReactionsCountToolTip(!0)}
    >
        ${Object(F.c)(e=>Object.keys(e.socialBarData.reactionCounts).sort((t,o)=>0-(e.socialBarData.reactionCounts[t]>e.socialBarData.reactionCounts[o]?1:-1)),f.b`
                <div class="reactions-count-tool-tip-emoji-button accessibility-outline">
                    ${(e,t)=>{return o=e,(n=t.parent.socialBarData.reactionCounts[e])&&0!=n?f.b`<div class="emoji-icon noMask" data-type=${o}></div>
                    <span class="tool-tip-icon-count">${n}</span>`:void 0;var o,n}}
                </div>`)}
    </div>
`,ae=f.b`<msn-social-most-reactions :reactionCounts=${e=>e.reactionCountsForMostReactionEmojis} :maxNumberOfEmojis="${e=>{return t=e.totalReactionsCountLabel,o=e.totalCommentsCountLabel,t&&o&&t.length+o.length>4?2:3;var t,o}}"/>`,se=f.b`<a 
        href=${e=>e.destinationUrl}
        target="_blank"
        part="reactions-count-button"
        class="icon-button reactions-count-button ${e=>e.reactionsCountToolTipVisible&&"highlight"} accessibility-outline"
        @mouseenter=${(e,t)=>e.reactionsCountToolTipEnabled&&t.event&&e.reactionsCountToolTipTriggerMouseEnterHandler(t.event.currentTarget)}
        @mouseleave=${(e,t)=>e.reactionsCountToolTipEnabled&&e.hideReactionsCountToolTip(!0)}
        title=""
        role="link"
        aria-label="${e=>T(e.localizedStrings,e.totalReactionsCount)}"
        ${Object(te.b)(e=>e.reactionsCountButtonTelemetryTag)}
    >${Object(N.a)(e=>!e.myReaction||1==e.totalReactionsCount,ae)}
    <span part="reaction-count" class="icon-label ${e=>e.myReaction&&1!=e.totalReactionsCount?"has-plus":""}">${e=>e.totalReactionsCountLabel}</span>
    ${Object(N.a)(e=>e.reactionsCountToolTipVisible,re)}
    </a>
`,ce=f.b`<a
        tabindex="0"
        part="reactions-count-button"
        class="icon-button reactions-count-button ${e=>e.reactionsCountToolTipVisible} accessibility-outline"
        title=""
        aria-label="${e=>T(e.localizedStrings,e.totalReactionsCount)}"
        ${Object(te.b)(e=>e.reactionsCountButtonTelemetryTag)}
        @click=${e=>e.$emit("on-reactions-count-click")}
        @keypress=${(e,t)=>{"Enter"===t.event.key&&e.$emit("on-reactions-count-click")}}
    >${Object(N.a)(e=>!e.myReaction||1==e.totalReactionsCount,ae)}
    <span part="reaction-count" class="icon-label ${e=>e.myReaction&&1!=e.totalReactionsCount?"has-plus":""}">${e=>e.totalReactionsCountLabel}</span>
    </a>
`,le=f.b`
    ${e=>e.reactionsBreakdownDialogEnabled?ce:se}
`,ue=f.b`<a 
        href=${e=>e.getCommentsUrl()}
        target="_blank"
        class="icon-button comments-count-button accessibility-outline ${e=>e.topCommentVisible?"top-comment-visible":""} ${e=>e.enableFilledIconOnHover?"filled-icons-onhover":""}"
        part="comments-count-button"
        title=""
        aria-label="${e=>{return t=e.localizedStrings,o=e.totalCommentsCountLabel,y.String.Format(t.ariaLabelCommentsCount||"",o);var t,o}}"
        @mouseenter=${(e,t)=>{t.event&&e.renderTopComment(t.event.currentTarget),e.handleHoverOnComment()}}
        @mouseleave=${(e,t)=>e.handleHoverOnComment(!1)}
        ${Object(te.b)(e=>e.hasTopComment?e.topCommentIconTelemetryTag:e.commentsButtonTelemetryTag)}
    ><div class="icon-wrapper ${e=>e.hasTopComment?"has-top-comment-marker":""}">${e=>e.getCommentButton(e)}</div>
        <span class="icon-label">${e=>e.totalCommentsCountLabel}</span>
    </a>${e=>e.hasTopComment&&e.showAccessibilityButton?f.b`<button
    id="topCommentAccessButton_${e=>e.socialBarData.id}"
    tab-index=0
    aria-pressed="false"
    class="icon-button button-bg accessibility-button accessibility-outline ${e=>e.showAccessibilityButton?"accessibility-visible button-bg-last-of-type":""} ${e=>e.topCommentVisible&&"highlight"}"
    part="button-bg"
    title=""
    @click=${(e,t)=>{e.topCommentVisible?e.removeTopComment():t.event&&e.renderTopComment(t.event.currentTarget)}}
    >${Q}</button>`:""}
`,de=f.b`<div
        class="social-bar no-select ${e=>e.showAccessibilityButton?"accessibility-visible":""} ${e=>e.theme||""}"
        part="social-bar"
        @mouseenter=${(e,t)=>e.handleHoverOnReaction()}
        @mouseleave=${(e,t)=>e.handleHoverOnReaction(!1)}
        ${Object(te.b)(e=>e.socialBarTelemetryTag)}
    >
        ${Object(N.a)(e=>!e.shouldHideReactions()&&!e.isBlockedReactions()&&e.myReaction,ne)}
        ${Object(N.a)(e=>!e.shouldHideReactions()&&!e.isBlockedReactions()&&!e.myReaction,oe)}
        ${Object(N.a)(e=>!e.shouldHideReactions()&&!e.isBlockedReactions()&&e.reactionMenuVisible,ie)}
        ${Object(N.a)(e=>!e.shouldHideReactions()&&!e.isBlockedReactions()&&e.showReactionsCount,le)}
        ${Object(N.a)(e=>!e.shouldHideComments()&&!e.isBlockedComments()&&e.showCommentsCount,ue)}
    </div>
`;var pe=o("P4Ao"),me=o("vjdx");class he extends pe.a{constructor(){super(...arguments),this.topCommentContentViewEventHandler=e=>{j(e.target)}}get shouldRenderReplyCount(){return this.showReplyCount&&this.data.replyCount>0}get shouldRenderMostReactions(){return this.showMostReactions&&Object.values(this.data.reactionCounts).reduce((e,t)=>e+t,0)>0}get shouldRenderProfileImage(){return!this.hideProfileImage}get agoText(){const{market:e,createDatetime:t}=this.data;return Object(me.a)(new Date(t),e,this.localizedStrings)}connectedCallback(){if(super.connectedCallback(),this.enableFocusAssist){const e=this.shadowRoot.querySelectorAll(".accessible-item");e&&e.length>0&&setTimeout(()=>{e[0].focus()},75)}}}Object(u.d)([A.d],he.prototype,"data",void 0),Object(u.d)([A.d],he.prototype,"localizedStrings",void 0),Object(u.d)([x.b],he.prototype,"showReplyCount",void 0),Object(u.d)([x.b],he.prototype,"showMostReactions",void 0),Object(u.d)([A.d],he.prototype,"topCommentTelemetryTag",void 0),Object(u.d)([x.b],he.prototype,"enableFocusAssist",void 0),Object(u.d)([Object(x.b)({attribute:"hideprofileimage",mode:"boolean"})],he.prototype,"hideProfileImage",void 0);var ge=o("kL0l"),be=o("CzTk"),ve=o("4X57");const ye=ve.a`
    .profile-avatar {
        margin-right: 6px;
    }

    .stats .reaction-counts > msn-social-most-reactions {
        transform-origin: center right;
    }
`,fe=ve.a`
    .profile-avatar {
        margin-left: 6px;
    }

    .stats .reaction-counts > msn-social-most-reactions {
        transform-origin: center left;
    }
`,Ce="0px 3.2px 7.2px rgba(0, 0, 0, 0.13), 0px 0.6px 1.8px rgba(0, 0, 0, 0.1)",Oe=ve.a`
    .top-comment-card {
        max-width: var(--card-width, 300px);
        background: var(--card-background, ${ge.H.var});
        border-radius: var(--card-border-radius, 4px);
        -webkit-box-shadow: var(--card-box-shadow, ${Ce});
        -moz-box-shadow: var(--card-box-shadow, ${Ce});
        box-shadow: var(--card-box-shadow, ${Ce});
        margin: var(--card-margin, 0);
    }

    .header {
        display: flex;
        flex-direction: row;
        align-items: center;
        justify-content: space-between;
        padding: var(--header-padding, 8px 12px 4px);
        font-size: var(--header-font-size, 10px);
        font-weight: var(--header-font-weight, 600);
        color: var(--header-text-color, ${ge.O.var})
    }

    .stats, .stats .reaction-counts {
        display: flex;
        align-items: center;
    }
    .stats .reply-count {
        margin: 0 6px;
    }
    .stats .reaction-counts > msn-social-most-reactions {
        transform: scale(calc(14/16));
    }

    .stats .reaction-counts .icon-label {
        margin: 0 3px;
    }

    .header .title {
        text-transform: uppercase;
    }

    a.card-body-link {
        display: flex;
        padding: var(--body-padding, 4px 12px 12px);
        margin: var(--body-margin, 0);
        font-size: 12px;
        text-decoration: none;
        border-radius: var(--body-border-radius, 0);
        background: var(--body-background, none);
        -webkit-tap-highlight-color: transparent;
    }

    .card-body-link:hover {
        background: var(--body-hover-background, ${ge.u.var})
    }

    .profile-avatar {
        height: 20px;
        min-width: 20px;
        max-width: 20px;
        border-radius: 50%;
    }

    .comment-header {
        display: flex;
        align-items: center;
        min-height: 20px;
    }

    .accent-text {
        color: var(--accent-text-color, ${ge.h.var});
        text-decoration: none;
        font-weight: 600;
    }

    .ago-text {
        color: var(--ago-text-color, ${ge.E.var});
        text-decoration: none;
        padding: 0 8px;
    }

    .comment-body {
        display: -webkit-box;
        -webkit-box-orient: vertical;
        -webkit-line-clamp: var(--body-max-lines, 4);
        overflow: hidden;
        text-overflow: ellipsis;
        font-size: var(--body-text-font-size, 12px);
        line-height: var(--body-text-line-height, 16px);
        max-height: 64px;
        margin: 2px 0;
        color: var(--body-text-color, ${ge.G.var});
        opacity: .85;
    }

    .read-more-link{
        font-size: 11px;
        font-weight: normal;
    }
`.withBehaviors(ge.H,ge.O,ge.h,ge.P,ge.G,ge.u,ge.E,new be.a(ye,fe));W.a;const we="https://assets.msn.com/staticsb/statics/latest/community/img/avatar-placeholder.svg",Te=f.b`
    <div class="top-comment-card" title="">
        <header class="header">
            <span class="title">${e=>e.localizedStrings.topCommentTitle}</span>
            <div class="stats">
                ${Object(N.a)(e=>e.shouldRenderReplyCount,f.b`
    <span class="reply-count">${e=>y.String.Format(e.localizedStrings.topCommentReplyCountText,{number:e.data.replyCount})}</span>
`)}
                ${Object(N.a)(e=>e.shouldRenderMostReactions,f.b`
    <div class="reaction-counts">
        ${e=>{return t=e.data.reactionCounts,f.b`
    <msn-social-most-reactions :reactionCounts=${e=>t} />
`;var t}}
        <span class="icon-label">
            ${e=>Object.keys(e.data.reactionCounts).map(t=>e.data.reactionCounts[t]).reduce((e,t)=>e+t)}
        </span>
    </div>
`)}
            </div>
        </header>
        <a
            class="card-body-link accessible-item"
            href="${e=>e.data.commentUrl}"
            target="_blank"
            title=""
            @mouseenter=${(e,t)=>e.topCommentContentViewEventHandler(t.event)}
            ${Object(te.b)(e=>e.topCommentTelemetryTag)}
            tab-index=0
            aria-label="${e=>e.localizedStrings.topCommentReadMoreButtonText}">
            <div class="column">
                ${Object(N.a)(e=>e.shouldRenderProfileImage,f.b`
    <img alt="Profile Picture" class="profile-avatar" src="${e=>e.data.avatarUrl||we}" width="20" height="20" onerror="this.onerror=null; this.src = '${we}';"/>
`)}
            </div>

            <div class="column">
                <div class="comment-header">
                    <span class="accent-text">
                        ${e=>e.data.username}
                    </span>
                    <span class="ago-text">${e=>e.agoText}</span>
                </div>
                <div class="comment-body">${e=>e.data.commentBody}</div>
                <span class="accent-text read-more-link">
                    ${e=>e.localizedStrings.topCommentReadMoreButtonText}
                </span>
            </div>
        </a>
    </div>
`;let ke=class extends he{};function Se(e){document.body.style["-webkit-touch-callout"]=e,document.body.style["-webkit-user-select"]=e,document.body.style["-khtml-user-select"]=e,document.body.style["-moz-user-select"]=e,document.body.style["-ms-user-select"]=e,document.body.style["user-select"]=e}function je(e){let t;if("touchstart"==e.type||"touchmove"==e.type||"touchend"==e.type||"touchcancel"==e.type){const o=void 0===e.originalEvent?e:e.originalEvent,n=o.touches[0]||o.changedTouches[0];t={x:n.clientX,y:n.clientY}}else"mousedown"!=e.type&&"mouseup"!=e.type&&"mousemove"!=e.type&&"mouseover"!=e.type&&"mouseout"!=e.type&&"mouseenter"!=e.type&&"mouseleave"!=e.type||(t={x:e.clientX,y:e.clientY});return t}function Re(e,t){if(!e||!t)return;const o=t.getBoundingClientRect(),n=je(e);return o.left<=n.x&&o.right>=n.x&&o.top<=n.y&&o.bottom>=n.y}function Pe(e,t={}){try{t=Object.assign({type:e},t),window.ReactNativeWebView&&window.ReactNativeWebView.postMessage(JSON.stringify({type:"community",data:t}))}catch(e){}}ke=Object(u.d)([Object(pe.b)({name:"msn-top-comment",template:Te,styles:Oe})],ke);const Me=()=>Pe("unlock-touch");var Ee=o("9y7U");class xe{constructor(e,t){this.longPressTimeout=250,this.reopenTimeout=50,this.slideDisabled=!1,this.longpressDisabled=!1,this.listenLongpress=e=>{if(this.hasLongpressed)return;let t=!1;const o=()=>t=!0;setTimeout(()=>{t||(this.hasLongpressed=!0,this.callbacks.onLongpress&&this.callbacks.onLongpress(e),document.addEventListener("touchstart",()=>{this.hasLongpressed=!1,document.addEventListener("touchend",this.callbacks.onLongpressEnd,{once:!0}),document.addEventListener("touchmove",this.callbacks.onLongpressEnd,{once:!0})},{once:!0}))},this.longPressTimeout),e.addEventListener("touchend",o,{once:!0}),e.addEventListener("touchmove",o,{once:!0})},this.listenSlideStart=e=>{const t=()=>{this.triggerElement.removeEventListener("touchend",this.triggerClickHandler),this.callbacks.onSlideStart&&this.callbacks.onSlideStart(e),this.listenSliding()};document.addEventListener("touchmove",t,{once:!0}),document.addEventListener("touchend",()=>{document.removeEventListener("touchmove",t)},{once:!0})},this.callbacks=e,this.triggerTouchStartHandler=this.triggerTouchStartHandler.bind(this),this.triggerClickHandler=this.triggerClickHandler.bind(this),this.touchEndHandler=this.touchEndHandler.bind(this),this.slideDisabled=t&&t.slideDisabled,this.longpressDisabled=t&&t.longpressDisabled}setupTrigger(e){this.triggerElement!=e&&(this.unregisterTriggerEventHandlers(),this.triggerElement=e),this.registerTriggerEventHandlers()}setupTriggerAtTouchStart(e){this.setupTrigger(e.currentTarget),this.triggerTouchStartHandler(e)}dispose(){this.unregisterTriggerEventHandlers(),this.triggerElement=null}releaseTouchEvents(){Me(),this.unregisterTriggerEventHandlers()}triggerTouchStartHandler(e){!this.longpressDisabled&&this.listenLongpress(e.currentTarget),!this.slideDisabled&&this.listenSlideStart(e.currentTarget),this.callbacks.onTouchStart&&this.callbacks.onTouchStart(e),function(e){Se("none");const t=()=>Se("unset");document.body.addEventListener("click",t,{once:!0}),document.body.addEventListener("mouseup",t,{once:!0}),document.body.addEventListener("touchend",t,{once:!0})}(),Pe("lock-touch"),this.enoughTimePassedSinceLastTouchEnd(e.timeStamp)}triggerClickHandler(e){this.hasLongpressed&&Re(e,this.triggerElement)?e.stopPropagation():Re(e,this.triggerElement)&&(this.triggerElement.click(),this.triggerElement.blur(),Me(),this.callbacks.onTriggerClick&&this.callbacks.onTriggerClick(e))}touchEndHandler(e){this.callbacks.onTouchEnd&&this.callbacks.onTouchEnd(e),this.releaseTouchEvents()}listenSliding(){this.hasLongpressed=!1;let e=0;const t=t=>{if(t.stopPropagation(),t.cancelable&&t.preventDefault(),t.timeStamp-e<xe.trackingPeriod)return;e=t.timeStamp;const o=je(t);this.callbacks.onSlide&&this.callbacks.onSlide(o,t)};document.addEventListener("touchmove",t,{capture:!0,passive:!1}),document.addEventListener("touchend",()=>{document.removeEventListener("touchmove",t,{capture:!0}),this.callbacks.onSlideEnd&&this.callbacks.onSlideEnd()},{capture:!0,once:!0})}registerTriggerEventHandlers(){setTimeout(()=>{this.triggerElement&&!this.isHandled&&(this.isHandled=!0,this.triggerElement.addEventListener("touchstart",this.triggerTouchStartHandler),this.triggerElement.addEventListener("touchend",this.triggerClickHandler),document.addEventListener("touchend",this.touchEndHandler))},10)}unregisterTriggerEventHandlers(){this.triggerElement&&this.isHandled&&(this.isHandled=!1,this.triggerElement.removeEventListener("touchstart",this.triggerTouchStartHandler),this.triggerElement.removeEventListener("touchend",this.triggerClickHandler),document.removeEventListener("touchend",this.touchEndHandler))}enoughTimePassedSinceLastTouchEnd(e){return e-xe.lastTouchEndTime>this.reopenTimeout}}xe.trackingPeriod=16,xe.lastTouchEndTime=0;class Ae extends xe{constructor(e,t,o,n){super(Object.assign(Object.assign({},e),{onSlide:(t,o)=>{this.reactionMenuSlideHandler(t,o),e.onSlide&&e.onSlide(t,o)},onSlideEnd:()=>{this.reactionHandler(),e.onSlideEnd&&e.onSlideEnd()},onLongpressEnd:t=>{Re(t,this.containerElement)||Re(t,this.triggerElement)||e.onLongpressEnd&&e.onLongpressEnd(t)}}),n),this.virtualTray={height:140,width:100,hMargin:20},this.reactioMenuCallbacks=t,this.emojiElementSelector=o}setReactionMenuContainer(e){this.containerElement=e}dispose(){this.containerElement=null,super.dispose()}reactionHandler(){this.touchFocusedEmojiElement&&this.touchFocusedEmojiElement.click()}reactionMenuSlideHandler(e,t){if(!this.containerElement)return;const o=this.containerElement.getBoundingClientRect(),n=o.top-this.virtualTray.height/2,i=o.bottom+this.virtualTray.height/2,r=o.left,a=o.left+o.width,s=(a-r)/Ee.a.reactionOrder.length,c=Math.min(Math.max(Math.floor((e.x-r)/s),0),Ee.a.reactionOrder.length-1);if(e.x<r-this.virtualTray.hMargin||e.x>a+this.virtualTray.hMargin||e.y<n||e.y>i)this.touchFocusedEmojiElement&&this.reactioMenuCallbacks.onEmojiBlur(this.touchFocusedEmojiElement),this.touchFocusedEmojiElement=null;else{const e=this.containerElement.querySelectorAll(this.emojiElementSelector)[c];this.touchFocusedEmojiElement!=e&&(this.touchFocusedEmojiElement&&this.reactioMenuCallbacks.onEmojiBlur(this.touchFocusedEmojiElement),this.touchFocusedEmojiElement=e,this.reactioMenuCallbacks.onEmojiFocus(this.touchFocusedEmojiElement))}}}class Ie{static removeSingleInstance(){Ie.popoverInstance&&Ie.popoverInstance.remove()}static renderPopover(e,t){const o=t&&t.callbacks,n=t&&t.parentSelector&&""!=t.parentSelector.trim()||"fluent-design-system-provider",i=t&&t.hideOnOutsideClick,r=t&&t.alignParentSelectors;Ie.removeSingleInstance();const a=document.createElement("div");Ie.popoverInstance=a,a.style.visibility="hidden",a.style.position="absolute",a.style.zIndex="900",o&&o.onMount&&o.onMount(a);const s=n?Le(n,e):document.body;s.insertAdjacentElement("afterbegin",a);const c=r.length>0?r.map(t=>Le(t,e)).filter(e=>!!e):null,l=(c&&c.length>0?c[0]:s).getBoundingClientRect(),u=s.getBoundingClientRect(),d=e.getBoundingClientRect(),p=a.getBoundingClientRect(),m=d.bottom-p.top-1,h=u.bottom>m+p.bottom&&document.documentElement.clientHeight>m+p.bottom?m:d.top-p.bottom+1,g=d.left-p.left,b=l.right-p.right,v=l.right>g+p.right?g:b;a.style.transform=`translateX(${v}px) translateY(${h}px)`,a.style.visibility="visible";const y=()=>{a.remove(),o&&o.onDismiss&&o.onDismiss()};i?Ie.attachDismissOnOutsideClick(a,y):Ie.attachDismissOnLeave([e,a,s],y),Ie.attachDismissOnKeyPress(y)}static attachDismissOnLeave(e,t){const o=o=>{const n=setTimeout(()=>t(o),250);e.map(e=>e.addEventListener("mouseenter",()=>clearTimeout(n),{once:!0}))};e.map(e=>e.addEventListener("mouseleave",o,{once:!0}))}static attachDismissOnOutsideClick(e,t){const o=n=>{n.currentTarget!=e&&(t(n),window.removeEventListener("click",o,{capture:!0}))};window.addEventListener("click",o,{capture:!0})}static attachDismissOnKeyPress(e){const t=o=>{"Escape"!=o.key&&"Tab"!=o.key||(e(o),window.removeEventListener("keyup",t,{capture:!0}))};window.addEventListener("keyup",t,{capture:!0})}}function Le(e,t=this,o=((t,n=t&&t.closest(e))=>!(!t||t===document||t===window)&&(n||o(t.getRootNode().host)))){return o(t)}var Be,De=o("9RHM"),Ne=o("rvYQ"),Ue=o("ypwz");!function(e){e.labelReact="prg-rc_labelr",e.likeButtonOnCardHover="prg-rc_crdhvr",e.likeButtonOnRest="prg-rc_crdrst",e.likeButtonEmoji="prg-rc_crdemj",e.reactionsFlyout="prg-rc_flyout",e.reactionsBreakdown="prg-rc_breakdown"}(Be||(Be={}));class $e{static isFlightEnabled(e,t){return e in this.enabledFligths||(this.enabledFligths[e]=!!this.getFlight(e,t)),this.enabledFligths[e]}static applyFlights(e){const t={[Be.labelReact]:()=>{this.isFlightEnabled(Be.labelReact,!1)&&(e.likeButtonLabel=e.t.emojiLabelreact||e.t.emojiLabellike)},[Be.reactionsFlyout]:()=>{this.isFlightEnabled(Be.reactionsFlyout,!1)&&(e.reactionsCountToolTipEnabled=!e.disableReactionsTooltip&&[z.default,z.redesign,z.noBackPlate].includes(e.theme))},[Be.likeButtonOnCardHover]:()=>{this.isFlightEnabled(Be.likeButtonOnCardHover,!1)&&(e.likeButtonShowWhenHoverReaction=!1,e.overwriteShowLikeButton=!1)},[Be.likeButtonOnRest]:()=>{this.isFlightEnabled(Be.likeButtonOnRest,!1)&&(e.likeButtonShowWhenHoverReaction=!1,e.overwriteShowLikeButton=!0)},[Be.likeButtonEmoji]:()=>{this.isFlightEnabled(Be.likeButtonEmoji,!1)&&(e.enableReactionEmojiButton=!0,e.likeButtonShowWhenHoverReaction=!1,e.overwriteShowLikeButton=!0,e.theme=z.redesign)},[Be.reactionsBreakdown]:()=>{const t=[Ue.a.EdgeChromium.toString(),Ue.a.Windows.toString()];this.isFlightEnabled(Be.reactionsBreakdown,!1)&&t.includes(Ne.a.AppType)&&(e.reactionsBreakdownDialogEnabled=!0)}};Object.values(Be).forEach(e=>t[e]&&t[e]())}static getFlight(e,t=!1){if(Ne.a.CurrentRequestTargetScope&&Ne.a.CurrentRequestTargetScope.pageExperiments&&e){const o=Ne.a.CurrentRequestTargetScope.pageExperiments;return t?o.find(t=>t&&t.toLowerCase().startsWith(e.toLowerCase())):o.find(t=>t&&t.toLowerCase()==e.toLowerCase())}return null}}$e.enabledFligths={};const Fe=f.b`<msn-top-comment
    :data=${e=>e.data}
    :localizedStrings=${e=>e.localizedStrings}
    :showReplyCount=${e=>e.showReplyCount}
    :showMostReactions=${e=>e.showMostReactions}
    :topCommentTelemetryTag=${e=>e.topCommentTelemetryTag}
    :enableFocusAssist=${e=>e.enableFocusAssist}
/>`;class He extends pe.a{constructor(){super(...arguments),this.reactionMenuPositionFixed=!1,this.myReaction=null,this.reactionMenuCloseTimer=null,this.reactionMenuOpenTimer=null,this.hoverOnReaction=!1,this.hoverOnComment=!1,this.hoverOnThumbup=!1,this.tabOnReaction=!1,this.shouldLabelRenderBelow=!1,this.accessReactionPanelFocus=!1,this.shouldShowLikeButton=!1,this.likeButtonShowWhenHoverReaction=!1,this.enableReactionEmojiButton=!1,this.hideReactions=!1,this.showLikeButton=!1,this.reactionMenuVisible=!1,this.showAccessibilityButton=!1,this.overwriteShowLikeButton=!1,this.hideComments=!1,this.enableFilledIconOnHover=!1,this.smallSizeReactionIcons=!1,this.reactionsCountToolTipOpenTimer=null,this.reactionsCountToolTipCloseTimer=null,this.reactionsCountToolTipVisible=!1,this.reactionsCountToolTipEnabled=!1,this.disableReactionsTooltip=!1,this.reactionsBreakdownDialogEnabled=!1,this.topCommentVisible=!1,this.hasTopComment=!1,this.topCommentPopoverRef=null,this.theme=z.default,this.getReactionButton=e=>{if(e.enableReactionEmojiButton)switch(!0){case e.smallSizeReactionIcons&&e.enableFilledIconOnHover&&e.hoverOnThumbup:return ee;case e.smallSizeReactionIcons:return _;case e.enableFilledIconOnHover&&e.hoverOnThumbup:return K;default:return X}return e.enableFilledIconOnHover&&e.hoverOnThumbup?J:Z},this.getCommentButton=e=>e.enableFilledIconOnHover&&e.hoverOnComment?Y:q,this.isBlockedReactions=()=>this.renderInfo&&this.renderInfo.reactionRenderInfo&&!this.renderInfo.reactionRenderInfo.renderStatus,this.isBlockedComments=()=>this.renderInfo&&this.renderInfo.commentRenderInfo&&!this.renderInfo.commentRenderInfo.renderStatus,this.shouldHideReactions=()=>this.hideReactions||this.socialBarData&&this.socialBarData.reactionsOptedOut,this.shouldHideComments=()=>this.hideComments||this.socialBarData&&this.socialBarData.commentsOptedOut,this.getCommentsUrl=()=>this.destinationUrl?this.destinationUrl+"#comments":null,this.onReactionClickHandler=(e,t)=>{E.genericClick(t.target),this.onReactionClick(e,t)},this.onReactionClick=(e,t)=>{const o=this.socialBarData,n=this.myReaction;o.reactionCounts=o.reactionCounts||{};const{id:i}=o,r=n===e;if(this.hideReactionMenu(),n==e)o.myReaction=null,o.reactionCounts[e]=o.reactionCounts[e]?o.reactionCounts[e]-1:0;else{o.myReaction=e;const t=o.reactionCounts[e]||0;if(o.reactionCounts[e]=(t||0)+1,n){const e=o.reactionCounts[this.myReaction];o.reactionCounts[n]=(e||1)-1}}this.socialBarData=Object(De.a)(o),this.$emit("on-reaction",{id:i,reactionType:e,reset:r,event:t}),t&&!t.isTrusted&&this.reactionPanelAccessButton&&setTimeout(()=>{this.reactionPanelAccessButton.focus()},75),setTimeout(()=>{this.reactionPanelAccessButton.previousElementSibling.focus()},25)},this.reactionMenuTriggerMouseEnterHandler=(e,t=!0)=>{E.reactionMenuTriggerMouseEnter(e),this.triggerShowReactionMenu(t),this.removeTopComment()},this.reactionsCountToolTipTriggerMouseEnterHandler=(e,t=!0)=>{this.triggerShowReactionsCountToolTip(t)},this.topCommentTriggerMouseEnterHandler=e=>{E.reactionMenuTriggerMouseEnter(e)},this.showReactionMenu=()=>{this.reactionMenuVisible||(this.reactionMenuPositionFixed=!1,this.shouldLabelRenderBelow=!1,this.watchReactionMenu(),setTimeout(()=>{const e=this.shadowRoot.querySelector(".reaction-menu-container");e&&(this.shouldLabelRenderBelow=function(e,t){if(!e)return;const o=e.getBoundingClientRect(),n=t.elementFromPoint(o.left+32,o.top-19);return n!==e&&!e.contains(n)}(e,this.shadowRoot))},50),this.$emit("show-menu"),this.reactionMenuVisible=!0,this.reactionMenuOpenTimer=setTimeout(()=>{this.accessOnloadReactionPanel()},50))},this.showReactionsCountToolTip=()=>{this.reactionsCountToolTipVisible||(this.watchReactionMenu(),this.reactionsCountToolTipVisible=!0)},this.triggerMoveLabel=e=>{const t=this.reactionButtons.filter(e=>"BUTTON"==e.nodeName);t[e]&&function(e,t){if(!e)return;if(!w(t))return;const o=e.getBoundingClientRect(),n=t.getBoundingClientRect(),i=w(t).getBoundingClientRect(),r=o.left-n.left,a=o.right-n.right;if(i.left>o.left||i.right<o.right){const t=(r<0?r:0)+(a>0?a:0);if(0==Math.round(t))return;e.style.transform=`translateX(${-t}px)`}}(t[e].getElementsByClassName("emoji-label")[0],this.reactionMenu)},this.emojiFocused=e=>{this.focusedEmojiKey=e},this.handleHoverOnReaction=(e=!0)=>{this.likeButtonShowWhenHoverReaction&&(this.enableFilledIconOnHover&&e&&(this.shouldShowLikeButton=!0),this.hoverOnReaction=e,this.updateState())},this.handleHoverOnComment=(e=!0)=>{this.hoverOnComment=e},this.handleHoverOnThumbup=(e=!0)=>{this.hoverOnThumbup=e},this.triggerShowReactionMenu=(e=!1)=>{this.reactionMenuCloseTimer&&clearTimeout(this.reactionMenuCloseTimer),e?this.reactionMenuOpenTimer=setTimeout(()=>this.showReactionMenu(),450):this.showReactionMenu()},this.triggerShowReactionsCountToolTip=(e=!1)=>{this.reactionsCountToolTipCloseTimer&&clearTimeout(this.reactionsCountToolTipCloseTimer),e?this.reactionsCountToolTipOpenTimer=setTimeout(()=>this.showReactionsCountToolTip(),450):this.showReactionsCountToolTip()},this.hideReactionMenu=(e=!1)=>{this.emojiFocused(null),this.reactionMenuOpenTimer&&clearTimeout(this.reactionMenuOpenTimer),e?this.reactionMenuCloseTimer=setTimeout(()=>this.reactionMenuVisible=!1,200):this.reactionMenuVisible=!1},this.hideReactionsCountToolTip=(e=!1)=>{this.emojiFocused(null),this.reactionsCountToolTipOpenTimer&&clearTimeout(this.reactionsCountToolTipOpenTimer),e?this.reactionsCountToolTipCloseTimer=setTimeout(()=>this.reactionsCountToolTipVisible=!1,200):this.reactionsCountToolTipVisible=!1}}marketChanged(){this.updateState()}socialBarDataChanged(){this.updateState()}localizedStringsChanged(){this.updateState()}enableReactionEmojiButtonChanged(){this.updateState()}overwriteShowLikeButtonChanged(){this.updateState()}get t(){return this.localizedStrings||{}}updateState(){if(!this.socialBarData||!this.market||!this.localizedStrings)return;var e;this.myReaction=this.socialBarData.myReaction,this.totalReactionsCount=(e=this.socialBarData.reactionCounts)?Object.values(e).reduce((e,t)=>e+t,0):0,this.totalReactionsCountLabel=this.myReaction&&this.totalReactionsCount>1?"+ "+C(this.totalReactionsCount,this.market,this.localizedStrings.thousandsShort):C(this.totalReactionsCount,this.market,this.localizedStrings.thousandsShort,!0),this.showReactionsCount=this.totalReactionsCount>10,this.reactionCountsForMostReactionEmojis=this.socialBarData.reactionCounts,this.showCommentsCount=this.socialBarData.totalCommentsCount>0,this.totalCommentsCountLabel=C(this.socialBarData.totalCommentsCount,this.market,this.localizedStrings.thousandsShort,!0),this.likeButtonLabel=this.t.emojiLabellike,this.hasTopComment=this.socialBarData.topComments&&this.socialBarData.topComments.length>0,this.topCommentLocalizedStrings=Object.assign({},this.t),$e.applyFlights(this);const t=!this.showReactionsCount||!this.likeButtonShowWhenHoverReaction||this.hoverOnReaction||this.overwriteShowLikeButton||this.tabOnReaction;this.showLikeButton=this.topCommentVisible||t&&(!this.showReactionsCount||this.shouldShowLikeButton||this.overwriteShowLikeButton||this.tabOnReaction)}watchReactionMenu(e=20){if(!this.reactionMenuPositionFixed)if(this.reactionMenu)this.reactionMenuPositionFixed=!0,function(e){if(!e)return;const t=e.getBoundingClientRect();if(!w(e))return void e.setAttribute("data-show","true");const o=w(e).getBoundingClientRect();if(o.width>=t.width&&o.height>=t.height){const n=t.left-o.left,i=t.right-o.right,r=(n<0?n:0)+(i>0?i:0);e.style.transform=`translateX(${-r}px)`}e.setAttribute("data-show","true")}(this.reactionMenu),this.touchSlideHandler&&this.touchSlideHandler.setReactionMenuContainer(this.reactionMenu),E.reactionMenuLoaded(this.reactionMenu&&this.reactionMenu.parentElement);else{if(e<1)return;setTimeout(()=>this.watchReactionMenu(--e),25)}}setupTouchSlideHandlerOnTouchStart(e){this.touchSlideHandler||(this.touchSlideHandler=new Ae({onLongpress:e=>this.reactionMenuTriggerMouseEnterHandler(e,!1),onLongpressEnd:()=>this.hideReactionMenu(),onSlideStart:e=>this.reactionMenuTriggerMouseEnterHandler(e,!1),onSlideEnd:()=>this.hideReactionMenu()},{onEmojiFocus:e=>e.classList.add("touchFocused"),onEmojiBlur:e=>e.classList.remove("touchFocused")},".reaction-menu-emoji-button",{slideDisabled:this.reactionSlideSelectDisabled})),this.touchSlideHandler.setupTriggerAtTouchStart(e)}accessToggleReactionMenu(){!this.reactionMenuVisible?(this.accessReactionPanelFocus=!0,this.triggerShowReactionMenu(!1)):this.hideReactionMenu()}handleKeyPress(e){var t;const o=e.event,n=e.index;let i=n;const r=this.reactionButtons.filter(e=>"BUTTON"==e.nodeName),a=Object.keys(m.a);37==o.keyCode?(i=(n-1+a.length)%a.length,r[i].focus()):39==o.keyCode?(i=(n+1)%a.length,r[i].focus()):27==o.keyCode||9==o.keyCode?(this.shadowRoot.activeElement.blur(),null===(t=this.reactionPanelAccessButton)||void 0===t||t.focus(),this.reactionMenuVisible=!1):13!=o.keyCode&&32!=o.keyCode||r[n].click()}accessOnloadReactionPanel(){if(this.accessReactionPanelFocus){const e=this.reactionButtons.find(e=>"BUTTON"==e.nodeName);e&&(e.focus(),this.shouldShowLikeButton=!0),this.accessReactionPanelFocus=!1}}connectedCallback(){var e,t;super.connectedCallback(),this.parentComponent=function(e,t=this){const o={},n=function e(t){var n;return t&&t!==window&&t!==document?t instanceof ShadowRoot?e(null===(n=t.getRootNode())||void 0===n?void 0:n.host):(o[t.tagName]||(o[t.tagName]=t),e(t=t.parentNode),o):o}(t);for(let t=0;t<e.length;t++)if(n[e[t]])return n[e[t]];return null}(He.parentTags,this),this.parentComponent||(this.parentComponent=this),He.registerSocialFocusManager(this),null===(e=this.parentComponent)||void 0===e||e.addEventListener("mouseenter",this.handleSocialMouseEnter),null===(t=this.parentComponent)||void 0===t||t.addEventListener("mouseleave",this.handleSocialMouseLeave)}disconnectedCallback(){var e,t;super.disconnectedCallback(),He.destroySocialFocusManager(this.parentComponent),null===(e=this.parentComponent)||void 0===e||e.removeEventListener("mouseenter",this.handleSocialMouseEnter),null===(t=this.parentComponent)||void 0===t||t.removeEventListener("mouseleave",this.handleSocialMouseLeave)}showLikeAndAccess(e){this.shouldShowLikeButton=!0,this.showAccessibilityButton=!0,e===G&&(this.tabOnReaction=!0),this.updateState()}hideLikeAndAccess(){this.shouldShowLikeButton=!1,this.showAccessibilityButton=!1,this.tabOnReaction=!1,this.updateState()}showLikeButtonHideAccess(){this.shouldShowLikeButton=!0,this.showAccessibilityButton=!1,this.updateState()}handleSocialMouseEnter(){var e;null===(e=He.parentFunctionMap.get(this))||void 0===e||e.showLikeButtonHideAccess()}handleSocialMouseLeave(){var e;null===(e=He.parentFunctionMap.get(this))||void 0===e||e.hideLikeAndAccess()}getTopComment(){return Object(u.a)(this,void 0,void 0,(function*(){return new Promise((e,t)=>{this.hasTopComment?this.socialBarData.topComments[0].id&&d.b.getCommentById(this.socialBarData.topComments[0].id).then(e=>h.a.convertComment(e||null)).then(t=>{this.topCommentData=h.a.convertCommentToTopCommentData(t||null,this.destinationUrl,this.market),e(null)}).catch(()=>t()):t()})}))}renderTopComment(e){const t=()=>{Ie.renderPopover(e,{callbacks:{onMount:e=>{this.topCommentVisible=!0,this.topCommentPopoverRef=Fe.render({data:this.topCommentData,localizedStrings:this.topCommentLocalizedStrings,showReplyCount:!0,showMostReactions:!0,topCommentTelemetryTag:this.topCommentTelemetryTag,enableFocusAssist:this.showAccessibilityButton},e),[z.noBackPlate,z.redesign,z.noBackPlateOnHover,z.noPaddingReactionButton].includes(this.theme)&&function(e,t){const o={"--accent-text-color":"--neutral-foreground-rest","--ago-text-color":"--neutral-focus","--body-background":"--neutral-layer-card","--body-hover-background":"--neutral-fill-hover","--body-text-color":"--neutral-foreground-rest","--card-background":"--neutral-layer-card","--header-text-color":"--neutral-focus"},n=getComputedStyle(e);Object.keys(o).forEach(e=>{const i=n.getPropertyValue(o[e]);i&&i.trim().length>0&&t.style.setProperty(e,i)})}(this,e.querySelector("msn-top-comment"))},onDismiss:()=>{this.removeTopComment()}},alignParentSelectors:He.parentTags})};this.topCommentTriggerMouseEnterHandler(e),this.topCommentData?t():this.getTopComment().then(t).catch(()=>null)}removeTopComment(){const e=()=>this.shadowRoot.getElementById("topCommentAccessButton_"+this.socialBarData.id),t=e();null==t||t.focus(),t&&setTimeout(()=>{var t;null===(t=this.topCommentPopoverRef)||void 0===t||t.remove(),this.showLikeAndAccess(),setTimeout(()=>{var t;null===(t=e())||void 0===t||t.focus()},50)},15),this.topCommentVisible=!1}static registerSocialFocusManager(e){0==He.parentFunctionMap.size&&document.addEventListener("keyup",He.socialFocusManagerHandler,!1),He.parentFunctionMap.has(e.parentComponent)||He.parentFunctionMap.set(e.parentComponent,e)}static destroySocialFocusManager(e){He.parentFunctionMap.has(e),He.parentFunctionMap.delete(e),He.lastFocusedParent==e&&(He.lastFocusedParent=void 0),0==He.parentFunctionMap.size&&document.removeEventListener("keyup",this.socialFocusManagerHandler,!1)}static socialFocusManagerHandler(e){var t,o;if("Tab"==e.key){const n=e.composedPath();let i,r;for(i=0;i<n.length;i++)if(He.parentFunctionMap.has(n[i])){const e=He.parentFunctionMap.get(n[i]);if(n[i]==He.lastFocusedParent){r=G,e.showLikeAndAccess(r);break}e.showLikeAndAccess(r),null===(t=He.parentFunctionMap.get(He.lastFocusedParent))||void 0===t||t.hideLikeAndAccess(),He.lastFocusedParent=n[i];break}i==n.length&&(null===(o=He.parentFunctionMap.get(He.lastFocusedParent))||void 0===o||o.hideLikeAndAccess(),He.lastFocusedParent=void 0)}}}He.parentFunctionMap=new Map,He.parentTags=["MSFT-INFO-PANE-SLIDE","MSFT-CONTENT-CARD","MSFT-ARTICLE-CARD","MSFT-ARTICLE"],Object(u.d)([A.d],He.prototype,"market",void 0),Object(u.d)([A.d],He.prototype,"socialBarData",void 0),Object(u.d)([A.d],He.prototype,"localizedStrings",void 0),Object(u.d)([A.d],He.prototype,"telemetryContext",void 0),Object(u.d)([A.d],He.prototype,"renderInfo",void 0),Object(u.d)([Object(x.b)({mode:"boolean"})],He.prototype,"reactionMenuPositionFixed",void 0),Object(u.d)([x.b],He.prototype,"myReaction",void 0),Object(u.d)([x.b],He.prototype,"reactionMenuCloseTimer",void 0),Object(u.d)([x.b],He.prototype,"reactionMenuOpenTimer",void 0),Object(u.d)([Object(x.b)({mode:"boolean"})],He.prototype,"hoverOnReaction",void 0),Object(u.d)([Object(x.b)({mode:"boolean"})],He.prototype,"hoverOnComment",void 0),Object(u.d)([Object(x.b)({mode:"boolean"})],He.prototype,"hoverOnThumbup",void 0),Object(u.d)([Object(x.b)({mode:"boolean"})],He.prototype,"tabOnReaction",void 0),Object(u.d)([Object(x.b)({mode:"boolean"})],He.prototype,"showReactionsCount",void 0),Object(u.d)([x.b],He.prototype,"totalReactionsCount",void 0),Object(u.d)([x.b],He.prototype,"totalReactionsCountLabel",void 0),Object(u.d)([x.b],He.prototype,"focusedEmojiKey",void 0),Object(u.d)([Object(x.b)({mode:"boolean"})],He.prototype,"shouldLabelRenderBelow",void 0),Object(u.d)([Object(x.b)({mode:"boolean",attribute:"show-comments-count"})],He.prototype,"showCommentsCount",void 0),Object(u.d)([x.b],He.prototype,"totalCommentsCountLabel",void 0),Object(u.d)([Object(x.b)({mode:"boolean"})],He.prototype,"accessReactionPanelFocus",void 0),Object(u.d)([A.d],He.prototype,"destinationUrl",void 0),Object(u.d)([A.d],He.prototype,"socialBarTelemetryTag",void 0),Object(u.d)([A.d],He.prototype,"commentsButtonTelemetryTag",void 0),Object(u.d)([A.d],He.prototype,"reactionsCountButtonTelemetryTag",void 0),Object(u.d)([A.d],He.prototype,"reactionMenuTelemetryTag",void 0),Object(u.d)([A.d],He.prototype,"reactionsParentTelemetryTag",void 0),Object(u.d)([A.d],He.prototype,"reactionTelemetryTags",void 0),Object(u.d)([A.d],He.prototype,"undoReactionTelemetryTags",void 0),Object(u.d)([A.d],He.prototype,"topCommentIconTelemetryTag",void 0),Object(u.d)([A.d],He.prototype,"topCommentTelemetryTag",void 0),Object(u.d)([A.d],He.prototype,"reactionSlideSelectDisabled",void 0),Object(u.d)([A.d],He.prototype,"reactionButtons",void 0),Object(u.d)([Object(x.b)({mode:"boolean"})],He.prototype,"likeButtonShowWhenHoverReaction",void 0),Object(u.d)([Object(x.b)({mode:"boolean"})],He.prototype,"enableReactionEmojiButton",void 0),Object(u.d)([Object(x.b)({mode:"boolean"})],He.prototype,"hideReactions",void 0),Object(u.d)([Object(x.b)({mode:"boolean"})],He.prototype,"showLikeButton",void 0),Object(u.d)([Object(x.b)({mode:"boolean"})],He.prototype,"reactionMenuVisible",void 0),Object(u.d)([Object(x.b)({mode:"boolean"})],He.prototype,"showAccessibilityButton",void 0),Object(u.d)([Object(x.b)({mode:"boolean"})],He.prototype,"overwriteShowLikeButton",void 0),Object(u.d)([Object(x.b)({mode:"boolean"})],He.prototype,"hideComments",void 0),Object(u.d)([Object(x.b)({mode:"boolean"})],He.prototype,"enableFilledIconOnHover",void 0),Object(u.d)([Object(x.b)({mode:"boolean"})],He.prototype,"smallSizeReactionIcons",void 0),Object(u.d)([x.b],He.prototype,"reactionsCountToolTipOpenTimer",void 0),Object(u.d)([x.b],He.prototype,"reactionsCountToolTipCloseTimer",void 0),Object(u.d)([Object(x.b)({mode:"boolean"})],He.prototype,"reactionsCountToolTipVisible",void 0),Object(u.d)([Object(x.b)({mode:"boolean"})],He.prototype,"reactionsCountToolTipEnabled",void 0),Object(u.d)([Object(x.b)({mode:"boolean"})],He.prototype,"disableReactionsTooltip",void 0),Object(u.d)([Object(x.b)({mode:"boolean"})],He.prototype,"reactionsBreakdownDialogEnabled",void 0),Object(u.d)([Object(x.b)({mode:"boolean"})],He.prototype,"topCommentVisible",void 0),Object(u.d)([x.b],He.prototype,"topCommentData",void 0),Object(u.d)([x.b],He.prototype,"topCommentLocalizedStrings",void 0),Object(u.d)([x.b],He.prototype,"theme",void 0);const We=Object(W.b)(28,"reaction-menu-emoji-button"),Ve=Object(W.b)(16,"icon-button"),ze="0px 3.2px 7.2px rgba(0, 0, 0, 0.13), 0px 0.6px 1.8px rgba(0, 0, 0, 0.1)",Ge=Object(W.b)(16,"reactions-count-tool-tip-emoji-button"),qe=ve.a`
    .social-bar-root {
        padding-left: 5px;
    }
    .like-button, 
    .reaction-emoji-button {
        margin-left: -200px;
    }
    .icon-label {
        padding-left: 5px;
    }
    .icon-label.has-plus {
        margin-left: -16px;
    }
    .reaction-menu-container {
        left: 0;
    }
    .reactions-count-tool-tip-container {
        left: -8px;
    }
    .width-transition-enter {
        margin-left: 0;
    }
    .cwt-icon-vector +.cwt-icon-vector + .icon-label {
        padding-left: 2px;
    }
    .button-bg:first-of-type {
        border-top-left-radius: var(--social-button-radius, 4px);
        border-bottom-left-radius: var(--social-button-radius, 4px);
    }
    .button-bg-last-of-type {
        border-top-right-radius: var(--social-button-radius, 4px);
        border-bottom-right-radius: var(--social-button-radius, 4px);
    }

    .button-container.like-visible{
        margin-left: -4px;
        margin-right: 6px;
        overflow: visible;
    }
    .button-container.active-reaction-visible{
        margin-left: -4px;
    }
    .button-container.active-reaction-visible ~ .reactions-count-button {
        margin-left: 14px;
    }
    .reactions-count-button {
        margin-right: 4px;
    }
    /* THEME: NO PADDING REACTION BUTTON */
    .social-bar.${z.noPaddingReactionButton} .reaction-menu-container {
        left: -12px;
    }

    /* THEME: SUPERAPP ListCard / CarouselCard */
    .social-bar.${z.superappCarouselCard} .button-container.like-visible ~ .reactions-count-button:before,
    .social-bar.${z.superappListCard} .button-container.like-visible ~ .reactions-count-button:before {
        margin-left: -10px;
    }

    /* THEME: TOP STORIES */
    .social-bar.${z.topStories} .reactions-count-button:last-child {
        margin-right: 0;
        padding-right: 4px;
    }
    .social-bar.${z.topStories} .button-container.active-reaction-visible ~ .reactions-count-button {
        margin-left: 14px;
    }
`,Ye=ve.a`
    .social-bar-root {
        padding-right: 5px;
    }
    .like-button, 
    .reaction-emoji-button {
        margin-right: -200px;
    }
    .icon-label {
        padding-right: 5px;
    }
    .icon-label.has-plus {
        margin-right: -16px;
    }
    .reaction-menu-container {
        right: 0;
    }
    .reactions-count-tool-tip-container {
        right: -8px;
    }
    .width-transition-enter {
        margin-right: 0;
    }
    .cwt-icon-vector +.cwt-icon-vector + .icon-label {
        padding-right: 2px;
    }
    .button-bg:first-of-type {
        border-top-right-radius: var(--social-button-radius, 4px);
        border-bottom-right-radius: var(--social-button-radius, 4px);
    }
    .button-bg-last-of-type {
        border-top-left-radius: var(--social-button-radius, 4px);
        border-bottom-left-radius: var(--social-button-radius, 4px);
    }

    .button-container.like-visible{
        margin-right: -4px;
        margin-left: 6px;
        overflow: visible;
    }
    .button-container.active-reaction-visible{
        margin-right: -4px;
    }
    .button-container.active-reaction-visible ~ .reactions-count-button {
        margin-right: 14px;
    }
    
    .reactions-count-button {
        margin-left: 4px;
    }
    /* THEME: NO PADDING REACTION BUTTON */
    .social-bar.${z.noPaddingReactionButton} .reaction-menu-container {
        right: -12px;
    }

    /* THEME: SUPERAPP ListCard / CarouselCard */
    .social-bar.${z.superappCarouselCard} .button-container.like-visible ~ .reactions-count-button:before,
    .social-bar.${z.superappListCard} .button-container.like-visible ~ .reactions-count-button:before {
        margin-right: -10px;
    }

    /* THEME: TOP STORIES */
    .social-bar.${z.topStories} .reactions-count-button:last-child {
        margin-left: 0;
        padding-left: 4px;
    }
    .social-bar.${z.topStories} .button-container.active-reaction-visible ~ .reactions-count-button {
        margin-right: 14px;
    }
`,Ze=1e3,Je=ve.a`
    .social-bar {
        position: relative;
        display: flex;
        align-items: center;
        justify-content: flex-start;
        margin: 0;
        font-family: "Segoe UI Bold", "Segoe WP Bold", "Segoe WP", "Segoe UI", Arial, Sans-Serif;
    }
    .social-bar *:focus-visible {
        outline: 2px solid ${ge.G.var};
        z-index: 2;
    }
    .button-container {
        display: inline-flex;
        overflow: hidden;
        padding: 4px;
        margin: -4px;
        transition: all .2s;
    }
    .button-bg {
        background: none;
    }
    .button-bg:hover, .button-bg.highlight, .comments-count-button:hover, .comments-count-button.top-comment-visible{
        background-color: ${ge.v.var};
        padding: ${"8px 8px 0"};
    }
    .no-mr, .icon-button.no-mr {
        margin: 0;
    }
    .icon-button {
        font-weight: normal;
        cursor: pointer;
        margin: 0;
        border: none;
        outline: none;
        display: flex;
        align-items: flex-start;
        color: ${ge.G.var};
        height: ${"32px"};
        font-size: 16px;
        padding: ${"8px 8px 0"};
        box-sizing: border-box;
        text-decoration: none;
        transition: all .2s;
        border-radius: var(--social-button-radius, 4px);
    }
    ${Ve}
    .icon-label {
        white-space: nowrap;
        font-size: 12px;   
        font-family: "Segoe UI Bold", "Segoe WP Bold", "Segoe WP", "Segoe UI", Arial, Sans-Serif;
        line-height: 1.4;
    }
    a.icon-button .icon-label {
        text-decoration: none;
        line-height: 1.4;
    }
    .like-button {
        margin: 0;
        padding-left: 0;
        padding-right: 0;
        opacity: 0;
        transition: all .2s;
    }
    .active-reaction-button {
        margin: 0;
        padding-left: 0;
        padding-right: 0;
        font-weight: 600;
    }
    .cwt-icon-vector {
        font-size: inherit;
        width: 16px;
        color: inherit;
        margin: 0;
    }
    .like-button {
        margin: 0;
        padding-left: 0;
        padding-right: 0;
        opacity: 0;
        transition: all .2s;
    }

    .reactions-count-button {
        padding-right: 0;
        padding-left: 0;
        position: relative;
    }

    .reaction-menu-container {
        position: absolute;
        top: -49px;
        z-index: ${999..toString()};
        display: flex;
        align-items: flex-start;
        justify-content: center;
        padding: 6px 13px 0;
        height: calc(${"28px"} + 14px);
        background: ${ge.H.var};
        border-radius: ${"28px"};
        -webkit-box-shadow: ${ze};
        -moz-box-shadow: ${ze};
        box-shadow: ${ze};
        opacity: 0;
    }
    .reaction-menu-emoji-button {
        cursor: pointer;
        background: none;
        border: none;
        outline: none;
        position: relative;
        display: flex;
        flex-direction: column;
        align-items: center;
        width: calc(${"28px"} + 8px);
        margin: 0 0;
        padding: 4px 5px;
        font-size: ${"28px"};
        transition: ease .2s; 
    }
    ${We}
    .reaction-menu-emoji-button > .emoji-icon{
        transition: ease .2s; 
    }
    .reaction-menu-emoji-button[data-faded] {
        opacity: .4;
    }
    .reaction-menu-emoji-button:hover {
        opacity: 1;
    }
    .reaction-menu-container[data-show] {
        opacity: 1;
        animation: reactionMenuFadeInOpacity .15s ease-out;
    }
    @keyframes reactionMenuFadeInOpacity {
        0% {
            opacity: 0;
            top: -47px;
        }
        100% {
            opacity: 1;
            top: -49px;
        }
    }
    .emoji-label {
        position: absolute;
        z-index: ${Ze.toString()};
        top: -28px;
        display: flex;
        align-items: center;
        justify-content: center;
        white-space: nowrap;
        height: 18px;
        padding: 0 8px 1px;
        font-size: 12px;
        background: ${ge.G.var};
        color: ${ge.H.var};
        border-radius: 11px;
        opacity: 0;
    }

    .emoji-label-bottom {
        top: 45px;
        pointer-events: none;
    }

    .reaction-menu-emoji-button:hover .emoji-label,
    .reaction-menu-emoji-button:focus .emoji-label,
    .reaction-menu-emoji-button.touchFocused .emoji-label{
        opacity: 1;
    }
    .reaction-menu-emoji-button:hover .emoji-icon,
    .reaction-menu-emoji-button.touchFocused .emoji-icon{
        transform: scale(1.285) translateY(-4px);
    }
    .width-transition-enter {
        opacity: 1;
    }
    .width-transition-enter > * {
        opacity: 1;
    }
    .no-select {
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        -khtml-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none
    }
    .social-bar:not(.accessibility-visible) .button-container .button-bg.accessibility-button {
        display: none;
        margin: 0;
        padding: 0;
        width: 0;
        overflow: hidden;
    }
    .social-bar.accessibility-visible .button-container .button-bg.accessibility-visible {
        height: 32px;
        padding: 2px 5px 0;
        margin: 0 1px;
        color: ${ge.G.var};
        fill: ${ge.G.var};
        border: none;
        align-items: center;
        width: auto;
    }
    .social-bar.accessibility-visible .button-bg.accessibility-visible {
        margin-top: 2px;
        padding: 4px;
        height: 24px;
    }
    .cwt-hide {
        display: none;
    }

    /* Top-Comment *****/
    .icon-wrapper.has-top-comment-marker { 
        background: no-repeat url(${"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOCIgaGVpZ2h0PSI5IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxjaXJjbGUgY3g9IjQiIGN5PSI0Ljc5IiByPSI0IiBmaWxsPSJ1cmwoI3BhaW50MF9saW5lYXIpIi8+PGRlZnM+PGxpbmVhckdyYWRpZW50IGlkPSJwYWludDBfbGluZWFyIiB4MT0iMi4yMjIiIHkxPSI0LjEyMiIgeDI9IjYuNjk5IiB5Mj0iMTAuMDk0IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHN0b3Agc3RvcC1jb2xvcj0iI0ZBODg2RiIvPjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iI0Y3QjEyQiIvPjwvbGluZWFyR3JhZGllbnQ+PC9kZWZzPjwvc3ZnPg=="}) 12px 4px;
        background-size: 9px;
        padding: 6px 3px;
        margin: -5px -3px;
    }
    .has-top-comment-marker .cwt-icon-vector { 
        clip-path: polygon(25% 0%, 100% 60%, 100% 100%, 0 100%, 0 0);
    }

    .reactions-count-tool-tip-container {
        pointer-events: none;
        position: absolute;
        bottom: 30px;
        flex-direction: column;
        align-items: flex-start;
        justify-content: center;
        z-index: ${999..toString()};
        padding: 6px 8px;        
        background: ${ge.H.var};
        -webkit-box-shadow: ${ze};
        -moz-box-shadow: ${ze};
        box-shadow: ${ze};
    }
    .reactions-count-tool-tip-emoji-button {
        display: flex;
        align-items: center;
        font-size: 12px;
        color: ${ge.G.var};
    }
    ${Ge}
    .reactions-count-tool-tip-emoji-button > .emoji-icon: {
        transition: "none";
    }
    .tool-tip-icon-count {
        font-size: 12px;
        margin: 4px 4px;
    }

    /* Top-Stories *****/
    .social-bar.no-select.${z.topStories} {
        background-color: ${ge.v.var};
    }

    /* THEMES *****/
    .social-bar.${z.default}{}

    /* THEME: REDESIGN */
    .social-bar.${z.redesign} .button-bg{
        --social-button-radius: 64px;
        color: unset;
        background-color: ${ge.v.var};
        padding-right: 16px;
        padding-left: 16px;
    }

    .social-bar.${z.redesign} .reaction-emoji-button {
        padding: 8px 6px;
        align-items: center;
    }

    .social-bar.${z.redesign} .comments-count-button {
        --social-button-radius: 64px;
    }
    
    /* THEME: NO BACKPLATE ON REST*/
    .social-bar.${z.noBackPlate} {
        --social-button-radius: 64px;
    }
    .social-bar.${z.noBackPlate} .button-bg {
        --social-button-radius: 64px;
        color: unset;
        padding-right: 16px;
        padding-left: 16px;
    }

    /* THEME: NO BACKPLATE ON HOVER*/
    .social-bar.${z.noBackPlateOnHover} .button-bg, 
    .social-bar.${z.noBackPlateOnHover} .button-bg:hover, 
    .social-bar.${z.noBackPlateOnHover} .comments-count-button:hover {
        background-color: transparent;
    }

    .social-bar.${z.noBackPlateOnHover} .button-bg, 
    .social-bar.${z.noBackPlateOnHover} .button-bg:hover {
        padding-right: 0;
    }

    /* THEME: NO BACKPLATE ON HOVER + NO PADDING REACTION BUTTON */
    .social-bar.${z.noBackPlateOnHoverNoPadding} .button-bg, 
    .social-bar.${z.noBackPlateOnHoverNoPadding} .button-bg:hover, 
    .social-bar.${z.noBackPlateOnHoverNoPadding} .comments-count-button:hover {
        background-color: transparent;
    }

    .social-bar.${z.noBackPlateOnHoverNoPadding} .button-bg.like-button, 
    .social-bar.${z.noBackPlateOnHoverNoPadding} .button-bg.like-button:hover,
    .social-bar.${z.noBackPlateOnHoverNoPadding} .button-bg.active-reaction-button, 
    .social-bar.${z.noBackPlateOnHoverNoPadding} .button-bg.active-reaction-button:hover {
        margin-inline-start: -12px;
        padding-right: 12px;
        padding-left: 12px;
    }

    .social-bar.${z.noBackPlateOnHoverNoPadding} .button-bg.reaction-emoji-button, 
    .social-bar.${z.noBackPlateOnHoverNoPadding} .button-bg.reaction-emoji-button:hover {
        margin-inline-start: -8px;
        margin-inline-end: 4px;
        padding-top: 6px;
    }

    .social-bar.${z.noBackPlateOnHoverNoPadding} .button-container {
        overflow: visible;
        margin-inline-end: 0;
        padding-inline-end: 0;
    }

    /* THEME: NO PADDING REACTION BUTTON */
    .social-bar.${z.noPaddingReactionButton} .button-bg, 
    .social-bar.${z.noPaddingReactionButton} .button-bg:hover, 
    .social-bar.${z.noPaddingReactionButton} .comments-count-button:hover {
        --social-button-radius: 64px;
    }

    .social-bar.${z.noPaddingReactionButton} .button-bg.like-button, 
    .social-bar.${z.noPaddingReactionButton} .button-bg.like-button:hover,
    .social-bar.${z.noPaddingReactionButton} .button-bg.active-reaction-button, 
    .social-bar.${z.noPaddingReactionButton} .button-bg.active-reaction-button:hover {
        padding-right: 12px;
        padding-left: 12px;
        margin-inline-start: -12px;
    }

    .social-bar.${z.noPaddingReactionButton} .button-bg.reaction-emoji-button, 
    .social-bar.${z.noPaddingReactionButton} .button-bg.reaction-emoji-button:hover {
        margin-inline-start: -10px;
    }

    .social-bar.${z.noPaddingReactionButton} .button-container {
        overflow: visible;
    }

    /* THEME: SUPERAPP ARTICLE CARD */
    .social-bar.${z.superappDefault} .button-bg{
        --social-button-radius: 64px;
        color: unset;
        background-color: ${ge.v.var};
        padding-right: 16px;
        padding-left: 16px;
    }

    .social-bar.${z.superappDefault} .reaction-emoji-button {
        padding: 8px 6px;
        align-items: center;
    }

    /* THEME: SUPERAPP ListCard / CarouselCard */
    .social-bar.${z.superappCarouselCard} *:focus-visible,
    .social-bar.${z.superappListCard} *:focus-visible {
        outline: none;
    }
    .social-bar.${z.superappCarouselCard} .button-bg,
    .social-bar.${z.superappListCard} .button-bg {
        background: none;
        padding-left: unset;
        padding-right: unset;
    }
    .social-bar.${z.superappCarouselCard} .button-container.like-visible ~ .reactions-count-button:before,
    .social-bar.${z.superappListCard} .button-container.like-visible ~ .reactions-count-button:before {
        content: "|";
        display: inline-block;
        margin-top: -1px;
        padding: 0 10px;
        font-size: 12px;
        color: ${ge.G.var};
        opacity: .8;
    }
    .social-bar.${z.superappCarouselCard} .button-container .button-bg:not,
    .social-bar.${z.superappListCard} .button-container .button-bg:not {
        background: none;
        padding-left: 0;
        padding-right: 0;
    }
`.withBehaviors(ge.v,ge.H,ge.G,new be.a(qe,Ye));let Qe=class extends He{};Qe=Object(u.d)([Object(pe.b)({name:"msn-social-bar",template:de,styles:Je})],Qe);var Xe=o("3cVL");const Ke=f.b`
    ${e=>{var t;return(null===(t=e.config.childExperienceReferencesWC)||void 0===t?void 0:t.reactionBreakdownDialog)&&Object(Xe.a)(e.config.childExperienceReferencesWC.reactionBreakdownDialog,{properties:{contentId:e.contentId,market:e.locale},events:{"dismiss-dialog":e.dismissPopup}})}}
`,_e=f.b`
${Object(N.a)(e=>!e.reactionsDisabled,f.b`
<msn-social-bar
    part="msn-social-bar"
    exportparts="social-bar, like-button-container, active-button-container, button-bg, reaction-menu-container"
    :socialBarData=${e=>e.selfFetchedSocialBarData||e.socialBarData}
    :renderInfo=${e=>e.renderInfoData}
    :market=${e=>e.locale}
    :destinationUrl=${e=>e.destinationUrl}
    :localizedStrings=${e=>e.config}
    :overwriteShowLikeButton=${e=>e.config.likeButtonAlwaysVisible||e.likeButtonAlwaysVisible}
    :disableReactionsTooltip= ${e=>e.disableReactionsTooltip}
    @on-reaction=${(e,t)=>e.onReaction&&e.onReaction(t.event.detail.id,t.event.detail.reactionType,t.event.detail.reset)}
    :socialBarTelemetryTag=${e=>e.telemetryContext&&e.telemetryContext.socialBar&&e.telemetryContext.socialBar.getMetadataTag()}
    :commentsButtonTelemetryTag=${e=>e.telemetryContext&&e.telemetryContext.commentsButton&&e.telemetryContext.commentsButton.getMetadataTag()}
    :reactionsCountButtonTelemetryTag=${e=>e.telemetryContext&&e.telemetryContext.reactionsCountButton&&e.telemetryContext.reactionsCountButton.getMetadataTag()}
    :reactionMenuTelemetryTag=${e=>e.telemetryContext&&e.telemetryContext.reactionMenu&&e.telemetryContext.reactionMenu.getMetadataTag()}
    :reactionsParentTelemetryTag=${e=>e.telemetryContext&&e.telemetryContext.reactionsParent&&e.telemetryContext.reactionsParent.getMetadataTag()}
    :reactionTelemetryTags=${e=>e.telemetryContext&&e.telemetryContext.reactionTelemetryObjects&&Object.keys(e.telemetryContext.reactionTelemetryObjects).reduce((t,o)=>(t[o]=e.telemetryContext.reactionTelemetryObjects[o].getMetadataTag(),t),{})}
    :undoReactionTelemetryTags=${e=>e.telemetryContext&&e.telemetryContext.undoReactionTelemetryObjects&&Object.keys(e.telemetryContext.undoReactionTelemetryObjects).reduce((t,o)=>(t[o]=e.telemetryContext.undoReactionTelemetryObjects[o].getMetadataTag(),t),{})}
    :topCommentIconTelemetryTag=${e=>e.telemetryContext&&e.telemetryContext.topCommentIcon&&e.telemetryContext.topCommentIcon.getMetadataTag()}
    :topCommentTelemetryTag=${e=>e.telemetryContext&&e.telemetryContext.topCommentTelemetryContext&&e.telemetryContext.topCommentTelemetryContext.getMetadataTag()}
    :hideReactions=${e=>e.config.socialbarCommentsOnly}
    :theme=${e=>e.theme}
    :likeButtonShowWhenHoverReaction=${e=>e.config.likeButtonShowWhenHoverReaction}
    :enableReactionEmojiButton=${e=>e.config.enableReactionEmojiButton}
    :enableFilledIconOnHover=${e=>e.config.enableFilledIconOnHover}
    :smallSizeReactionIcons=${e=>e.config.smallSizeReactionIcons}
    :hideComments=${e=>e.hideComments}
    @on-reactions-count-click=${(e,t)=>e.onReactionsCountClick&&e.onReactionsCountClick()}
/>

<style>
    @media (-ms-high-contrast:active) {

        msn-social-bar::part(button-bg),
        msn-social-bar::part(reactions-count-button),
        msn-social-bar::part(comments-count-button) {
            color: buttontext;
            background-color: buttonface;
        }

        msn-social-bar::part(button-bg):hover,
        msn-social-bar::part(button-bg):focus-visible,
        msn-social-bar::part(reactions-count-button):hover,
        msn-social-bar::part(reactions-count-button):focus-visible,
        msn-social-bar::part(comments-count-button):hover,
        msn-social-bar::part(comments-count-button):focus-visible {
            color: buttonface;
            background-color: highlight;
        }
    }
</style>`)}
`;var et=o("C/Vb");class tt extends L.a{constructor(){super(...arguments),this.onReaction=(e,t,o)=>{n.sendContentReaction(e,m.a[t.toLowerCase()],o)},this.onReactionsCountClick=()=>{D.render(Ke,this)},this.dismissPopup=()=>{D.dismiss()}}experienceConnected(){var e,t;(null===(e=this.config.childExperienceReferencesWC)||void 0===e?void 0:e.reactionBreakdownDialog)&&Object(et.a)(null===(t=this.config.childExperienceReferencesWC)||void 0===t?void 0:t.reactionBreakdownDialog)}getExperienceType(){return c.a.socialBarWC}shadowDomPopulated(){!this.contentId||this.socialMetadata&&!d.b.isURL(this.contentId)||this.fetchContentData(),this.fetchRenderInfoContent()}fetchRenderInfoContent(){tt.renderInfoContent||(tt.renderInfoContent={isFetching:!0},d.b.getContentById(this.contentId,this.locale).then(e=>{tt.renderInfoContent=e}))}fetchContentData(){d.b.getContentById(this.contentId,this.locale).then(e=>{const{id:t,reactionCounts:o,totalCommentCount:n}=e;if(this.reactionBlockCheckEnabled&&this.destinationUrl&&(this.reactionsDisabled=!Object(I.a)(this.destinationUrl,e).reactionRenderInfo.renderStatus,this.reactionsDisabled))return;this.contentId=t.indexOf("_")>0?t.split("_")[0]:t;const i=t&&h.a.getLocalContentReaction(t);this.selfFetchedSocialBarData={id:t,myReaction:i,reactionCounts:o,totalCommentsCount:n}})}get renderInfoData(){if(this.contentId&&this.locale)return this.destinationUrl&&tt.renderInfoContent&&(this.renderInfo=Object(I.a)(this.destinationUrl,tt.renderInfoContent)),this.renderInfo}get socialBarData(){if(!this.contentId||!this.locale)return null;const{myReaction:e,reactionSummary:t,commentSummary:o,topComments:n}=this.socialMetadata||{};return h.a.mapFeedResponseToSocialBarData(`${this.contentId}_${this.locale}`,e,t,o,n,this.renderInfoData)}get telemetryContext(){if(this.contentId&&this.locale)return this._telemetryContext||(this._telemetryContext=R(new B.a({name:"SocialBarContainer"}),`${this.contentId}_${this.locale}`)),this._telemetryContext}}Object(u.d)([x.b],tt.prototype,"destinationUrl",void 0),Object(u.d)([x.b],tt.prototype,"contentId",void 0),Object(u.d)([x.b],tt.prototype,"locale",void 0),Object(u.d)([A.d],tt.prototype,"socialMetadata",void 0),Object(u.d)([A.d],tt.prototype,"selfFetchedSocialBarData",void 0),Object(u.d)([A.d],tt.prototype,"rootTelemetryObject",void 0),Object(u.d)([x.b],tt.prototype,"likeButtonAlwaysVisible",void 0),Object(u.d)([x.b],tt.prototype,"hideComments",void 0),Object(u.d)([x.b],tt.prototype,"reactionsDisabled",void 0),Object(u.d)([x.b],tt.prototype,"reactionBlockCheckEnabled",void 0),Object(u.d)([x.b],tt.prototype,"theme",void 0),Object(u.d)([x.b],tt.prototype,"disableReactionsTooltip",void 0),Object(u.d)([A.d],tt,"renderInfoContent",void 0);const ot=ve.a``,nt={experienceConfigSchema:l}},HAaN:function(e,t,o){"use strict";o.d(t,"a",(function(){return u})),o.d(t,"b",(function(){return O}));var n=o("D57K"),i=o("Kpu7");function r(){return Object(n.a)(this,void 0,void 0,(function*(){return new Promise((e,t)=>{if(window.AzureStorage)return e(window.AzureStorage);!function(e,t,o){const n=document,i="script";if(!n.getElementById(t)){const r=n.getElementsByTagName(i)[0],a=n.createElement(i);a.id=t,a.src=e,a.onload=o,r.parentNode.insertBefore(a,r)}}("https://assets.msn.com/labs/views/CommentWidget/js/azure-storage.blob.min.js","azure-storage-blob-jssdk",()=>window.AzureStorage?e(window.AzureStorage):t())})}))}var a=o("HxRh");const s={unknown:a.Oh,contents:a.Nh,users:a.Ph,comments:a.Mh};var c=o("tMmC");const l=new class{constructor(){this.onAppError=void 0}log(e){if(this.onAppError)try{this.onAppError(e)}catch(e){c.a.logError(e)}}setOnAppError(e){this.onAppError=e}};var u,d,p=o("hSGL"),m=o("dTwT"),h=o("rvYQ"),g=o("gvPr"),b=o("RIQ7"),v=o("q77S"),y=o("TRvk"),f=o("9y7U");o("XgsJ");!function(e){e.contents="contents",e.comments="comments",e.users="users"}(u||(u={})),function(e){e.article="article",e.slideshow="slideshow",e.video="video"}(d||(d={}));const C=(e,t,o,n)=>{if(n)n(e,o?null:t);else if(Object(m.a)().supported)if(o){Object(m.a)().setItem(`${v.b}${e}`,""),Object(m.a)().removeItem(`${v.b}${e}`);const t=Object(m.a)().getItem(v.a);let o=t?t.split(","):[];o=o.filter(t=>t!=e),Object(m.a)().setItem(v.a,o.join(","))}else if(t){const o=Object(m.a)().getItem(v.a);let n=o?o.split(","):[];n.length>200&&(n=n.filter((e,t)=>!(t<100)||(Object(m.a)().removeItem(`${v.b}${e}`),!1))),n.push(e),Object(m.a)().setItem(`${v.b}${e}`,t),Object(m.a)().setItem(v.a,n.join(","))}};class O{constructor(e){O.sendAuthHeader=e}static get msaAccessToken(){return Object(i.c)("msaAccessToken")}static get muid(){return Object(i.c)("muid")}static get fdhead(){return Object(i.c)("fdhead")||h.a.CurrentRequestTargetScope&&h.a.CurrentRequestTargetScope.pageExperiments&&h.a.CurrentRequestTargetScope.pageExperiments.join()}static get ocid(){return Object(i.c)("ocid")||Object(b.b)()}static setDomain(e){this.domain=e,this.endpoints=Object.assign(Object.assign({},this.endpoints),{contents:O.domain.concat("urls/"),providerContents:O.domain.concat("contents"),comments:O.domain.concat("comments/"),users:O.domain.concat("users/")})}static fetchMe(e){return Object(n.a)(this,void 0,void 0,(function*(){return O.getUserById("me",e)}))}static fetchUserCommunitySettings(){var e;return Object(n.a)(this,void 0,void 0,(function*(){const t=yield p.a.getPdpUserPreference();return(null===(e=null==t?void 0:t.value)||void 0===e?void 0:e.length)>0&&t.value[0].communitySettings||null}))}static deleteMyData(e){return Object(n.a)(this,void 0,void 0,(function*(){const t=Object.assign(Object.assign({},e),{profile:"social"});return O.DELETE(O.endpoints.users+"me/",t)}))}static getUserById(e,t=!1){return Object(n.a)(this,void 0,void 0,(function*(){return O.GET(O.endpoints.users+e,{version:"1.1",profile:"social",verify:t}).then(e=>y.a.convertUser(e||null))}))}static getXPayTokenInfo(){return Object(n.a)(this,void 0,void 0,(function*(){return h.a.Environment===g.a.int?O.GET(f.a.externalUrls.ppeApi+"xpaytoken"):O.GET(O.domain+"xpaytoken")}))}static getUserProfile(e){return Object(n.a)(this,void 0,void 0,(function*(){let t={followers:void 0,following:void 0,comments:void 0};return Promise.all([O.GET(O.endpoints.users+e,{version:"1.1",profile:"social"}).then(e=>{t=Object.assign(Object.assign({},t),y.a.convertUser(e||null))}),O.getFollowersByUserId(e).then(e=>{t.followers=e}),O.getFollowingsByUserId(e).then(e=>{t.following=e}),O.getCommentsByUserId(e).then(e=>{t.comments=e})]).then(e=>t).catch(e=>{c.a.logError("Error getting user profile: "+e.statusText)})}))}static getUserContents(e,t,o,i={}){return Object(n.a)(this,void 0,void 0,(function*(){const n={market:t,$top:i.top||20,$skip:i.skip||0,$orderby:i.orderBy||"Time"};return o&&(n.productType="premium"),O.GET(O.endpoints.users+e+"/contents",n)}))}static appealMe(){return Object(n.a)(this,void 0,void 0,(function*(){return O.POST(O.endpoints.users+"me/appeals",{})}))}static appealMyPicture(){return Object(n.a)(this,void 0,void 0,(function*(){return O.POST(O.endpoints.users+"me/pictureAppeals",{})}))}static getFollowersByUserId(e,t=10,o=0){return Object(n.a)(this,void 0,void 0,(function*(){const n={$top:t,$skip:o};return O.GET(O.endpoints.users+e+"/followers",n).then(e=>y.a.convertUserList(e))}))}static getFollowingsByUserId(e,t=10,o=0){return Object(n.a)(this,void 0,void 0,(function*(){const n={$top:t,$skip:o};return O.GET(O.endpoints.users+e+"/followings",n).then(e=>y.a.convertUserList(e))}))}static createUser(e){return Object(n.a)(this,void 0,void 0,(function*(){const t={notUseAvatar:e||!1};return O.POST(O.endpoints.users+"me",t,{profile:"social"},void 0).then(e=>y.a.convertUser(e||null)).catch(e=>e.json().then(e=>{throw e}))}))}static updateUserSettings(e,t){return Object(n.a)(this,void 0,void 0,(function*(){const o={};return o[e]={isPrivateProfile:t},O.PUT(O.endpoints.users+e+"/settings",o,{},e)}))}static followUser(e,t){return Object(n.a)(this,void 0,void 0,(function*(){return O.POST(O.endpoints.users+t+"/followers/"+e,{},{},e)}))}static unfollowUser(e,t){return Object(n.a)(this,void 0,void 0,(function*(){return O.DELETE(O.endpoints.users+t+"/followers/"+e,{},e)}))}static getUserIsFollowed(e,t){return Object(n.a)(this,void 0,void 0,(function*(){return new Promise((o,n)=>{e?O.GET(O.endpoints.users+t+"/followers/"+e,{}).then(e=>o(!0)).catch(e=>o(!1)):o(null)})}))}static reportUser(e,t,o,i){return Object(n.a)(this,void 0,void 0,(function*(){const n="ProfilePicture"==t?"PictureAbusereports":"NameAbusereports",{reportMessage:r,intellectualPropertyDetails:a}=i||{},s={ReportType:o,ReportMessage:r||"",IntellectualPropertyDetails:a};try{return O.POST(O.endpoints.users+e+"/"+n,s,{})}catch(e){c.a.logError(e)}}))}static getUserNotifications(){return Object(n.a)(this,void 0,void 0,(function*(){return O.GET(O.endpoints.users+"me/activities",{onlynotification:!0,read:!1,$top:5,$skip:0}).then(e=>y.a.convertUserActivities(e||null))}))}static getUserActivities(e,t){return Object(n.a)(this,void 0,void 0,(function*(){const o={$top:e||50,$skip:t||0};return O.GET(O.endpoints.users+"me/activities",o).then(e=>y.a.convertUserActivities(e||null))}))}static updateUserActivityStatus(e,t=!0){return Object(n.a)(this,void 0,void 0,(function*(){const o={id:e,read:t};return O.POST(O.endpoints.users+"me/activities",o)}))}static getContentById(e,t){return Object(n.a)(this,void 0,void 0,(function*(){const o=this.isURL(e)?{url:e,market:t,version:"1.1"}:{cmsid:e,market:t,version:"1.1"};return t||delete o.market,O.GET(O.endpoints.contents,o).then(e=>y.a.convertContent(e||null))}))}static getProviderContents(e,t,o,n,i={}){const r={providerId:e,market:t,apiKey:h.a.OneServiceApiKey,$top:i.top||20,$skip:i.skip||0,$orderby:i.orderBy||"Time desc"};return o&&(r.contentType=o),n&&(r.partnerTag=n),O.GET(O.endpoints.providerContents,r)}static isURL(e){return/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(e)}static getCommentById(e){return Object(n.a)(this,void 0,void 0,(function*(){return O.GET(O.endpoints.comments+e).then(e=>y.a.convertComment(e||null))}))}static getCommentsByContentId(e,t){return Object(n.a)(this,void 0,void 0,(function*(){const o={contentId:e,$top:t.top||50,$skip:t.skip||0,$orderby:t.orderBy||t.sortType||"Rating"};return O.GET(O.endpoints.comments,o).then(e=>{let t="On";try{t=e.links.find(e=>"Content"==e.type).item.commentStatus||t}catch(e){c.a.logError("Invalid content data in comments response.")}try{const o=y.a.convertCommentList(e||null);return o.commentStatus=t,o}catch(e){return c.a.logError("Invalid comment list data in comments response."),{commentStatus:"Off",list:[]}}})}))}static getCommentsByParentId(e,t){return Object(n.a)(this,void 0,void 0,(function*(){const o={parentId:e,$top:t.top||10,$skip:t.skip||0,$orderby:t.orderBy||"Time"};return O.GET(O.endpoints.comments,o).then(e=>y.a.convertCommentList(e||null))}))}static getCommentsByAnchorCommentId(e,t){return Object(n.a)(this,void 0,void 0,(function*(){const o={anchorId:e,$top:t.top||10,$skip:t.skip||0,$orderby:t.orderBy||"Time"};return O.GET(O.endpoints.comments,o).then(e=>y.a.convertCommentList(e||null))}))}static getCommentsByUserId(e,t=10,o=0,i="Time"){return Object(n.a)(this,void 0,void 0,(function*(){const n={userId:e,$top:t,$skip:o,$orderby:i};return O.GET(O.endpoints.comments,n).then(e=>y.a.convertCommentList(e||null))}))}static postComment(e,t,o,i,r){return Object(n.a)(this,void 0,void 0,(function*(){const n={ContentId:e,Body:o,parentId:i&&i!=e?i:void 0,mentionReply:r};return new Promise((e,o)=>{O.POST(O.endpoints.comments,n,{},t).then(t=>{e(y.a.convertComment(t||null))},e=>{e.json().then(e=>{o(e)}).catch(t=>{c.a.logError("Error getting comment info: "+e.statusText),o()})})})}))}static deleteComment(e){return Object(n.a)(this,void 0,void 0,(function*(){return O.DELETE(O.endpoints.comments+e,{})}))}static appealComment(e){return Object(n.a)(this,void 0,void 0,(function*(){return O.POST(O.endpoints.comments+e+"/appeals",{})}))}static reportComment(e,t,o){return Object(n.a)(this,void 0,void 0,(function*(){const{reportMessage:n,intellectualPropertyDetails:i}=o||{},r={ReportType:t,ReportMessage:n||"",IntellectualPropertyDetails:i};try{return O.POST(O.endpoints.comments+e+"/abusereports",r,{})}catch(e){c.a.logError(e)}}))}static uploadCopyrightFile(e){return Object(n.a)(this,void 0,void 0,(function*(){const t=yield O.GET(O.endpoints.users+"me/UploadSasToken",{type:"ContentReport"}),o=yield r(),i="https://"+t.accountUrl.split("?")[0],a=o.Blob.createBlobServiceWithSas(i,t.sasString);return new Promise((o,i)=>{a.createBlockBlobFromBrowserFile(t.container,t.blobName,e,(e,r,a)=>Object(n.a)(this,void 0,void 0,(function*(){return e?i(e):o(t.id)})))})}))}static rate(e,t,o,i=!1,r){return Object(n.a)(this,void 0,void 0,(function*(){const n={},i={subType:o};try{const a=yield O.POST(O.endpoints[e]+t+"/reactions",i,n);return C(t,o,!1,r),y.a.convertRatingToRateValue(a||null)}catch(e){return c.a.logError(e),o}}))}static resetRating(e,t,o){return Object(n.a)(this,void 0,void 0,(function*(){try{return C(t,null,!0,o),O.DELETE(O.endpoints[e]+t+"/reactions",{})}catch(e){c.a.logError(e)}}))}static getFriendRatings(e,t){return Object(n.a)(this,void 0,void 0,(function*(){return O.GET(O.endpoints[e]+t+"/reactions",{friends:!0,$top:2})}))}static getRating(e,t){return Object(n.a)(this,void 0,void 0,(function*(){return O.GET(O.endpoints[e]+t+"/reactions",{}).then(e=>y.a.convertRatingToRateValue(e||null))}))}static getRatingBreakdown(e,t,o){return Object(n.a)(this,void 0,void 0,(function*(){return O.GET(O.endpoints[e]+t+"/reactions",{others:!0}).then(e=>y.a.convertReactionsResponseToReactionBreakdownData(e||null,o))}))}static prepareHubString(e){return e.replace(/-/g,"_")}static getSignalRConnectionInfo(e){return Object(n.a)(this,void 0,void 0,(function*(){const t=this.prepareHubString(e);return O.POST(O.endpoints.typingUpdates+"RealtimeTypingNegotiate",{},{hub:t})}))}static broadcastCommentNotification(e,t,o){return Object(n.a)(this,void 0,void 0,(function*(){const n=this.prepareHubString(e),i={type:"comment-notification",data:{commentId:t,commentParentId:o}};return O.POST(O.endpoints.typingUpdates+"RealtimeTypingBroadcast",i,{hub:n}).then(e=>{},e=>{})}))}static broadcastTypingNotification(e,t,o,i){return Object(n.a)(this,void 0,void 0,(function*(){const n=this.prepareHubString(e),r={type:"typing-notification",data:{id:t,name:o,profileImageUrl:i}};return O.POST(O.endpoints.typingUpdates+"RealtimeTypingBroadcast",r,{hub:n},t).then(e=>{},e=>{})}))}static GET(e,t,o){return Object(n.a)(this,void 0,void 0,(function*(){const n={queryParams:t=t||{},authHeader:void 0,body:void 0,method:"GET"};return o&&O.sendAuthHeader&&(n.authHeader=o),this.xhr(e,n)}))}static POST(e,t,o,i,r="POST"){return Object(n.a)(this,void 0,void 0,(function*(){const n={method:r,queryParams:o=o||{},body:t,authHeader:void 0};return i&&O.sendAuthHeader&&(n.authHeader=i),this.xhr(e,n)}))}static PUT(e,t,o,i){return Object(n.a)(this,void 0,void 0,(function*(){return O.POST(e,t,o,i,"PUT")}))}static DELETE(e,t,o){return Object(n.a)(this,void 0,void 0,(function*(){const n={method:"DELETE",queryParams:t=t||{},authHeader:void 0,body:void 0};return o&&O.sendAuthHeader&&(n.authHeader=o),this.xhr(e,n)}))}static clearCache(){O.cachedResponses={}}static fetchRetry(e,t,o=2){return Object(n.a)(this,void 0,void 0,(function*(){try{const o=yield fetch(e,t);if(o.status>=500)throw new Error("Retry API error");return o}catch(n){if(o<=1)throw n;return yield O.fetchRetry(e,t,o-1)}}))}static fetchCachedResponse(e,t){if(t&&"GET"==t.method&&e in O.cachedResponses)return O.cachedResponses[e];t&&"GET"!=t.method&&O.clearCache();const o=O.fetchRetry(e,t);return t&&"GET"==t.method&&(O.cachedResponses[e]=o,setTimeout(()=>{e in O.cachedResponses&&delete O.cachedResponses[e]},500)),o}static xhr(e,t={queryParams:void 0,method:void 0,authHeader:void 0,body:void 0}){return Object(n.a)(this,void 0,void 0,(function*(){t.queryParams.scn="windowsShell"===h.a.AppType?"APP_ANON":"MSNRPSAuth",t.queryParams.wrapodata="false";const o="GET"!==t.method?{"Content-Type":"application/json"}:{};t.authHeader&&(o["X-MSN-SCP-Auth"]=t.authHeader),O.msaAccessToken&&(o.UserTicketType="2",o.UserAuthToken=O.msaAccessToken,o.SiteName="api.msn.com"),O.muid&&(o.muid="m-"+O.muid),O.fdhead&&(t.queryParams.fdhead=O.fdhead),!t.queryParams.ocid&&O.ocid&&(t.queryParams.ocid=O.ocid);const n=Object(i.a)(t.queryParams),r={method:t.method||"GET",headers:o,credentials:"include"};return t.body&&(r.body=JSON.stringify(t.body)),O.fetchCachedResponse(e+n,r).then(o=>{if(!(o.status>=200&&o.status<300||401==o.status))throw(o.status>499||400==o.status)&&this.onRequestError(e,t),o;if(204==o.status)return{};try{return o.clone().json().then(e=>(e.value&&(e=e.value[0]),e))}catch(n){throw this.onRequestError(e,t),{status:o.status,statusText:"INVALID_RESPONSE"}}})}))}static onRequestError(e,t){const o=this.resourceForUrl(e),n=s[o]||s.unknown;l.log(Object.assign(Object.assign({},n),{message:"Request failed",pb:Object.assign(Object.assign({},n.pb),{customMessage:o,url:e,method:t.method})}))}static resourceForUrl(e){for(const[t,o]of Object.entries(u))if(e.indexOf("/"+o)>0)return o;return"unknown"}static getPublisherFeed(e,t){return Object(n.a)(this,void 0,void 0,(function*(){const e={contentType:"article,video,slideshow,webcontent",market:t,apikey:h.a.OneServiceApiKey,ocid:"Peregrine"};return O.GET(O.endpoints.publisherFeed,e).then(e=>y.a.convertPublisherFeed(e||null))}))}}O.domain=f.a.externalUrls.api,O.endpoints={contents:O.domain.concat("urls/"),providerContents:O.domain.concat("contents"),comments:O.domain.concat("comments/"),users:O.domain.concat("users/"),systags:"https://api.msn.com/graph/systags",typingUpdates:"https://assets.msn.com/labs/api/",publisherFeed:"https://api.msn.com/news/feed/pages/publisherfeed"},O.cachedResponses={}},HcgY:function(e,t,o){"use strict";o.d(t,"a",(function(){return a}));var n=o("mKwt"),i=o("P+Hu"),r=o("rvYQ");function a(e,t){return{commentRenderInfo:c(e,t.url,t.commentWhiteListSegments,t.commentBlackListSegments,"comment"),reactionRenderInfo:c(e,t.url,t.reactionAllowListSegments,t.reactionBlockListSegments,"reaction")}}function s(e,t,o){if(!e||0==e.length)return!1;if(e.indexOf(",")>0)return!!e.split(",").find(e=>s(e,t,o));if(e.indexOf("&&")>0)return!e.split("&&").find(e=>!s(e,t,o));if("!"==e[0])return!s(e.substring(1),t,o);if(0===e.indexOf("fd:")){return function(e){if(r.a.CurrentRequestTargetScope&&r.a.CurrentRequestTargetScope.pageExperiments&&e){return!!r.a.CurrentRequestTargetScope.pageExperiments.find(t=>t&&t.toLowerCase()==e.toLowerCase())}return!1}(e.substring(3))}const n=new RegExp(encodeURIComponent(e),"g"),i=encodeURIComponent(t).match(n);return i&&o&&i.map(e=>{o.push(e)}),i&&i.length>0}function c(e,t,o,r,a){if(!e||!o&&!r||e.match("bypasslist=true"))return{renderStatus:!0};const c=e.match("/community/embed/")&&t&&Object(i.a)(t)||e;if(!c)return{renderStatus:!0};let l=[];if(r)try{const e=(new Date).toISOString();l=JSON.parse(r),r=l.filter(t=>t.expiryDate?new Date(t.expiryDate).toISOString()>=e:t).filter(e=>e.keyword).map(e=>e.keyword).join(",")}catch(e){}if(o){if(!s(o,c))return{renderStatus:!1}}if(r){const e=[];if(s(r,c,e))if("reaction"==a)try{const t=l.find(t=>{var o;return null===(o=e.find(e=>e==t.keyword))||void 0===o?void 0:o.reactions});return{renderStatus:t.length!=n.a.reactionOrder.length,blockedReactions:t.map(e=>e.toLowerCase())}}catch(e){return{renderStatus:!1}}else if("comment"==a)return{renderStatus:!1}}return{renderStatus:!0}}},KETb:function(e,t,o){"use strict";o.d(t,"a",(function(){return x})),o.d(t,"b",(function(){return A}));var n=o("D57K"),i=o("XlyT"),r=o("IhCV"),a=o("z2Ro"),s=o("vq4Z"),c=o("VcDS");class l extends a.a{constructor(e,t,o,n){super(e,o,c.a.BeginActivity,r.a.newGuid(),new Date,t),this.LogLevel=s.a.Activity,this.Ended=!1,this.correlationVector=n}}var u=o("KSHU"),d=o("mRXR");class p extends a.a{constructor(e,t,o,n,i,a,l,u){super(e,u,c.a.BeginNetworkActivity,r.a.newGuid(),new Date,l),this.serviceName=t,this.LogLevel=s.a.Activity,this.Ended=!1,this.requestUri=o,this.requestHttpMethod=n,this.currentOperationName=i,this.correlationVector=a}}var m=o("9RHM");class h extends u.a{constructor(e,t){super(e),this.correlationVectorProvider=t}static getInstance(e,t){var o=e||"Default",n=h.InstancesMap[o];if(n)return n;var i=new d.a(o,s.a.Activity);return n=new h(i,t),h.InstancesMap[o]=n,n}isActivityEnabled(){return this.logger.isEnabledFor(s.a.Activity)}createActivity(e,t,o){if(this.isActivityEnabled()){let n,i;t&&(n=t.ActivityId,i=this.getVectorForNewActivity(t,!1));let r=new l(e,n,o,i);return this.logger.log(s.a.Activity,r),r}return t||null}createActivityCallback(e,t,o){return this.isActivityEnabled()?this.createActivity(e(),t,o):t||null}endActivity(e){if(this.isActivityEnabled()&&e&&!e.Ended){e.Ended=!0;const t=new Date,o=Object(m.a)(e);o.LogType=c.a.EndActivity,o.LogDateTime=t;const n=o.LogDateTime.getTime()-e.LogDateTime.getTime();o.Message=o.Message+" ElapsedTime (Milliseconds):"+n.toString(),o.elapsedTimeInMs=n,this.logger.log(s.a.Activity,o)}}createNetworkActivity(e,t,o,n,i,r,a,s){if(this.isActivityEnabled()){r||a||console.warn("'correlationVector' or 'parentActivity' is required to create network activity");let c=r||this.getVectorForNewActivity(a,!0),l=a?a.ActivityId:"";return new p(e,t,o,n,i,c,l,s)}return null}endSuccessfulNetworkActivity(e,t,o){this.endNetworkActivity(e,!0,t,o)}endFailedNetworkActivity(e,t,o,n){this.endNetworkActivity(e,!1,t,o,n)}endNetworkActivity(e,t,o,n,i){if(e&&!e.Ended){e.Ended=!0;let r=new Date,a=Object(m.a)(e);a.LogType=c.a.EndNetworkActivity,a.LogDateTime=r,a.elapsedTimeInMs=a.LogDateTime.getTime()-e.LogDateTime.getTime(),a.successful=t,a.responseSize=o,a.responseStatusCode=n,a.errorMessage=i,this.logger.log(s.a.Activity,a)}}getVectorForNewActivity(e,t){return e&&this.correlationVectorProvider?(e.latestChildCorrelationVector?e.latestChildCorrelationVector=this.correlationVectorProvider.incrementExternalVector(e.latestChildCorrelationVector):(e.latestChildCorrelationVector=this.correlationVectorProvider.extendExternalVector(e.correlationVector),t&&(e.latestChildCorrelationVector=this.correlationVectorProvider.incrementExternalVector(e.latestChildCorrelationVector))),e.latestChildCorrelationVector):""}}h.InstancesMap={};var g=o("/wq8");class b{constructor(e){if(this.loggingService=e,!e)throw"loggingService is required for LoggedExceptionManager."}error(e){throw this.loggingService.error(e),e}fatal(e){throw this.loggingService.fatal(e),e}}var v=o("HDSB");class y{constructor(e,t,o,n,i,r,a){if(!e)throw new Error("loggingService is required for ExponentialBackoffRetry.");const s=new b(e);this.logInvalidParams(s,t,o,n,i,a),this.loggingService=e,this.maxRetries=t||y.defaultMaxRetries,this.baseRetryDelayInMs=o||y.defaultBaseRetryDelayInMs,this.maxRetryDelayInMs=n||y.maxAllowedRetryDelayInMs,this.factor=i||y.defaultFactor,this.minOffsetInMs=r||y.defaultMinOffsetInMs,this.maxOffsetInMs=a||y.defaultMaxOffsetInMs,Object(v.a)()&&this.loggingService.infoCallback(()=>"ExponentialBackoffRetry has been configured.",null,{maxRetries:t,minTimeout:o,maxTimeout:n,factor:i})}executeRequest(e,t,o){return Object(n.a)(this,void 0,void 0,(function*(){return new Promise((i,r)=>Object(n.a)(this,void 0,void 0,(function*(){yield this.tryRequest(e,i,r,0,t,o)})))}))}logInvalidParams(e,t,o,n,i,r){t&&(t<1||t>y.maxAllowedRetries)&&e.fatal(`maxRetries should be at least 1 and less than ${y.maxAllowedRetries}.`),o&&o<y.defaultBaseRetryDelayInMs&&e.fatal("baseRetryDelay has to be a positive value greater than or equal to 100."),o&&r&&o<=r&&e.fatal("baseRetryDelay must not be smaller than the maximum delay offset."),n&&(n<=0||n>y.maxAllowedRetryDelayInMs)&&e.fatal(`maxRetryDelay has to be a positive value less than ${y.maxAllowedRetryDelayInMs}.`),i&&i<=0&&e.fatal("factor has to be a positive value.")}tryRequest(e,t,o,i,r,a){return Object(n.a)(this,void 0,void 0,(function*(){try{const o=1e4,n=yield this.timeoutServiceRequest(o,e());t(n)}catch(n){if(Object(v.a)()&&i<this.maxRetries){const s=3,c=parseFloat((Math.random()*(this.minOffsetInMs-this.maxOffsetInMs)+this.maxOffsetInMs).toFixed(s)),l=.5,u=Math.random()<l?-1:1,d=Math.min(this.baseRetryDelayInMs*Math.pow(this.factor,i),this.maxRetryDelayInMs)+c*u;this.loggingService.warnCallback(()=>`Retrying the request in ${d} milliseconds.`,a,{error:n,currentRetry:i+1,requestInfo:r}),setTimeout(()=>this.tryRequest(e,t,o,i+1,r,a),d)}else this.loggingService.errorCallback(()=>Object(v.a)()&&i<this.maxRetries?"ExponentialBackoffRetry has exceeded maximum retries "+this.maxRetries:"Request has failed.",a,{error:n,currentRetry:i,requestInfo:r}),o(n)}}))}timeoutServiceRequest(e,t){return Object(n.a)(this,void 0,void 0,(function*(){return new Promise((o,i)=>Object(n.a)(this,void 0,void 0,(function*(){const n=setTimeout(()=>i(new Error("Service Request Timed out!")),e);try{const e=yield t;o(e),clearTimeout(n)}catch(e){i(e),clearTimeout(n)}})))}))}}y.defaultBaseRetryDelayInMs=100,y.defaultFactor=2,y.defaultMaxOffsetInMs=25,y.defaultMaxRetries=5,y.defaultMinOffsetInMs=1,y.maxAllowedRetries=10,y.maxAllowedRetryDelayInMs=2e3;var f,C=o("VOUN"),O=o("hqLi");class w extends a.a{constructor(e,t,o,n,i){super(e,o,c.a.Instrumentation,n,i),this._counterName=e,this.CounterValue=t}get CounterName(){return this._counterName}incrementValue(){if("number"!=typeof this.CounterValue)throw"ERROR: Counter value is never initialized, cannot perform increment action.";this.CounterValue++}}class T extends u.a{constructor(e){super(e)}static getInstance(e){const t=e||"Default";let o=T.InstancesMap[t];if(o)return o;let n=new d.a(t,s.a.Trace);return o=new T(n),T.InstancesMap[t]=o,o}static getDimensionedLogItems(e,t){let o=[],n=new w(e.CounterName,e.CounterValue,Object(m.a)(e.Data),e.ActivityId,e.LogDateTime);if(n.LogLevel=s.a.Trace,o.push(n),t&&!Object(O.a)(t))for(let n of Object.keys(t))for(let i of t[n]){let t=n.indexOf(":")>-1?`${e.CounterName}(${n.replace(":","-")}: ${i})`:`${e.CounterName}(${n}: ${i})`,r=new w(t,e.CounterValue,Object(m.a)(e.Data),e.ActivityId,e.LogDateTime);r.LogLevel=s.a.Trace,o.push(r)}return o}logPerfCounter(e,t,o,n){const i=new w(e,t,n);this.logPerfCounterItem(i,o)}logPerfCounterItem(e,t){const o=T.getDimensionedLogItems(e,t);for(let e of o)this.logger.log(s.a.Trace,e)}}T.InstancesMap={};class k extends a.a{constructor(e,t,o,n,i,r,a,c){super(e,a),this.pageName=e,this.LogLevel=s.a.Activity,this._userActivityType=t,this.correlationVector=o,this.trackingData=n,this.pageTitle=i,this.pageUri=r,this.eventData=c}get userActivityType(){return this._userActivityType}}!function(e){e[e.None=0]="None",e[e.PageAction=1]="PageAction",e[e.PageView=2]="PageView"}(f||(f={}));class S extends u.a{constructor(e){super(e)}static getInstance(e){var t=e||"Default",o=S.InstancesMap[t];if(o)return o;var n=new d.a(t,s.a.Activity);return o=new S(n),S.InstancesMap[t]=o,o}isActivityTrackingEnabled(){return this.logger.isEnabledFor(s.a.Activity)}logPageView(e,t,o,n,i,r){this.isActivityTrackingEnabled()&&this.logger.log(s.a.Activity,this.getUserActivityLogItem(e,t,o,i,r,n))}logPageActionEvent(e,t,o,n,i,r,a){if(this.isActivityTrackingEnabled()){if(!e)throw"''eventData' required for logging page action event.";e.elementTitle&&e.eventType&&e.elementTitle.trim()&&e.eventType.trim()&&this.logger.log(s.a.Activity,this.getUserActivityLogItem(t,o,n,r,a,i,e))}}getUserActivityLogItem(e,t,o,n,i,r,a){if(!e)throw"''pageName' is required for logging user activity.";return a?new k(e,f.PageAction,t,o,n,i,r,a):new k(e,f.PageView,t,o,n,i,r)}}S.InstancesMap={};class j{constructor(e,t,o,n){this.loggingServiceInstance=e||C.a.getInstance(),this.activityServiceInstance=t||h.getInstance(),this.userActivityServiceInstance=o||S.getInstance(),this.perfCounterServiceInstance=n||T.getInstance()}get loggingService(){return this.loggingServiceInstance}get activityLoggingService(){return this.activityServiceInstance}get userActivityTrackingService(){return this.userActivityServiceInstance}get perfCounterLoggingService(){return this.perfCounterServiceInstance}getLoggingServiceByName(e){return this.checkLoggerName(e),C.a.getInstance(e)}getActivityLoggingServiceByName(e){return this.checkLoggerName(e),h.getInstance(e)}getUserActivityTrackingServiceByName(e){return this.checkLoggerName(e),S.getInstance(e)}getPerfCounterLoggingServiceByName(e){return this.checkLoggerName(e),T.getInstance(e)}addActivityLoggingService(e){this.checkServiceInstance(e),h.getInstance(e.getLoggerName())}checkLoggerName(e){if(!e)throw"'loggerName' is required."}checkServiceInstance(e){if(!e)throw"'serviceInstance' is required."}}var R=o("msIb"),P=o("tMmC");let M,E;function x(e,t,o){return Object(n.a)(this,void 0,void 0,(function*(){let n,r;try{if(n=yield fetch(e,t),n&&n.ok)return n}catch(t){Object(i.c)(t,o,"Exception calling 1S primary Url: "+e)}return n&&n.headers&&n.headers.get("OneWebServiceLatency")?n:e.indexOf("assets.msn.com/service/")>0?(r=e.replace("assets.msn.com/service/","api.msn.com/"),yield fetch(r,t)):n}))}function A(e,t){return Object(n.a)(this,void 0,void 0,(function*(){const o=I().activityLoggingService.createActivity(t);return yield R.a.serviceRequestOnComplete(()=>function(){if(E)return E;return E=new y(I().loggingService,3),E}().executeRequest(e,null,o),()=>I().activityLoggingService.endActivity(o))}))}function I(){if(M)return M;const e=h.getInstance("ExperienceActivityLogger");return Object(v.a)()&&P.a.isDebug()&&e.addAppender(new g.a(s.a.Activity)),M=new j(P.a.getLoggingService(),e),M}},Kpu7:function(e,t,o){"use strict";function n(e,t=null){return function(e){const t=window.location.hash.substring(1).split("&");for(let o=0;o<t.length;o++){const n=t[o].split("=");if(n[0].toLowerCase()==e.toLowerCase())return decodeURIComponent(n[1])}return null}(e)||i(e)||t}function i(e){const t=window.location.search.substring(1).split("&");for(let o=0;o<t.length;o++){const n=t[o].split("=");if(n[0].toLowerCase()==e.toLowerCase())return decodeURIComponent(n[1])}return null}function r(e){return e&&Object.keys(e).length>0?"?"+Object.keys(e).map((function(t){return`${t}=${encodeURIComponent(e[t])}`})).join("&"):""}function a(e,t,o){const n={};["fdhead","item","rt","theme","ocid"].map(e=>{const t=i(e);t&&(n[e]=t)});const a=r(n);t&&e.indexOf("/en-us/")>0&&(e=e.replace("/en-us/",`/${t}/`));const s=[e];return a&&-1!=e.indexOf("?")?s.push("&"+a.substring(1)):a&&s.push(a),s.push(o?"#comments&commentId="+o:""),s.join("")}o.d(t,"c",(function(){return n})),o.d(t,"a",(function(){return r})),o.d(t,"b",(function(){return a}))},Oa3u:function(e,t,o){"use strict";o.d(t,"c",(function(){return a})),o.d(t,"a",(function(){return c})),o.d(t,"d",(function(){return l})),o.d(t,"b",(function(){return u}));var n=o("m2Vd");const i=new RegExp("\\:([\\d]{2})");function r(){return new Date}function a(e){return(r().getTime()-e.getTime())/1e3}function s(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+t,e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function c(e,t){return new Date(e.valueOf()+60*t*60*1e3)}function l(e,t){const o=parseInt(t),n=parseInt(i.exec(t)[1]),r=o<0?-1:1,a=new Date(e.getTime()+60*(60*o+r*n)*1e3),s=("0"+Math.abs(o)).substr(-2)+":"+("0"+Math.abs(n)).substr(-2);return a.toISOString().replace("Z",(r<0?"-":"+")+s)}function u(e){const t=a(e),o=function(){const e=r();return e.setHours(0,0,0,0),e}(),i=s(o,-1),c=s(o,-6),l=function(){const e=r();return new Date(e.getFullYear(),0,0,0,0,0,0)}();return t>=-3300&&t<-60?n.a.InMinutes:t<0?n.a.None:t<120?n.a.JustNow:t<3600?n.a.LessThanOneHour:e>=o?n.a.Today:e>=i?n.a.Yesterday:e>=c?n.a.ThisWeek:e>=l?n.a.ThisYear:n.a.FullDate}},"P+Hu":function(e,t,o){"use strict";o.d(t,"a",(function(){return i}));o("mKwt");function n(e){const t=window.location.search.substring(1).split("&"),o=[];for(let n=0;n<t.length;n++){const i=t[n].split("=");i[0].toLowerCase()==e.toLowerCase()&&o.push(i[1])}return o.length>0?o.map(e=>decodeURIComponent(e||"")).join(","):null}function i(e,t,o){const i={};["fdhead","item","rt","theme","ocid","env","oneservice_enable_ppe"].map(e=>{const t=n(e);null!==t&&(i[e]=t)});const r=(a=i)&&Object.keys(a).length>0?"?"+Object.keys(a).map((function(e){return a[e].split(",").map(t=>t?`${e}=${encodeURIComponent(t)}`:e).join("&")})).join("&"):"";var a;t&&e.indexOf("/en-us/")>0&&(e=e.replace("/en-us/",`/${t}/`)),window.location.origin.indexOf("://int.msn.com")>0&&e.indexOf("://www.msn.com")>0&&(e=e.replace("://www.msn.com","://int.msn.com"));const s=[e];return r&&-1!=e.indexOf("?")?s.push("&"+r.substring(1)):r&&s.push(r),s.push(o?"#comments&commentId="+o:""),s.join("")}},RIQ7:function(e,t,o){"use strict";o.d(t,"d",(function(){return a})),o.d(t,"b",(function(){return s})),o.d(t,"a",(function(){return c})),o.d(t,"c",(function(){return l}));var n=o("Am8i"),i=o("u5KZ"),r=o("y+Kz");function a(e,t){if(e){const o={type:n.e.Module,name:t,content:{}};return e.addOrUpdateChild(o)}return null}function s(){if(!i.a)return;const e=i.a.getPageMetadata();return e&&e.contract&&e.contract.page?e.contract.page.ocid:void 0}function c(e){const t=s(),o=e.toLowerCase();if(!t||-1!=o.indexOf("?ocid=")||-1!=o.indexOf("&ocid="))return e;const n=-1==e.indexOf("?")?"?":"&";return`${e}${n}ocid=${encodeURIComponent(t)}`}function l(e){if(!e)return null;const t=Object.assign({},e);return t[r.s.entAuthorization]&&(t[r.s.entAuthorization]="*****"),t[r.s.rpsToken]&&(t[r.s.rpsToken]="*****"),t}},S7gc:function(e,t,o){"use strict";o.d(t,"a",(function(){return r}));var n,i=o("dMmp");!function(e){e[e.Default=0]="Default",e[e.Medium=1]="Medium",e[e.MonthDate=2]="MonthDate",e[e.Weekday=3]="Weekday",e[e.Time=4]="Time"}(n||(n={}));class r{constructor(){this.dateFormatOptionsMap=new Map,this.setSupportsLocaleSpecifiers(),this.dateFormatOptionsMap.set(n.Medium,{year:"numeric",month:"short",day:"numeric"}),this.dateFormatOptionsMap.set(n.MonthDate,{month:"short",day:"numeric"}),this.dateFormatOptionsMap.set(n.Weekday,{weekday:"short"}),this.dateFormatOptionsMap.set(n.Time,{hour:"numeric",minute:"numeric"})}overrideDateFormat(e,t){e&&t&&this.dateFormatOptionsMap.set(e,t)}localizedDateString(e,t){return this.formatDate(e,n.Default,t)}localizedDateStringMedium(e,t){return this.formatDate(e,n.Medium,t)}localizedMonthDate(e,t){return this.formatDate(e,n.MonthDate,t)}localizedWeekday(e,t){return this.formatDate(e,n.Weekday,t)}formatTimeFromDate(e,t){return this.supportsLocaleSpecifiers&&this.dateFormatOptionsMap?e.toLocaleTimeString(t,this.dateFormatOptionsMap.get(n.Time)):e.toTimeString()}format(e,...t){return e?i.String.Format(e,...t):""}localizedNumberString(e,t){return this.supportsLocaleSpecifiers?e.toLocaleString(t):e.toString()}formatDate(e,t,o){let i=null;if(this.supportsLocaleSpecifiers)if(t===n.Default)i=e.toLocaleDateString(o);else if(this.dateFormatOptionsMap){const n=this.dateFormatOptionsMap.get(t);i=e.toLocaleDateString(o,n)}return null===i&&(i=e.toDateString()),null!==i?i.replace(/\u200E/g,"").replace(/\u200F/g,""):i}setSupportsLocaleSpecifiers(){this.supportsLocaleSpecifiers=(()=>{try{(0).toLocaleString("i")}catch(e){return"RangeError"===e.name}return!1})()}}},TRvk:function(e,t,o){"use strict";o.d(t,"a",(function(){return d}));var n=o("1I/+"),i=o("dTwT"),r=o("HcgY"),a=o("XgsJ"),s=o("q77S"),c=o("9y7U"),l=o("WO7E"),u=o("Kpu7");class d{static convertContent(e){if(!e)return null;let t={};c.a.reactionOrder.map(o=>{e&&(e.reactionSummary?t[o]=(e.reactionSummary.subReactionSummaries.find(e=>e.type.toLowerCase()==o)||{totalCount:0}).totalCount:t[o]=0)});const o=Object(n.b)((new n.a).data.locationHref,"locationHref"),i=Object(r.a)(o,e);return t=i.reactionRenderInfo.blockedReactions?Object.keys(t).filter(e=>!i.reactionRenderInfo.blockedReactions.includes(e)).reduce((e,o)=>(e[o]=t[o],e),{}):t,Object.assign(Object.assign({comments:{skip:0,top:0,moreCount:0,list:[]}},e),{totalCommentCount:e.commentSummary?e.commentSummary.totalCount:0,reactionCounts:t,blockedReactions:i.reactionRenderInfo.blockedReactions,reactionRenderStatus:i.reactionRenderInfo.renderStatus,commentRenderStatus:i.commentRenderInfo.renderStatus})}static convertUser(e){if(e){let t;t=e.isSocialUser?c.a.userStateType.existingUser:e.id&&!e.id.startsWith("m-")?c.a.userStateType.newUser:c.a.userStateType.anonymous;let o=e.nameStatus||c.a.userNameStatusType.normal;return t!=c.a.userStateType.newUser||null!=e.primaryName&&""!==e.primaryName.trim()||(o=c.a.userNameStatusType.notAllow),Object.assign(Object.assign({},e),{name:e.primaryName,avatarUrl:e.notUseAvatar||!e.primaryAvatar?void 0:e.primaryAvatar,likesCount:e.reactionSummary?e.reactionSummary.totalCount:0,postsCount:e.commentSummary?e.commentSummary.totalCount:0,followersCount:(e.followSummary&&e.followSummary.subFollowSummaries.find(e=>"FollowBy"==e.type)||{totalCount:0}).totalCount,followingCount:(e.followSummary&&e.followSummary.subFollowSummaries.find(e=>"Follow"==e.type)||{totalCount:0}).totalCount,reactionsCount:e.reactionSummary&&e.reactionSummary.totalCount||0,badge:"Commenter",state:t,avatarStatus:e.avatarStatus||c.a.userAvatarStatusType.normal,nameStatus:o,ageGroup:e.ageGroup||c.a.userAgeGroup.above18})}return{state:c.a.userStateType.anonymous}}static convertUserList(e){return e?{skip:e.skip,top:e.top,hasMore:e.hasMore,moreCount:e.totalCount-(e.top+e.skip),totalCount:e.totalCount,list:e.items.map(e=>this.convertUser(e.links.find(e=>"User"==e.type).item||null))}:null}static convertComment(e){if(!e)return null;let t=null,o=null;if(e.links){const n=e.links.find(t=>"User"==t.type&&t.item.id==e.createdBy);t=n?d.convertUser(n.item):null;const i=e.links.find(e=>"Content"==e.type);o=i?d.convertContent(i.item):null}const n=e.visibleStatus!=c.a.visibleStatusType.Normal,i=e.visibleStatus==c.a.visibleStatusType.InReview,r=[c.a.visibleStatusType.DeletedByAI,c.a.visibleStatusType.DeletedByHI,c.a.visibleStatusType.DeletedByUser].includes(e.visibleStatus),a=i,s={};return c.a.reactionOrder.map(t=>{e.reactionSummary?s[t]=(e.reactionSummary.subReactionSummaries.find(e=>e.type.toLowerCase()==t)||{totalCount:0}).totalCount:s[t]=0}),Object.assign(Object.assign({},e),{ownerId:e.createdBy,text:e.body.replace(/(?:\r\n|\r|\n)/g,"<br>"),createDatetime:e.createdTime,reactionCounts:s,user:t,content:o,isHidden:n,isInReview:i,isDeleted:r,skipRender:a,replies:[],replyCount:e.commentSummary?e.commentSummary.totalCount:0})}static convertCommentList(e){return e?{commentStatus:"On",skip:e.skip,top:e.top,hasMore:e.hasMore,hasPrevious:e.hasPrevious,asc:e.asc,moreCount:e.totalCount-(e.top-1+e.skip-1+2),totalCount:e.totalCount,list:e.items.map(e=>d.convertComment(e))}:null}static convertReactionsResponseToReactionBreakdownData(e,t){if(!e)return null;const o=e.items;let n;try{n=e.links.find(e=>"Content"==e.type||"Comment"==e.type).item.reactionSummary.subReactionSummaries}catch(e){n=null}const i={reactionCounts:{all:0},items:{all:[]},content:null};if(c.a.reactionOrder.map(e=>{i.reactionCounts[e]=0,i.items[e]=[]}),n&&n.filter(e=>{var o;return!(null===(o=null==t?void 0:t.blockedReactions)||void 0===o?void 0:o.includes(e.type.toLowerCase()))}).map(e=>{i.reactionCounts[e.type.toLowerCase()]=e.totalCount,i.reactionCounts.all+=e.totalCount}),o&&o.filter(e=>{var o;return!(null===(o=null==t?void 0:t.blockedReactions)||void 0===o?void 0:o.includes(e.subType.toLowerCase()))}).map(e=>{const t=e.subType.toLowerCase(),o=e.links.find(e=>"User"==e.type)?e.links.find(e=>"User"==e.type).item:{state:c.a.userStateType.anonymous,primaryName:"You"};o.isFollowingFetched=!0,o.isFollowing=!!e.links.find(e=>"Follow"==e.type),i.items[e.subType.toLowerCase()].push({user:o,rateValue:t}),i.items.all.push({user:o,rateValue:t})}),e.links&&e.links.length>0){const t=e.links.filter(e=>"content"==e.type.toLowerCase());t.length>0&&(i.content=t[0].item)}return i}static convertRatingToRateValue(e){e&&e.items&&(e=e.items[0]);return e&&e.subType?e.subType.toLowerCase():null}static convertUserActivities(e){return e?{skip:e.skip,top:e.top,hasMore:e.hasMore,moreCount:e.totalCount-(e.top-1+e.skip-1+2),totalCount:e.totalCount,list:e.items.map(e=>this.convertUserActivity(e))}:null}static convertUserActivity(e){if(!e)return null;const t={id:e.id,type:e.type,datetime:e.createdDateTime,isSeen:e.read,notification:e.notification};switch(e.type){case c.a.activityType.follow:{const o=e.links.find(e=>"User"==e.type);return Object.assign(Object.assign({},t),{user:this.convertUser(o&&o.item)})}case c.a.activityType.badge:{const o=e.links.find(e=>"Achievement"==e.type);return Object.assign(Object.assign({},t),{badgeType:o&&o.item.subType})}case c.a.activityType.reply:{const o=e.links.find(e=>"User"==e.type),n=e.links.find(e=>"Content"==e.type),i=e.links.find(e=>"Comment"==e.type);return Object.assign(Object.assign({},t),{user:this.convertUser(o&&o.item),target:{url:n&&n.item.url,body:i&&i.item.body.replace(/(?:\r\n|\r|\n)/g,"<br>"),comment:i&&this.convertComment(i.item)}})}case c.a.activityType.reaction:{const o=e.links.find(e=>"User"==e.type),n=e.links.find(e=>"Content"==e.type),i=e.links.find(e=>"Comment"==e.type),r=e.links.find(e=>"Reaction"==e.type),a=r&&"Comment"==r.item.targetType?this.convertSubReactionSummariesToReactionCounts(i&&i.item.reactionSummary&&i.item.reactionSummary.subReactionSummaries):this.convertSubReactionSummariesToReactionCounts(n&&n.item.reactionSummary&&n.item.reactionSummary.subReactionSummaries),s=r&&"Comment"==r.item.targetType?i&&i.item.body:n&&n.item.title;return Object.assign(Object.assign({},t),{user:this.convertUser(o&&o.item),target:{url:n&&n.item.url,reactionCounts:a,body:s.replace(/(?:\r\n|\r|\n)/g,"<br>"),comment:i&&this.convertComment(i.item)}})}case c.a.activityType.moderation:{const o=e.links.find(e=>"Comment"==e.type),n=e.links.find(e=>"ModerationRecord"==e.type),i=n&&n.item.subType;let r;switch(i){case c.a.moderationErrorType.takedown:r="This comment was removed because it didn't meet our guidelines.";break;case c.a.moderationErrorType.ban:r="You've been banned due to violations of our guidelines.";break;case c.a.moderationErrorType.notAllowName:r="Your profile name didn't meet our guidelines.";break;case c.a.moderationErrorType.notAllowPicture:r="Your profile picture didn't meet our guidelines.";break;case c.a.moderationErrorType.approveUserAppeal:r="At your request, we've reviewed your case and reversed the prior decision. You should be able to post again soon. Thank you.";break;case c.a.moderationErrorType.approveCommentAppeal:r="At your request, we've reviewed your post and reversed the decision to remove it. This post will be restored shortly. Thank you.";break;case c.a.moderationErrorType.approveProfilePicAppeal:r="At your request, we've reviewed your profile picture and reversed the decision to remove it. Your profile picture will be restored shortly. Thank you.";break;case c.a.moderationErrorType.rejectUserAppeal:r="At your request, we've reviewed your case and found that your posts violated our community guidelines.";break;case c.a.moderationErrorType.rejectCommentAppeal:r="At your request, we've reviewed your post that was removed and found it violated our community guidelines.";break;case c.a.moderationErrorType.rejectProfilePicAppeal:r="At your request, we've reviewed your case and found that your profile picture violated our community guidelines.";break;default:r=""}return Object.assign(Object.assign({},t),{moderationErrorType:i,message:r,target:o&&{id:o.item.id,body:o.item.body}})}}return t}static convertSubReactionSummariesToReactionCounts(e){if(!e)return null;const t={all:0};return c.a.reactionOrder.map(e=>{t[e]=0}),e.map(e=>{t[e.type.toLowerCase()]=e.totalCount}),t}static mapFeedResponseToSocialBarData(e,t,o,n,i,r,s){const c=Object(a.j)();if(c&&c.indexOf("reactionstest")>-1){try{n={totalCount:0,subCommentSummaries:[]},(o={totalCount:0,subReactionSummaries:[]}).totalCount=Math.floor(1e4*Math.random()),n.totalCount=Math.floor(1e4*Math.random());["angry","like","love","sad","surprised","thinking"].sort(()=>.5-Math.random()).slice(0,Math.floor(3*Math.random())).forEach(e=>o.subReactionSummaries.push({totalCount:Math.floor(10*Math.random()),type:e}))}catch(e){}if(n.totalCount>0)try{const e=[{id:"82ccfa9b-56ac-41ca-9546-9f3910ec3cec"},{id:"f21a5f91-a6a9-4e80-bb59-3839e296773f"},{id:"c400d1c0-2f0d-469f-986c-8bebe2de1060"},{id:"1be1cb2b-6210-43b4-b962-ce1df9b524d0"},{id:"4e19e02f-f6fc-405d-8f99-1f007ce7f5df"}],t=Math.floor(5*Math.random());i=e.slice(t,t+1)}catch(e){}}const u=o&&o.subReactionSummaries?o.subReactionSummaries:[],p=e=>{if(Array.isArray(u)){const t=u.filter(t=>{var o,n;return(null===(o=t.type)||void 0===o?void 0:o.toLowerCase())===(null===(n=e)||void 0===n?void 0:n.toLowerCase())});return t&&t.length>0?t[0].totalCount:0}};let m={};m={angry:p(l.a.angry),like:p(l.a.like),love:p(l.a.love),sad:p(l.a.sad),surprised:p(l.a.surprised),thinking:p(l.a.thinking)},r&&r.reactionRenderInfo&&(m=r.reactionRenderInfo.blockedReactions?Object.keys(m).filter(e=>!r.reactionRenderInfo.blockedReactions.includes(e)).reduce((e,t)=>(e[t]=m[t],e),{}):m);const h=!t&&d.getLocalContentReaction(e,s);h&&m[t=h]++;const g=!o,b=!n;return{myReaction:t,id:e,totalCommentsCount:n&&n.totalCount,reactionCounts:m,topComments:i,reactionsOptedOut:g,commentsOptedOut:b}}static getLocalContentReaction(e,t){return t?t(e):Object(i.a)().supported&&Object(i.a)().getItem(`${s.b}${e}`)?Object(i.a)().getItem(`${s.b}${e}`):null}static convertCommentToTopCommentData(e,t,o){return e&&e.user?{market:o,username:e.user.primaryName,avatarUrl:e.user.notUseAvatar||!e.user.primaryAvatar?void 0:e.user.primaryAvatar,profileUrl:Object(u.b)(`${c.a.externalUrls.profilePage}${e.user.id}`,o),commentUrl:Object(u.b)(t,o,e.id),commentBody:e.text,replyCount:e.replyCount,reactionCounts:e.reactionCounts,createDatetime:e.createDatetime}:null}static convertPublisherFeed(e){var t,o,n;if(!(null==e?void 0:e.sections))return;const i=null===(t=null==e?void 0:e.sections[0])||void 0===t?void 0:t.cards;if(!i||i.length<1)return;const r=null===(o=i[0])||void 0===o?void 0:o.provider;return{items:null===(n=i[0])||void 0===n?void 0:n.subCards.map(e=>Object.assign(Object.assign({},e),{provider:r}))}}}},WO7E:function(e,t,o){"use strict";var n;o.d(t,"a",(function(){return n})),function(e){e.like="like",e.love="love",e.surprised="surprised",e.thinking="thinking",e.sad="sad",e.angry="angry"}(n||(n={}))},dMmp:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.IsNullOrWhiteSpace=function(e){try{return null==e||"undefined"==e||e.toString().replace(/\s/g,"").length<1}catch(e){return console.log(e),!1}},e.Join=function(t){for(var o=[],n=1;n<arguments.length;n++)o[n-1]=arguments[n];try{var i=o[0];if(Array.isArray(i)||i instanceof Array){for(var r=e.Empty,a=0;a<i.length;a++){var s=i[a];a<i.length-1?r+=s+t:r+=s}return r}if("object"==typeof i){var c=e.Empty,l=i;return Object.keys(i).forEach((function(e){c+=l[e]+t})),c=c.slice(0,c.length-t.length)}var u=o;return e.join.apply(e,[t].concat(u))}catch(t){return console.log(t),e.Empty}},e.Format=function(t){for(var o=[],n=1;n<arguments.length;n++)o[n-1]=arguments[n];try{return t.match(e.regexNumber)?e.format(e.regexNumber,t,o):t.match(e.regexObject)?e.format(e.regexObject,t,o,!0):e.Empty}catch(t){return console.log(t),e.Empty}},e.format=function(t,o,n,i){return void 0===i&&(i=!1),o.replace(t,(function(t,o){var r,a=t.split(":");return a.length>1&&(o=a[0].replace("{",""),t=a[1].replace("}","")),null==(r=i?n[0][o]:n[o])||null==r||t.match(/{\d+}/)||void 0!==(r=e.parsePattern(t,r))&&null!=r?r:e.Empty}))},e.parsePattern=function(t,o){switch(t){case"L":return o.toLowerCase();case"U":return o.toUpperCase();case"d":if("string"==typeof o)return e.getDisplayDateFromString(o);if(o instanceof Date)return e.Format("{0:00}.{1:00}.{2:0000}",o.getDate(),o.getMonth(),o.getFullYear());break;case"s":if("string"==typeof o)return e.getSortableDateFromString(o);if(o instanceof Date)return e.Format("{0:0000}-{1:00}-{2:00}",o.getFullYear(),o.getMonth(),o.getDate());break;case"n":"string"!=typeof o&&(o=o.toString());var n=o.replace(/,/g,".");if(isNaN(parseFloat(n))||n.length<=3)break;var i=n.split(/[^0-9]+/g),r=i;i.length>1&&(r=[e.join.apply(e,[""].concat(i.splice(0,i.length-1))),i[i.length-1]]);var a=r[0],s=a.length%3,c=s>0?a.substring(0,s):e.Empty,l=a.substring(s).match(/.{3}/g);return(c=c+"."+e.Join(".",l))+(r.length>1?","+r[1]:"")}return"number"!=typeof o&&isNaN(o)||isNaN(+t)||e.IsNullOrWhiteSpace(o)?o:e.formatNumber(o,t)},e.getDisplayDateFromString=function(e){var t;if((t=e.split("-")).length<=1)return e;var o=t[t.length-1],n=t[t.length-2],i=t[t.length-3];return(o=(o=o.split("T")[0]).split(" ")[0])+"."+n+"."+i},e.getSortableDateFromString=function(t){var o=t.replace(",","").split(".");if(o.length<=1)return t;var n=o[o.length-1].split(" "),i=e.Empty;n.length>1&&(i=n[n.length-1]);var r=o[o.length-1].split(" ")[0]+"-"+o[o.length-2]+"-"+o[o.length-3];return!e.IsNullOrWhiteSpace(i)&&i.length>1?r+="T"+i:r+="T00:00:00",r},e.formatNumber=function(e,t){var o=t.length,n=e.toString();if(o<=n.length)return n;var i=o-n.length;return new Array(i+=1).join("0")+n},e.join=function(t){for(var o=[],n=1;n<arguments.length;n++)o[n-1]=arguments[n];for(var i=e.Empty,r=0;r<o.length;r++)if(!("string"==typeof o[r]&&e.IsNullOrWhiteSpace(o[r])||"number"!=typeof o[r]&&"string"!=typeof o[r])){i+=""+o[r];for(var a=r+1;a<o.length;a++)if(!e.IsNullOrWhiteSpace(o[a])){i+=t,r=a-1;break}}return i},e.regexNumber=/{(\d+(:\w*)?)}/g,e.regexObject=/{(\w+(:\w*)?)}/g,e.Empty="",e}();t.String=n;var i=function(){function e(e){void 0===e&&(e=n.Empty),this.Values=[],this.Values=new Array(e)}return e.prototype.ToString=function(){return this.Values.join("")},e.prototype.Append=function(e){this.Values.push(e)},e.prototype.AppendFormat=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];this.Values.push(n.Format.apply(n,[e].concat(t)))},e.prototype.Clear=function(){this.Values=[]},e}();t.StringBuilder=i},hSGL:function(e,t,o){"use strict";o.d(t,"a",(function(){return f}));var n=o("D57K"),i=o("tERu"),r=o("ypwz"),a=o("tMmC"),s=o("HxRh"),c=o("XlyT"),l=o("rvYQ"),u=o("zfSW"),d=o("msIb"),p=o("6ADy"),m=o("KETb"),h=o("u8F0"),g=o("u5KZ"),b=o("l+Jz"),v=o("HDSB"),y=o("/+Un");const f=new class extends class{constructor(e){this.fetchImpl=e,this.userUpdateEndpoint="msn/user",this.pdpServiceEndpoint="graph/actions",this.locationsServiceEndPoint="v1/news/users/me/locations",this.ocid="Peregrine",this.ocidOverride=!1}getUserDefaultLocation(e){return Object(n.a)(this,void 0,void 0,(function*(){const t={method:"GET",headers:yield d.a.getOneServiceHeaders(),credentials:"include"},o=Object(p.c)(this.locationsServiceEndPoint);let i;[...d.a.getCommonParams2(this.ocid,!this.ocidOverride),{key:"autodetect",value:e&&""+e}].forEach(e=>{e.value&&o.searchParams.set(e.key,e.value)});try{i=yield Object(m.b)(()=>Object(n.a)(this,void 0,void 0,(function*(){const e=yield this.fetchImpl(o.href,t);if(e.status>=400){const t=`OneService returned error response. Status: ${e.status} for actionType: getUserDefaultLocation}`;throw new Error(t)}return e})),"getUserDefaultLocation")}catch(e){return i}return i}))}addToFavoriteLocation(e,t){return Object(n.a)(this,void 0,void 0,(function*(){const o={method:"POST",body:JSON.stringify({actionType:"Follow",targetType:"Location",definitionName:t,degree:"FavoriteLocation",metaData:e}),headers:yield d.a.getOneServiceHeaders(),credentials:"include"},r=Object(p.c)(this.pdpServiceEndpoint);let a;((yield Object(y.d)())===i.c.SignedIn?d.a.getOneServiceParamsWithAuth(Object(l.b)().UserId,this.ocid,!this.ocidOverride):d.a.getOneServiceParamsWithoutAuth(Object(l.b)().UserId,this.ocid,!this.ocidOverride)).forEach(e=>{e.value&&r.searchParams.set(e.key,e.value)});try{a=yield Object(m.b)(()=>Object(n.a)(this,void 0,void 0,(function*(){const e=yield this.fetchImpl(r.href,o);if(e.status>=400){const t=`OneService returned error response. Status: ${e.status} for actionType: Follow, targetType: Location`;throw new Error(t)}return e.json()})),"addToFavoriteLocation")}catch(e){return!1}return!0}))}removeFavoriteLocation(e){return Object(n.a)(this,void 0,void 0,(function*(){return yield this.deleteFromPdp(h.a.Location,"definitionName",[e])}))}updatePdpHomeLocation(e,t,o={},r){return Object(n.a)(this,void 0,void 0,(function*(){const a=h.a.Location,s=yield this.getRequestInit({method:"POST"},o);s.body=JSON.stringify({actionType:"Follow",targetType:a,definitionName:t,degree:"DefaultLocation",metaData:e});const c=Object(p.c)(this.pdpServiceEndpoint);return((yield Object(y.d)())===i.c.SignedIn?d.a.getOneServiceParamsWithAuth(null!=r?r:Object(l.b)().UserId,this.ocid,!this.ocidOverride):d.a.getOneServiceParamsWithoutAuth(null!=r?r:Object(l.b)().UserId,this.ocid,!this.ocidOverride)).forEach(e=>{e.value&&c.searchParams.set(e.key,e.value)}),yield Object(m.b)(()=>Object(n.a)(this,void 0,void 0,(function*(){const e=yield this.fetchImpl(c.href,s);if(e.status>=400){const t=`OneService returned error response. Status: ${e.status} for actionType: Follow, targetType: ${a}`;throw new Error(t)}return e})),"setPdpHomeLocation"),this.tryInvalidateBulkFetchedPdpTargetType(a),!0}))}updateTrafficMyRoutes(e,t,o,r){return Object(n.a)(this,void 0,void 0,(function*(){const s=h.a.Traffic,c={method:"POST",body:JSON.stringify({actionType:"Follow",targetType:s,degree:e,definitionName:t,metadata:o}),headers:yield d.a.getOneServiceHeaders(),credentials:"include"},u=Object(p.c)(this.pdpServiceEndpoint),g=e=>{e&&e.forEach(e=>{e.value&&u.searchParams.set(e.key,e.value)})};g((yield Object(y.d)())===i.c.SignedIn?d.a.getOneServiceParamsWithAuth(Object(l.b)().UserId,this.ocid,!this.ocidOverride):d.a.getOneServiceParamsWithoutAuth(Object(l.b)().UserId,this.ocid,!this.ocidOverride)),g(r);try{yield Object(m.b)(()=>Object(n.a)(this,void 0,void 0,(function*(){const e=yield this.fetchImpl(u.href,c);if(e.status>=400){const t=`OneService returned error response. Status: ${e.status} for actionType: Follow, targetType: ${s}`;throw new Error(t)}return e.json()})),"updateTrafficMyRoutes");this.tryInvalidateBulkFetchedPdpTargetType(s)}catch(e){return a.a.logError(e.message),!1}return!0}))}deleteTrafficMyRoutes(e,t,o){return Object(n.a)(this,void 0,void 0,(function*(){const r={method:"DELETE",headers:yield this.getOneserviceHeaders(),credentials:"include"},a=Object(p.c)(this.pdpServiceEndpoint),s=(yield Object(y.d)())===i.c.SignedIn?d.a.getOneServiceParamsWithAuth(Object(l.b)().UserId,this.ocid,!this.ocidOverride):d.a.getOneServiceParamsWithoutAuth(Object(l.b)().UserId,this.ocid,!this.ocidOverride),c=`targetType eq '${h.a.Traffic}'`,u=`definitionName eq '${t}'`,g=`degree eq '${e}'`;a.searchParams.set("$filter",`actionType eq 'Follow' and (${u}) and (${c}) and (${g})`),[...s,...o].forEach(e=>{e.value&&a.searchParams.set(e.key,e.value)});try{yield Object(m.b)(()=>Object(n.a)(this,void 0,void 0,(function*(){const e=yield this.fetchImpl(a.href,r);if(e.status>=400){const t=`OneService returned error response. Status: ${e.status} for actionType: Follow, targetType: ${h.a.Traffic}`;throw new Error(t)}return e})),"deleteTrafficFromPdp"),this.tryInvalidateBulkFetchedPdpTargetType(h.a.Traffic)}catch(e){return!1}return!0}))}addToWatchList(e,t=0,o={}){return Object(n.a)(this,void 0,void 0,(function*(){const r=h.a.Finance,a={method:"POST",body:JSON.stringify({actionType:"Follow",targetType:r,targetId:e,metadata:{securityType:t,tickerId:this.generateUUID()}}),headers:yield this.getOneserviceHeaders(o),credentials:"include"},s=Object(p.c)(this.pdpServiceEndpoint),c="zh-cn"!==Object(l.b)().CurrentMarket;let u;((yield Object(y.d)())===i.c.SignedIn&&c?d.a.getOneServiceParamsWithAuth(Object(l.b)().UserId,this.ocid,!this.ocidOverride):d.a.getOneServiceParamsWithoutAuth(Object(l.b)().UserId,this.ocid,!this.ocidOverride)).forEach(e=>{e.value&&s.searchParams.set(e.key,e.value)});try{u=yield Object(m.b)(()=>Object(n.a)(this,void 0,void 0,(function*(){const e=yield this.fetchImpl(s.href,a);if(e.status>=400){const t=`OneService returned error response. Status: ${e.status} for actionType: Follow, targetType: ${r}`;throw new Error(t)}return e.json()})),"addToWatchList"),this.tryInvalidateBulkFetchedPdpTargetType(r)}catch(e){return!1}return!0}))}generateUUID(){let e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){const o=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?o:3&o|8).toString(16)}))}sortWatchList(e,t={}){return Object(n.a)(this,void 0,void 0,(function*(){const o=h.a.Finance,r=yield f.readPdpWithTargetType(h.a.Finance,!0,200,t),a=r&&r.value;if(a.length!=e.length)return!1;const s={};e.forEach((e,t)=>{const n=a.filter(t=>t.targetId===e)[0];if(!n)return!1;s[e]=JSON.stringify({actionType:"Follow",targetId:e,targetType:o,rank:t,metadata:n.metadata})});const c={method:"PUT",body:JSON.stringify(s),headers:yield this.getOneserviceHeaders(t),credentials:"include"},u=Object(p.c)(this.pdpServiceEndpoint);((yield Object(y.d)())===i.c.SignedIn?d.a.getOneServiceParamsWithAuth(Object(l.b)().UserId,this.ocid,!this.ocidOverride):d.a.getOneServiceParamsWithoutAuth(Object(l.b)().UserId,this.ocid,!this.ocidOverride)).forEach(e=>{e.value&&u.searchParams.set(e.key,e.value)});try{yield Object(m.b)(()=>Object(n.a)(this,void 0,void 0,(function*(){const e=yield this.fetchImpl(u.href,c);if(e.status>=400){const t=`OneService returned error response. Status: ${e.status} for actionType: Follow, targetType: ${o}`;throw new Error(t)}return e.json()})),"sortWatchList"),this.tryInvalidateBulkFetchedPdpTargetType(h.a.Finance)}catch(e){return!1}return!0}))}updateWeatherSettings(e,t,o={},r){return Object(n.a)(this,void 0,void 0,(function*(){if(!e&&!t)return!0;let n="";n=e&&!t?'{"weatherDisplayUnit":"'+e+'"}':!e&&t?'{"userSettings":{"weatherLocationSettingMode":"'+t+'"}}':'{"weatherDisplayUnit":"'+e+'","userSettings":{"weatherLocationSettingMode":"'+t+'"}}';const a=yield this.getRequestInit({method:"POST"},o);a.body=n;const s=Object(p.c)(this.userUpdateEndpoint);((yield Object(y.d)())===i.c.SignedIn?d.a.getOneServiceParamsWithAuth(null!=r?r:Object(l.b)().UserId,this.ocid,!this.ocidOverride):d.a.getOneServiceParamsWithoutAuth(null!=r?r:Object(l.b)().UserId,this.ocid,!this.ocidOverride)).forEach(e=>{e.value&&s.searchParams.set(e.key,e.value)});const c=yield this.fetchImpl(s.href,a);if(c.status>=400){const e=`OneService returned error response. Status: ${c.status} for update weather setting call`;throw new Error(e)}return!0}))}updateUserSettings(e,t={},o){return Object(n.a)(this,void 0,void 0,(function*(){if(!e)return!0;const n=[];let r;for(r in e)null!=e[r]&&n.push('"'+r+'": '+JSON.stringify(e[r]));const s='{"userSettings":{'+n.join(", ")+"}}",c=yield this.getRequestInit({method:"POST"},t);c.body=s;const u=Object(p.c)(this.userUpdateEndpoint);((yield Object(y.d)())===i.c.SignedIn?d.a.getOneServiceParamsWithAuth(null!=o?o:Object(l.b)().UserId,this.ocid,!this.ocidOverride):d.a.getOneServiceParamsWithoutAuth(null!=o?o:Object(l.b)().UserId,this.ocid,!this.ocidOverride)).forEach(e=>{e.value&&u.searchParams.set(e.key,e.value)});try{const e=yield this.fetchImpl(u.href,c);if(e.status>=400){const t=`OneService returned error response. Status: ${e.status} for update weather setting call`;throw new Error(t)}}catch(e){return a.a.logError(e.message),!1}return!0}))}getPdpUserPreference(e={}){return Object(n.a)(this,void 0,void 0,(function*(){const t=yield this.getRequestInit({method:"GET"},e),o=Object(p.c)(this.userUpdateEndpoint);[...(yield Object(y.d)())===i.c.SignedIn?d.a.getOneServiceParamsWithAuth(Object(l.b)().UserId,this.ocid,!this.ocidOverride):d.a.getOneServiceParamsWithoutAuth(Object(l.b)().UserId,this.ocid,!this.ocidOverride)].forEach(e=>{e.value&&o.searchParams.set(e.key,e.value)});try{const e=yield Object(m.b)(()=>Object(n.a)(this,void 0,void 0,(function*(){const e=yield this.fetchImpl(o.href,t);if(!e.ok){if(e.status>=400&&e.status<500&&408!=e.status)return e;throw Error(e.statusText)}return e})),"readPDPData");if(!e.ok)throw Error(`code=${e.status}, ${e.statusText}`);return yield e.json()}catch(e){return a.a.logError(e.message),null}}))}updatePdpLayoutPreference(e){return Object(n.a)(this,void 0,void 0,(function*(){const t={method:"PUT",credentials:"include",body:JSON.stringify({dummyid:{userLayoutPreference:e}})},o=Object(p.c)(this.userUpdateEndpoint);((yield Object(y.d)())===i.c.SignedIn?d.a.getOneServiceParamsWithAuth(Object(l.b)().UserId,this.ocid,!this.ocidOverride):d.a.getOneServiceParamsWithoutAuth(Object(l.b)().UserId,this.ocid,!this.ocidOverride)).forEach(e=>{e.value&&o.searchParams.set(e.key,e.value)});try{const e=yield this.fetchImpl(o.href,t);if(e.status>=400){const t=`OneService returned error response. Status: ${e.status} for update layout preference setting call`;throw new Error(t)}}catch(e){return a.a.logError(e.message),!1}return!0}))}updateSegmentCardsEnableStatus(e){return Object(n.a)(this,void 0,void 0,(function*(){if(!e&&!e.length)return!0;const t='{"segmentCardSettings":"{'+e.map(e=>`\\"${e.cardType}\\":${e.enabled?'\\"1\\"':'\\"0\\"'}`).join(",")+'}"}';return this.updateUserPreference(t)}))}updateCommunitySettingsOptOutStatus(e){return Object(n.a)(this,void 0,void 0,(function*(){if(!e&&!e.length)return!0;const t={};e.forEach(e=>{t[e.settingType]=e.optedOut?"1":"0"});const o={communitySettings:t};return this.updateUserPreference(JSON.stringify(o))}))}updateUserPreference(e){return Object(n.a)(this,void 0,void 0,(function*(){const t={method:"POST",body:e,credentials:"include"},o=Object(p.c)(this.userUpdateEndpoint);((yield Object(y.d)())===i.c.SignedIn?d.a.getOneServiceParamsWithAuth(Object(l.b)().UserId,this.ocid,!this.ocidOverride):d.a.getOneServiceParamsWithoutAuth(Object(l.b)().UserId,this.ocid,!this.ocidOverride)).forEach(e=>{e.value&&o.searchParams.set(e.key,e.value)});try{const n=yield this.fetchImpl(o.href,t);if(n.status>=400){const t=`OneService returned error response while updating user preference. Status: ${n.status}, payload: ${e}`;throw new Error(t)}}catch(e){return!1}return!0}))}setPdpTargetTypesForBulkLoad(e){e&&e.length&&!this.bulkGraphActionTargetTypes&&(this.bulkGraphActionTargetTypes=e)}readPdpWithTargetType(e,t=!1,o,i={},r=!0){return Object(n.a)(this,void 0,void 0,(function*(){if(r){const t=yield this.getFromWebWorker(e);if(t)return t}if(this.bulkGraphActionTargetTypes&&this.bulkGraphActionTargetTypes.length)if(this.bulkGraphActionTargetTypes.indexOf(e)>=0){this.bulkGraphActionResultCache=this.bulkGraphActionResultCache||(yield this.bulkGraphActionPromise||(this.bulkGraphActionPromise=this.fetchPdpWithTargetTypes(this.bulkGraphActionTargetTypes,t,o)));const n=this.bulkGraphActionResultCache.get(e);if(n)return{value:n}}else g.a.sendAppErrorEvent(Object.assign(Object.assign({},s.Gi),{message:`Received an unknown target type "${e}" that was not in the bulk graph action target types list "${this.bulkGraphActionTargetTypes}". Falling back to new network call. Please update the EntryPoint config's "graphActionsToBulkLoad" property to include this type.`}));const n=(yield this.fetchPdpWithTargetTypes([e],t,o,i)).get(e);if(n)return{value:n}}))}deleteFromPdp(e,t,o,r={},a){return Object(n.a)(this,void 0,void 0,(function*(){const s={method:"DELETE",headers:yield this.getOneserviceHeaders(r),credentials:"include"},c=Object(p.c)(this.pdpServiceEndpoint),u=(yield Object(y.d)())===i.c.SignedIn?d.a.getOneServiceParamsWithAuth(Object(l.b)().UserId,this.ocid,!this.ocidOverride):d.a.getOneServiceParamsWithoutAuth(Object(l.b)().UserId,this.ocid,!this.ocidOverride),h=`targetType eq '${e}'`;let g=`actionType eq 'Follow' and (${o.map(e=>`${t} eq '${e}'`).join(" or ")}) and (${h})`;a&&(g+=` and (degree eq '${a}')`),c.searchParams.set("$filter",g),u.forEach(e=>{e.value&&c.searchParams.set(e.key,e.value)});try{yield Object(m.b)(()=>Object(n.a)(this,void 0,void 0,(function*(){const t=yield this.fetchImpl(c.href,s);if(t.status>=400){const o=`OneService returned error response. Status: ${t.status} for actionType: Follow, targetType: ${e}`;throw new Error(o)}return t})),"deleteFromPdp"),this.tryInvalidateBulkFetchedPdpTargetType(e)}catch(e){return!1}return!0}))}tryInvalidateBulkFetchedPdpTargetType(e){this.bulkGraphActionResultCache&&this.bulkGraphActionResultCache.delete(e)}fetchPdpWithTargetTypes(e,t=!1,o,r={}){return Object(n.a)(this,void 0,void 0,(function*(){if(!e.length)return new Map;const a=e.map(e=>`targetType eq '${e}'`).join(" or "),s=[{key:"$top",value:""+(o=o||10*e.length*2)},{key:"$filter",value:`actionType eq 'Follow' and (${a})`}],c=yield this.getRequestInit({method:"GET"},r);!0===t&&(c.cache="no-store");const u=Object(p.c)(this.pdpServiceEndpoint);[...s,...(yield Object(y.d)())===i.c.SignedIn?d.a.getOneServiceParamsWithAuth(Object(l.b)().UserId,this.ocid,!this.ocidOverride):d.a.getOneServiceParamsWithoutAuth(Object(l.b)().UserId,this.ocid,!this.ocidOverride)].forEach(e=>{e.value&&u.searchParams.set(e.key,e.value)});const h=yield Object(m.b)(()=>Object(n.a)(this,void 0,void 0,(function*(){const e=yield this.fetchImpl(u.href,c);if(!e.ok){if(e.status>=400&&e.status<500&&408!=e.status)return e;throw Error(e.statusText)}return e})),"readPDPData");if(!h.ok)throw Error(`code=${h.status}, ${h.statusText}`);const g=new Map,b=yield h.json();if(!b)return g;if(b.value)for(const e of b.value){let t=g.get(e.targetType);t||g.set(e.targetType,t=[]),t.push(e)}for(const t of e)g.get(t)||g.set(t,[]);return g}))}updateMarketPreference(e){return Object(n.a)(this,void 0,void 0,(function*(){const t={method:"POST",credentials:"include",body:JSON.stringify({userSettings:{preferredMarket:e}})},o=Object(p.c)(this.userUpdateEndpoint);((yield Object(y.d)())===i.c.SignedIn?d.a.getOneServiceParamsWithAuth(Object(l.b)().UserId,this.ocid,!this.ocidOverride):d.a.getOneServiceParamsWithoutAuth(Object(l.b)().UserId,this.ocid,!this.ocidOverride)).forEach(e=>{e.value&&o.searchParams.set(e.key,e.value)});try{const e=yield this.fetchImpl(o.href,t);if(!e.ok)throw new Error("Failed to update market preference: Status: "+e.status);return!0}catch(e){return a.a.logError(e.message),!1}}))}getFromWebWorker(e){return Object(n.a)(this,void 0,void 0,(function*(){let t=null;if(u.c){const o=this.maptoWebWorkerId(e);if(o&&o.trim()){const o=yield Object(u.b)({id:this.maptoWebWorkerId(e)});o.fetched&&(t=o.payload)}}return t}))}maptoWebWorkerId(e){switch(e){case h.a.Location:return b.a.WeatherPdp;case h.a.League:return b.a.SportsLeaguePdp;case h.a.Player:return b.a.SportsPlayerPdp;case h.a.Team:return b.a.SportsTeamPdp;case h.a.Finance:return b.a.MoneyPdp;default:return""}}getRequestInit(e={method:"GET"},t={}){return Object(n.a)(this,void 0,void 0,(function*(){const o=yield d.a.getOneServiceHeaders();return e.headers=Object.assign(Object.assign({},o),t),e.credentials="include",e}))}getOneserviceHeaders(e={}){return Object(n.a)(this,void 0,void 0,(function*(){const t=yield d.a.getOneServiceHeaders();return Object.assign(Object.assign({},t),e)}))}getFollowedLists(){return Object(n.a)(this,void 0,void 0,(function*(){const e=yield this.getRequestInit({method:"GET"}),t=Object(p.c)(this.userUpdateEndpoint);[...(yield Object(y.d)())===i.c.SignedIn?d.a.getOneServiceParamsWithAuth(Object(l.b)().UserId,this.ocid,!this.ocidOverride):d.a.getOneServiceParamsWithoutAuth(Object(l.b)().UserId,this.ocid,!this.ocidOverride)].forEach(e=>{e.value&&t.searchParams.set(e.key,e.value)});try{const o=yield Object(m.b)(()=>Object(n.a)(this,void 0,void 0,(function*(){const o=yield this.fetchImpl(t.href,e);if(!o.ok){if(o.status>=400&&o.status<500&&408!=o.status)return o;Object(c.c)(null,s.Yc,"Error get followed list")}return o})),"getFollowedLists");return o.ok||Object(c.c)(null,s.Yc,"Error get followed list"),yield o.json()}catch(e){return a.a.logError(e.message),null}}))}addToFollowedLists(e){return Object(n.a)(this,void 0,void 0,(function*(){const t=h.a.Finance,o={method:"POST",body:JSON.stringify({financeListIds:e}),headers:yield d.a.getOneServiceHeaders(),credentials:"include"},r=Object(p.c)(this.userUpdateEndpoint);let a;((yield Object(y.d)())===i.c.SignedIn?d.a.getOneServiceParamsWithAuth(Object(l.b)().UserId,this.ocid,!this.ocidOverride):d.a.getOneServiceParamsWithoutAuth(Object(l.b)().UserId,this.ocid,!this.ocidOverride)).forEach(e=>{e.value&&r.searchParams.set(e.key,e.value)});try{a=yield Object(m.b)(()=>Object(n.a)(this,void 0,void 0,(function*(){const e=yield this.fetchImpl(r.href,o);if(e.status>=400){const o=`OneService returned error response. Status: ${e.status} for actionType: FollowList, targetType: ${t}`;throw new Error(o)}return e.json()})),"addToFollowedLists")}catch(e){return!1}return!0}))}deleteFromFollowedLists(e){return Object(n.a)(this,void 0,void 0,(function*(){const t=h.a.Finance,o={method:"DELETE",body:null,headers:yield d.a.getOneServiceHeaders(),credentials:"include"},r=Object(p.c)(this.userUpdateEndpoint);let a;[...(yield Object(y.d)())===i.c.SignedIn?d.a.getOneServiceParamsWithAuth(Object(l.b)().UserId,this.ocid,!this.ocidOverride):d.a.getOneServiceParamsWithoutAuth(Object(l.b)().UserId,this.ocid,!this.ocidOverride),...[{key:"financeListIds",value:e.toString()}]].forEach(e=>{e.value&&r.searchParams.set(e.key,e.value)});try{a=yield Object(m.b)(()=>Object(n.a)(this,void 0,void 0,(function*(){const e=yield this.fetchImpl(r.href,o);if(e.status>=400){const o=`OneService returned error response. Status: ${e.status} for actionType: UnFollowList, targetType: ${t}`;throw new Error(o)}return e.json()})),"deleteFromFollowedLists")}catch(e){return!1}return!0}))}}{constructor(){super(Object(v.a)()?window.fetch.bind(window):fetch),l.a.AppType!==r.a.WindowsNewsPlus&&l.a.AppType!==r.a.NewsAndInterests||(this.ocid="winp2",this.ocidOverride=!0),l.a.AppType===r.a.SharedWidgets&&(this.ocid="BingHp01",this.ocidOverride=!0)}}},m2Vd:function(e,t,o){"use strict";var n;o.d(t,"a",(function(){return n})),function(e){e[e.None=0]="None",e[e.JustNow=1]="JustNow",e[e.LessThanOneHour=2]="LessThanOneHour",e[e.Today=3]="Today",e[e.Yesterday=4]="Yesterday",e[e.ThisWeek=5]="ThisWeek",e[e.ThisYear=6]="ThisYear",e[e.FullDate=7]="FullDate",e[e.InMinutes=8]="InMinutes"}(n||(n={}))},mKwt:function(e,t,o){"use strict";o.d(t,"a",(function(){return n}));const n={selectPpeParameter:"oneservice_enable_ppe",renderWithMockData:"render_with_mock_data",externalUrls:{api:"https://assets.msn.com/service/community/",cnApi:"https://assets.msn.cn/service/community/",ppeApi:"https://ppe-api.msn.com/community/",guidelinePage:"https://www.msn.com/en-us/community/guideline",guidelinePageEmbed:"https://www.msn.com/en-us/community/embed/guidelinepage",profilePage:"https://www.msn.com/en-us/community/profile/",channelPage:"https://www.msn.com/en-us/community/channel/",privacySettings:"https://www.msn.com/en-us/settings",profileSettings:"https://account.microsoft.com/profile",feedbackForm:"https://forms.office.com/Pages/ResponsePage.aspx?id=v4j5cvGGr0GRqy180BHbR-V3gf69zQlBm1dJVuXA8mtURVI4UlFHMDRIR0VCWDFWNUQyQU5HVzJJQi4u",moderationEmail:"Appealsprocessor@microsoft.com",newPost:"https://www.msn.com/en-us/community/post/new"},userStateType:{existingUser:"existingUser",anonymous:"anonymous",newUser:"newUser"},userNameStatusType:{normal:"Normal",notAllow:"NotAllow",inReview:"InReview",unknown:"Unknown"},userAvatarStatusType:{normal:"Normal",notAllow:"NotAllow",inReview:"InReview",unknown:"Unknown"},userAgeGroup:{under18:"Under18",above18:"Above18"},userSubType:{default:"Default",publisher:"Publisher",creator:"Creator"},activityType:{follow:"Follow",reply:"Reply",reaction:"Reaction",badge:"Achievement",moderation:"Moderation",commentDeleteAlert:"CommentDeleteAlert",profileBannedAlert:"ProfileBannedAlert",profileErrorAlert:"ProfileErrorAlert"},moderationErrorType:{takedown:"Takedown",ban:"Ban",notAllowName:"NotAllowName",notAllowPicture:"NotAllowPicture",approveUserAppeal:"ApproveUserAppeal",rejectUserAppeal:"RejectUserAppeal",approveProfilePicAppeal:"ApproveProfilePicAppeal",rejectProfilePicAppeal:"RejectProfilePicAppeal",approveCommentAppeal:"ApproveCommentAppeal",rejectCommentAppeal:"RejectCommentAppeal"},visibleStatusType:{Normal:"Normal",DeletedByUser:"DeletedByUser",DeletedByAI:"DeletedByAI",DeletedByHI:"DeletedByHI",InReview:"InReview"},visibleStatusMap:{DeletedByUser:"VisibleStatusDeletedByUser",DeletedByAI:"VisibleStatusDeletedByAI",DeletedByHI:"VisibleStatusDeletedByHI",InReview:"VisibleStatusInReview",Default:"VisibleStatusOther"},commentReportMap:{Spam:"ReportOptSpam",Profanity:"ReportOptProfanity",Abuse:"ReportOptAbuse",RiskyLowAuthority:"ReportOptRiskyLowAuthority",Copyright:"ReportOptCopyright",ChildRelated:"ReportOptChildRelated",Violent:"ReportOptViolent",Danger:"ReportOptDanger",PublicThreats:"ReportOptPublicThreats",Illegal:"ReportOptIllegal",Terrorism:"ReportOptTerrorism",Privacy:"ReportOptPrivacy",Inappropriate:"ReportOptInappropriate",OffTopic:"ReportOptOffTopic"},userNameReportMap:{Spam:"ReportOptSpam",Profanity:"ReportOptProfanity",Abuse:"ReportOptAbuse",RiskyLowAuthority:"ReportOptRiskyLowAuthority",ChildRelated:"ReportOptChildRelated",Violent:"ReportOptViolent",Danger:"ReportOptDanger",PublicThreats:"ReportOptPublicThreats",Illegal:"ReportOptIllegal",Terrorism:"ReportOptTerrorism",Privacy:"ReportOptPrivacy",Inappropriate:"ReportOptInappropriate",OffTopic:"ReportOptOffTopic"},userPictureReportMap:{Spam:"ReportOptSpam",Profanity:"ReportOptProfanity",Abuse:"ReportOptAbuse",RiskyLowAuthority:"ReportOptRiskyLowAuthority",Copyright:"ReportOptCopyright",ChildRelated:"ReportOptChildRelated",Violent:"ReportOptViolent",Danger:"ReportOptDanger",PublicThreats:"ReportOptPublicThreats",Illegal:"ReportOptIllegal",Terrorism:"ReportOptTerrorism",Privacy:"ReportOptPrivacy",Nudity:"ReportOptNudity",NonConsensualIntimateImagery:"ReportOptNonConsensualIntimateImagery",Inappropriate:"ReportOptInappropriate",OffTopic:"ReportOptOffTopic"},reactionOrder:["like","love","surprised","thinking","sad","angry"],profileReportItemMap:{UserName:"ReportUserName",ProfilePicture:"ReportProfilePicture"},profilePageEmptyStates:{NoUser:"NoUser",NotSocialUser:"NotSocialUser"},reactionIconMap:{like:"EmojiLike",love:"EmojiHeart",thinking:"EmojiThinking",surprised:"EmojiSurprised",sad:"EmojiSad",angry:"EmojiAngry"},reactions:{like:"like",love:"love",thinking:"thinking",surprised:"surprised",sad:"sad",angry:"angry"},responsiveLevels:{L0:"cwtl-0",L1:"cwtl-1",L2:"cwtl-2",MobilePopup:"cwt-mobile-popup",articleOneBlock:"cwt-article-one-block"},newCommentErrorCodeMap:{400:"NewPostDeniedMsg",403:"NewPostSessionExpiredMsg",500:"NewPostWentWrongMsg",bodyTooLong:"NewPostTooLongMsg",other:"NewPostWentWrongMsg",0:"NewPostWentWrongMsg",1:"NewPostSessionExpiredMsg",4:"NewPostDeniedMsg",6:"NewPostWentWrongMsg",7:"NewPostWentWrongMsg",8:"NewPostWentWrongMsg",9:"NewPostWentWrongMsg",10:"NewPostWentWrongMsg",11:"NewPostWentWrongMsg",12:"NewPostTooManyCommentsMsg",20:"NewPostTooLongMsg",21:"NewPostMentionMsg",22:"NewPostWentWrongMsg",23:"NewPostWentWrongMsg",24:"NewPostDeniedMsg",25:"NewPostWentWrongMsg",26:"NewPostWentWrongMsg",27:"NewPostWentWrongMsg",28:"NewPostDeniedMsg",29:"NewPostDeniedMsg",30:"NewPostDeniedMsg",31:"NewPostDeniedMsg",32:{1:"NewPostDuplicatedMsg",2:"NewPostDeniedMsg",3:"NewPostDeniedMsg",4:"NewPostDeniedMsg",5:"NewPostDeniedMsg",6:"NewPostDeniedMsg",7:"NewPostDeniedMsg",8:"NewPostDeniedMsg",9:"NewPostDeniedMsg",10:"NewPostDeniedMsg",11:"NewPostDeniedMsg",12:"NewPostDeniedMsg",13:"NewPostDeniedMsg",14:"NewPostDeniedMsg",15:"NewPostDeniedMsg",16:"NewPostDeniedMsg",17:"NewPostLanguageErrorMsg",18:"NewPostURLMsg"}},commentsStatusType:{zero:0,minimal:1,expanded:2,notDetermined:3},theme:{default:{name:"default",disabledComponents:[]},superappBase:{name:"superapp",disabledComponents:[]},windowsBase:{name:"windows",disabledComponents:[]},superappEmbed:{name:"superapp-embed",modalComponents:["reactionbreakdowncomment","reactionbreakdowncontent","onboardingpage","onboardingthirdpartypage","onboardingunderagepage","reportmenu","profilereportmenu","copyrightform","trademarkform"],disabledComponents:["profilepage","guidelinepage","articlepage","multiloginpage","reactionbreakdowncomment","reactionbreakdowncontent","onboardingpage","onboardingthirdpartypage","onboardingunderagepage","notificationtray","reportmenu","profilereportmenu","copyrightform","trademarkform"]},superappFullpage:{name:"superapp-fullpage",modalComponents:["reactionbreakdowncomment","reactionbreakdowncontent","onboardingpage","onboardingthirdpartypage","onboardingunderagepage","reportmenu","profilereportmenu","copyrightform","trademarkform"],disabledComponents:["profilepage","guidelinepage","articlepage","multiloginpage","onboardingthirdpartypage","notificationtray"]}},profileVisitedLocalStorageKey:"self-profile-visited"}},msIb:function(e,t,o){"use strict";o.d(t,"a",(function(){return n}));var n,i=o("D57K"),r=o("rvYQ"),a=o("y+Kz"),s=o("I6Lx"),c=o("wBSZ"),l=o("ax+D"),u=o("BQg2"),d=o("kN1G"),p=o("/+Un"),m=o("HDSB"),h=o("NIfb"),g=o("MptA");!function(e){function t(e=null,t,o=!0,i=null,c=!1,l=Object(d.j)()){const u=Object(r.b)(),p=[{key:a.t.apiKey,value:u.OneServiceApiKey},{key:a.t.activityId,value:u.ActivityId},{key:a.t.ocid,value:o?n(u.TrackInfo,t):t},{key:a.t.market,value:u.CurrentMarket}];e&&p.push({key:a.t.user,value:e});let m=Object(s.a)().CurrentFlights;if(i){m=m?`${m},${i}`:i;const e="prg-bngimg-t";-1===m.indexOf(e)&&(m+=","+e),!0===c&&(m=i)}return m&&p.push({key:a.t.fdhead,value:m}),l&&p.push({key:d.c,value:d.d}),s.b.IsBlendedEnterprise&&p.push({key:"audienceMode",value:"enterprise"}),p}function o(e=Object(d.j)(),t){return Object(i.a)(this,void 0,void 0,(function*(){const o={};if(e&&!(yield Object(d.g)())){const e=yield Object(d.e)(c.c,c.f,c.e);e&&e.token&&t?o[a.s.entAuthorization]=e.token:e&&e.token&&(o[a.s.authorization]="Bearer "+e.token)}if(!Object(m.a)()){const e=Object(h.a)().cookie;e&&(o.Cookie=e);const t=Object(h.a)().referer;t&&(o.Referer=t)}return o}))}function n(e,t){return l.a.isNonNullObject(e)&&l.a.isNonNullObject(e.sitePage)&&Object(g.a)(e.sitePage.page_product)&&Object(g.a)(e.sitePage.page_type)?e.sitePage.page_product+"-"+e.sitePage.page_type+(t?"-"+t:""):t}e.authenticationTicketType="10",e.signedInCookieNameHeader="signedInCookieName",e.userLocationHeader="user-location",e.serviceRequestOnComplete=function(e,t){return Object(i.a)(this,void 0,void 0,(function*(){try{const o=yield e();return t(),o}catch(e){throw t(),e}}))},e.getOneServiceParamsWithoutAuth=t,e.getOneServiceNonDynamicParamsWithoutAuth=function(e,t=!0){const o=Object(r.b)(),i=[{key:a.t.apiKey,value:o.OneServiceApiKey},{key:a.t.ocid,value:t?n(o.TrackInfo,e):e},{key:a.t.market,value:o.CurrentMarket}];return Object(d.j)()&&i.push({key:d.c,value:d.d}),i},e.getOneServiceParamsWithAuth=function(e=null,o,n=!0,i=null,s=!1){const c=Object(r.b)().AuthCookieName,l=[...t(e,o,n,i,s)];return c&&l.push({key:a.t.signInCookieName,value:c.toUpperCase()}),l},e.getOneServiceHeaders=o,e.getOneServiceFeedCallHeaders=function(e,t){return Object(i.a)(this,void 0,void 0,(function*(){const n=yield o(e,t),i=Object(r.b)(),s=i.ActivityId;return i.SendFeedCallActivityIdInHeader&&s&&(n[a.s.activityId]=s),n}))},e.getLocationParams=function(e,t){const o=Object(r.b)(),n=e||o.Latitude,i=t||o.Longitude;return n&&i?{key:a.t.location,value:`${n}|${i}`}:null},e.getOneServiceOCID=n,e.getBaseRequestData=function(t){return Object(i.a)(this,void 0,void 0,(function*(){return{headers:yield e.getOneServiceHeaders(),method:t}}))},e.getCommonParams=function(e,t=!1){return Object(s.a)().UserIsSignedIn?this.getOneServiceParamsWithAuth(Object(r.b)().UserId,e,t):this.getOneServiceParamsWithoutAuth(Object(r.b)().UserId,e,t)},e.getCommonParams2=function(e,t=!0,o=!1){return Object(p.e)()?this.getOneServiceParamsWithAuth(Object(r.b)().UserId,e,t,o):this.getOneServiceParamsWithoutAuth(Object(r.b)().UserId,e,t,o)},e.urlContainsOcidParam=function(e){if(!e)return!1;const t=e.split("?");if(t.length<2)return!1;const o=t[1].split("#")[0];return!!new u.a(o).get("ocid")},e.removeOcidFromUrl=function(e){if(!e)return e;const t=e.split("?");if(t.length<2)return e;const o=t[1].split("#")[0],n=new u.a(o);if(n.get("ocid")){n.delete("ocid");let t=e.replace(o,n.toString());return"?"===t.charAt(t.length-1)&&(t=t.substring(0,t.length-1)),t}return e},e.removeOcidFromRiverCardProviderResponse=function(t){t&&t.cardMetadata&&t.cardMetadata.length&&t.cardMetadata.forEach(t=>{t.cardContent&&t.cardContent.destinationUrl?t.cardContent.destinationUrl=e.removeOcidFromUrl(t.cardContent.destinationUrl):t.subItems&&t.subItems.length&&t.subItems.forEach(t=>{t.cardContent&&t.cardContent.destinationUrl&&(t.cardContent.destinationUrl=e.removeOcidFromUrl(t.cardContent.destinationUrl))})})},e.removeOcidFromWindowsOneServiceResponse=function(t){t&&t.cards&&t.cards.forEach(t=>{t.subCards.forEach(t=>{t.url?t.url=e.removeOcidFromUrl(t.url):t.subCards&&t.subCards.forEach(t=>{t.url&&(t.url=e.removeOcidFromUrl(t.url))})})})}}(n||(n={}))},q77S:function(e,t,o){"use strict";o.d(t,"a",(function(){return n})),o.d(t,"b",(function(){return i}));const n="myReactionIds",i="myReaction"},u8F0:function(e,t,o){"use strict";var n;o.d(t,"a",(function(){return n})),function(e){e.Location="Location",e.Finance="Finance",e.Team="Team",e.League="League",e.Player="Player",e.Traffic="Traffic"}(n||(n={}))},vjdx:function(e,t,o){"use strict";o.d(t,"a",(function(){return u})),o.d(t,"b",(function(){return d}));var n=o("S7gc"),i=o("m2Vd"),r=o("Oa3u");class a{constructor(e,t,o){this.timeLocStrings=e,this.locale=t,this.locUtility=o}transform(e,t,o){if(!e)return"";if(!this.locUtility.supportsLocaleSpecifiers)return t;const n=Object(r.c)(e);switch(Object(r.b)(e)){case i.a.None:return"";case i.a.JustNow:return this.timeLocStrings.JustNow;case i.a.LessThanOneHour:return this.timespanString(n,n<120?this.timeLocStrings.NumberMinuteAgo:this.timeLocStrings.NumberMinutesAgo,60);case i.a.Today:return this.timespanString(n,n<7200?this.timeLocStrings.NumberHourAgo:this.timeLocStrings.NumberHoursAgo,3600);case i.a.Yesterday:if(0===o){const t=this.timeLocStrings.TimeYesterday;return this.locUtility.format(t,this.locUtility.formatTimeFromDate(e,this.locale))}return n<86400?this.timespanString(n,n<7200?this.timeLocStrings.NumberHourAgo:this.timeLocStrings.NumberHoursAgo,3600):this.timespanString(n,n<172800?this.timeLocStrings.NumberDayAgo:this.timeLocStrings.NumberDaysAgo,86400);case i.a.ThisWeek:return 0===o?this.locUtility.format(this.timeLocStrings.TimeDayOfWeek,this.locUtility.localizedWeekday(e,this.locale),this.locUtility.formatTimeFromDate(e,this.locale)):this.timespanString(n,n<172800?this.timeLocStrings.NumberDayAgo:this.timeLocStrings.NumberDaysAgo,86400);case i.a.ThisYear:return this.locUtility.localizedMonthDate(e,this.locale);default:return this.locUtility.localizedDateStringMedium(e,this.locale)}}timespanString(e,t,o){const n=Math.floor(e/o);return this.locUtility.format(t,this.locUtility.localizedNumberString(n,this.locale))}}const s={JustNow:"Just Now",NumberMinuteAgo:"{0} minute ago",NumberMinutesAgo:"{0} minutes ago",NumberHourAgo:"{0} hour ago",NumberHoursAgo:"{0} hours ago",NumberDayAgo:"{0} day ago",NumberDaysAgo:"{0} days ago",NumberWeekAgo:"{0} week",NumberWeeksAgo:"{0} weeks",NumberMonthAgo:"{0} month",NumberMonthsAgo:"{0} months",NumberYearAgo:"{0} year",NumberYearsAgo:"{0} years",TimeYesterday:"Yesterday at {0}",TimeDayOfWeek:"{0} at {1}"},c={Minute:{one:"{0} ",two:"",threeToTen:"{0} ",elevenPlus:"{0} "},Hour:{one:"{0} ",two:"",threeToTen:"{0} ",elevenPlus:"{0} "},Day:{one:"{0} ",two:"",threeToTen:"{0} ",elevenPlus:"{0} "},Week:{one:"{0} ",two:"{0} ",threeToTen:"{0} ",elevenPlus:"{0} "},Month:{one:"{0} ",two:"{0} ",threeToTen:"{0} ",elevenPlus:"{0} "},Year:{one:"{0} ",two:"{0} ",threeToTen:"{0} ",elevenPlus:"{0} "}},l={Week:{one:"{0} ",two:"{0} ",three:"{0} "},Month:{one:"{0} ",two:"{0} ",three:"{0} "},Year:{one:"{0} ",two:"{0} ",three:"{0} "}};function u(e,t,o,i,r,u){const d=t&&t.toLowerCase();if(!(e instanceof Date)||isNaN(e.valueOf()))return"";if(u&&o)return function(e,t,o,n){if(!(e instanceof Date)||isNaN(e.valueOf()))return"";const i=p.MsPerMinute,r=p.MsPerHour,a=p.MsPerDay,s=p.MsPerWeek,u=p.MsPerMonth,d=p.MsPerYear,m=t.getTime()-e.getTime();if(m<i)return o.JustNow||"";let h=d,g="Year";m<r?(h=i,g="Minute"):m<a?(h=r,g="Hour"):m<s?(h=a,g="Day"):m<u?(h=s,g="Week"):m<d&&(h=u,g="Month");const b=/^[Aa][Rr]-/.test(n),v=/^[Hh][Ee]-/.test(n),y=Math.floor(m/h);let f=null;f=b?function(e,t){if(e<2)return c[t].one;if(e<3)return c[t].two;if(e<11)return c[t].threeToTen;return c[t].elevenPlus}(y,g):v?function(e,t,o){if("Minute"==o||"Hour"==o||"Day"==o)return e[`Number${o}${t>1?"s":""}Ago`];if(t<2)return l[o].one;if(t<3)return l[o].two;return l[o].three}(o,y,g):o[`Number${g}${y>1?"s":""}Ago`];return f?f.replace("{0}",y):""}(e,new Date,o,d);if(!o&&"zh-cn"===d)return"";o||(o=s);const m=(r=r||new n.a).localizedDateString(e,d);i||(i=0);return new a(o,d,r).transform(e,m,i)}function d(e){return e.toLocaleString("ja-JP",{hour12:!1,hour:"2-digit",minute:"2-digit",day:"2-digit",month:"2-digit",timeZone:"Asia/Tokyo"}).replace("","").replace("","")}const p={MsPerMinute:6e4,MsPerHour:36e5,MsPerDay:864e5,MsPerWeek:6048e5,MsPerMonth:2592e6,MsPerYear:31104e6}}}]);